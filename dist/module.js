"use strict";var jce=Object.create;var cy=Object.defineProperty;var qce=Object.getOwnPropertyDescriptor;var Mce=Object.getOwnPropertyNames;var Dce=Object.getPrototypeOf,Lce=Object.prototype.hasOwnProperty;var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Fce=(t,e)=>{for(var r in e)cy(t,r,{get:e[r],enumerable:!0})},OM=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Mce(e))!Lce.call(t,n)&&n!==r&&cy(t,n,{get:()=>e[n],enumerable:!(i=qce(e,n))||i.enumerable});return t};var Vr=(t,e,r)=>(r=t!=null?jce(Dce(t)):{},OM(e||!t||!t.__esModule?cy(r,"default",{value:t,enumerable:!0}):r,t)),zce=t=>OM(cy({},"__esModule",{value:!0}),t);var nu=w((vet,kM)=>{"use strict";function Uce(t){var e=new t,r=e;function i(){var s=e;return s.next?e=s.next:(e=new t,r=e),s.next=null,s}function n(s){r.next=s,r=s}return{get:i,release:n}}kM.exports=Uce});var ly=w((bet,PS)=>{"use strict";var Hce=nu();function AM(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var i=Hce(Bce),n=null,s=null,o=0,a=null,c={push:m,drain:mn,saturated:mn,pause:u,paused:!1,get concurrency(){return r},set concurrency($){if(!($>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=$,!c.paused)for(;n&&o<r;)o++,y()},running:l,resume:d,idle:h,length:f,getQueue:p,unshift:v,empty:mn,kill:E,killAndDrain:_,error:b};return c;function l(){return o}function u(){c.paused=!0}function f(){for(var $=n,k=0;$;)$=$.next,k++;return k}function p(){for(var $=n,k=[];$;)k.push($.value),$=$.next;return k}function d(){if(c.paused){if(c.paused=!1,n===null){o++,y();return}for(;n&&o<r;)o++,y()}}function h(){return o===0&&c.length()===0}function m($,k){var O=i.get();O.context=t,O.release=y,O.value=$,O.callback=k||mn,O.errorHandler=a,o>=r||c.paused?s?(s.next=O,s=O):(n=O,s=O,c.saturated()):(o++,e.call(t,O.value,O.worked))}function v($,k){var O=i.get();O.context=t,O.release=y,O.value=$,O.callback=k||mn,O.errorHandler=a,o>=r||c.paused?n?(O.next=n,n=O):(n=O,s=O,c.saturated()):(o++,e.call(t,O.value,O.worked))}function y($){$&&i.release($);var k=n;k&&o<=r?c.paused?o--:(s===n&&(s=null),n=k.next,k.next=null,e.call(t,k.value,k.worked),s===null&&c.empty()):--o===0&&c.drain()}function E(){n=null,s=null,c.drain=mn}function _(){n=null,s=null,c.drain(),c.drain=mn}function b($){a=$}}function mn(){}function Bce(){this.value=null,this.callback=mn,this.next=null,this.release=mn,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,i){var n=t.callback,s=t.errorHandler,o=t.value;t.value=null,t.callback=mn,t.errorHandler&&s(r,o),n.call(t.context,r,i),t.release(t)}}function Vce(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function i(u,f){e.call(this,u).then(function(p){f(null,p)},f)}var n=AM(t,i,r),s=n.push,o=n.unshift;return n.push=a,n.unshift=c,n.drained=l,n;function a(u){var f=new Promise(function(p,d){s(u,function(h,m){if(h){d(h);return}p(m)})});return f.catch(mn),f}function c(u){var f=new Promise(function(p,d){o(u,function(h,m){if(h){d(h);return}p(m)})});return f.catch(mn),f}function l(){if(n.idle())return new Promise(function(p){p()});var u=n.drain,f=new Promise(function(p){n.drain=function(){u(),p()}});return f}}PS.exports=AM;PS.exports.promise=Vce});var ma=w((_et,uy)=>{"use strict";var{format:Wce}=require("node:util");function Gce(){return`${this.name} [${this.code}]: ${this.message}`}function OS(t,e,r=500,i=Error){if(!t)throw new Error("Fastify error code must not be empty");if(!e)throw new Error("Fastify error message must not be empty");t=t.toUpperCase(),!r&&(r=void 0);function n(...s){if(!new.target)return new n(...s);this.code=t,this.name="FastifyError",this.statusCode=r;let o=s.length-1;o!==-1&&s[o]&&typeof s[o]=="object"&&"cause"in s[o]&&(this.cause=s.pop().cause),this.message=Wce(e,...s),Error.stackTraceLimit!==0&&Error.captureStackTrace(this,n)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),n.prototype[Symbol.toStringTag]="Error",n.prototype.toString=Gce,n}uy.exports=OS;uy.exports.default=OS;uy.exports.createError=OS});var fy=w((wet,CM)=>{"use strict";var{createError:ga}=ma();CM.exports={AVV_ERR_EXPOSE_ALREADY_DEFINED:ga("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' is already defined, specify an expose option for '%s'"),AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:ga("AVV_ERR_ATTRIBUTE_ALREADY_DEFINED","'%s' is already defined"),AVV_ERR_CALLBACK_NOT_FN:ga("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:ga("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:ga("AVV_ERR_ROOT_PLG_BOOTED","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:ga("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:ga("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise"),AVV_ERR_PLUGIN_EXEC_TIMEOUT:ga("AVV_ERR_PLUGIN_EXEC_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")}});var su=w((xet,NM)=>{"use strict";var Kce=Symbol("avvio.Boot"),Jce=Symbol("isOnCloseHandler"),Yce=Symbol("avvio.ThenifyDoNotWrap"),Xce=Symbol("avvio.TimeTree.untrackNode"),Zce=Symbol("avvio.TimeTree.trackNode"),Qce=Symbol("avvio.TimeTree.getParent"),ele=Symbol("avvio.TimeTree.getNode"),tle=Symbol("avvio.TimeTree.addNode"),rle=Symbol.for("plugin-meta");NM.exports={kAvvio:Kce,kIsOnCloseHandler:Jce,kThenifyDoNotWrap:Yce,kUntrackNode:Xce,kTrackNode:Zce,kGetParent:Qce,kGetNode:ele,kAddNode:tle,kPluginMeta:rle}});var FM=w((Eet,LM)=>{"use strict";var{kUntrackNode:IM,kTrackNode:kS,kGetParent:jM,kGetNode:qM,kAddNode:MM}=su(),AS=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[kS](e){this.tableId.set(e.id,e),this.tableLabel.has(e.label)?this.tableLabel.get(e.label).push(e):this.tableLabel.set(e.label,[e])}[IM](e){this.tableId.delete(e.id);let r=this.tableLabel.get(e.label);r.pop(),r.length===0&&this.tableLabel.delete(e.label)}[jM](e){if(e===null)return null;if(this.tableLabel.has(e)){let r=this.tableLabel.get(e);return r[r.length-1]}else return null}[qM](e){return this.tableId.get(e)}[MM](e,r,i){let n=this[jM](e);if(n===null)return this.root={parent:null,id:"root",label:r,nodes:[],start:i,stop:null,diff:-1},this[kS](this.root),this.root.id;let o=`${r}-${Math.random()}`,a={parent:e,id:o,label:r,nodes:[],start:i,stop:null,diff:-1};return n.nodes.push(a),this[kS](a),o}start(e,r,i=Date.now()){return this[MM](e,r,i)}stop(e,r=Date.now()){let i=this[qM](e);i&&(i.stop=r,i.diff=i.stop-i.start||0,this[IM](i))}toJSON(){return Object.assign({},this.root)}prettyPrint(){return DM(this.toJSON())}};function DM(t,e=""){let r=e,i=t.nodes.length,n=i-1;r+=`${t.label} ${t.diff} ms
`;for(let s=0;s<i;++s){let o=t.nodes[s],a=e+(s===n?"  ":"\u2502 ");r+=e,r+=s===n?"\u2514\u2500":"\u251C\u2500",r+=o.nodes.length===0?"\u2500 ":"\u252C ",r+=DM(o,a).slice(e.length+2)}return r}LM.exports={TimeTree:AS}});var dy=w((Ret,zM)=>{"use strict";var{debuglog:ile}=require("node:util"),nle=ile("avvio");zM.exports={debug:nle}});var HM=w((Tet,UM)=>{"use strict";function sle(){let t={resolve:null,reject:null,promise:null};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}UM.exports={createPromise:sle}});var VM=w(($et,BM)=>{"use strict";var{kPluginMeta:CS}=su();function ole(t,e){return t[CS]&&t[CS].name?t[CS].name:e&&e.name?e.name:t.name?t.name:t.toString().split(`
`).slice(0,2).map(r=>r.trim()).join(" -- ")}BM.exports={getPluginName:ole}});var py=w((Pet,WM)=>{"use strict";function ale(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}WM.exports={isPromiseLike:ale}});var KM=w((Oet,GM)=>{"use strict";var{EventEmitter:cle}=require("node:events"),{inherits:lle}=require("node:util"),{debug:Wr}=dy(),{createPromise:ule}=HM(),{AVV_ERR_PLUGIN_EXEC_TIMEOUT:fle}=fy(),{getPluginName:dle}=VM(),{isPromiseLike:ple}=py();function ou(t,e,r,i,n){this.queue=t,this.func=e,this.options=r,this.isAfter=i,this.timeout=n,this.started=!1,this.name=dle(e,r),this.queue.pause(),this._error=null,this.loaded=!1,this._promise=null,this.startTime=null}lle(ou,cle);ou.prototype.exec=function(t,e){Wr("exec",this.name),this.server=t;let r=this.func,i=this.name,n=!1;this.options=typeof this.options=="function"?this.options(this.server):this.options;let s=null,o=c=>{if(n){Wr("loading complete",i);return}this._error=c,Wr(c?"exec errored":"exec completed",i),n=!0,s&&clearTimeout(s),e(c)};this.timeout>0&&(Wr("setting up timeout",i,this.timeout),s=setTimeout(function(){Wr("timed out",i),s=null;let c=new fle(i);c.fn=r,o(c)},this.timeout)),this.started=!0,this.startTime=Date.now(),this.emit("start",this.server?this.server.name:null,this.name,Date.now());let a=r(this.server,this.options,o);ple(a)&&(Wr("exec: resolving promise",i),a.then(()=>process.nextTick(o),c=>process.nextTick(o,c)))};ou.prototype.loadedSoFar=function(){if(Wr("loadedSoFar",this.name),this.loaded)return Promise.resolve();let t=()=>{this.server.after((r,i)=>{this._error=r,this.queue.pause(),this._promise&&(r?(Wr("rejecting promise",this.name,r),this._promise.reject(r)):(Wr("resolving promise",this.name),this._promise.resolve()),this._promise=null),process.nextTick(i,r)}),this.queue.resume()},e;return this._promise?e=Promise.resolve():(this._promise=ule(),e=this._promise.promise,this.server?t():this.on("start",t)),e};ou.prototype.enqueue=function(t,e){Wr("enqueue",this.name,t.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.queue.push(t,e)};ou.prototype.finish=function(t,e){Wr("finish",this.name,t);let r=()=>{this.loaded||(Wr("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,e(t))};if(t){this._promise&&(this._promise.reject(t),this._promise=null),r();return}let i=()=>{if(Wr("check",this.name,this.queue.length(),this.queue.running(),this._promise),this.queue.length()===0&&this.queue.running()===0)if(this._promise){let n=()=>{Wr("wrap"),queueMicrotask(i)};this._promise.resolve(),this._promise.promise.then(n,n),this._promise=null}else r();else Wr("delayed",this.name),this.queue.drain=()=>{Wr("drain",this.name),this.queue.drain=hle,queueMicrotask(i)}};queueMicrotask(i),this.queue.resume()};function hle(){}GM.exports={Plugin:ou}});var YM=w((ket,JM)=>{"use strict";var{AVV_ERR_PLUGIN_NOT_VALID:NS}=fy();function mle(t){if(!(t&&(typeof t=="function"||typeof t.then=="function")))throw Array.isArray(t)?new NS("array"):t===null?new NS("null"):new NS(typeof t)}JM.exports={validatePlugin:mle}});var ZM=w((Aet,XM)=>{"use strict";function gle(t){return t!==null&&typeof t=="object"&&typeof t.default=="function"}XM.exports={isBundledOrTypescriptPlugin:gle}});var tD=w((Cet,eD)=>{"use strict";var{debug:QM}=dy(),{kThenifyDoNotWrap:IS}=su();function yle(){if(this.booted){QM("thenify returning undefined because we are already booted");return}if(this[IS]){this[IS]=!1;return}return QM("thenify"),(t,e)=>this._loadRegistered().then(()=>(this[IS]=!0,t(this._server)),e)}eD.exports={thenify:yle}});var iD=w((Net,rD)=>{"use strict";var{isPromiseLike:vle}=py(),{kAvvio:ble}=su();function _le(t,e,r){let i=t.apply(t,e);vle(i)&&!i[ble]?i.then(()=>process.nextTick(r),n=>process.nextTick(r,n)):r&&process.nextTick(r)}rD.exports={executeWithThenable:_le}});var fD=w((Iet,qS)=>{"use strict";var hy=ly(),wle=require("node:events").EventEmitter,xle=require("node:util").inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:Vd,AVV_ERR_CALLBACK_NOT_FN:au,AVV_ERR_ROOT_PLG_BOOTED:Sle,AVV_ERR_READY_TIMEOUT:Ele,AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:Rle}=fy(),{kAvvio:oD,kIsOnCloseHandler:aD}=su(),{TimeTree:Tle}=FM(),{Plugin:cD}=KM(),{debug:cu}=dy(),{validatePlugin:$le}=YM(),{isBundledOrTypescriptPlugin:Ple}=ZM(),{isPromiseLike:Ole}=py(),{thenify:lD}=tD(),{executeWithThenable:nD}=iD();function xr(t,e,r){if(typeof t=="function"&&arguments.length===1&&(r=t,e={},t=null),typeof e=="function"&&(r=e,e={}),e=e||{},e.autostart=e.autostart!==!1,e.timeout=Number(e.timeout)||0,e.expose=e.expose||{},!new.target)return new xr(t,e,r);this._server=t||this,this._opts=e,t&&this._expose(),this._current=[],this._error=null,this._lastUsed=null,this.setMaxListeners(0),r&&this.once("start",r),this.started=!1,this.booted=!1,this.pluginTree=new Tle,this._readyQ=hy(this,uD,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=sD},this._closeQ=hy(this,Ale,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=sD},this._doStart=null;let i=this;this._root=new cD(hy(this,this._loadPluginNextTick,1),function(s,o,a){i._doStart=a,o.autostart&&i.start()},e,!1,0),this._trackPluginLoading(this._root),this._loadPlugin(this._root,n=>{cu("root plugin ready");try{this.emit("preReady"),this._root=null}catch(s){n=n||this._error||s}if(n){if(this._error=n,this._readyQ.length()===0)throw n}else this.booted=!0;this._readyQ.resume()})}xle(xr,wle);xr.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};xr.prototype.override=function(t,e,r){return t};xr.prototype[oD]=!0;xr.prototype.use=function(t,e){return this._lastUsed=this._addPlugin(t,e,!1),this};xr.prototype._loadRegistered=function(){let t=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.queue.resume()),t?t.loadedSoFar():Promise.resolve()};Object.defineProperty(xr.prototype,"then",{get:lD});xr.prototype._addPlugin=function(t,e,r){if(Ple(t)&&(t=t.default),$le(t),e=e||{},this.booted)throw new Sle;let i=this._current[0],n=this._opts.timeout;if(!i.loaded&&i.timeout>0){let o=Date.now()-i.startTime;n=i.timeout-(o+3)}let s=new cD(hy(this,this._loadPluginNextTick,1),t,e,r,n);if(this._trackPluginLoading(s),i.loaded)throw new Error(s.name,i.name);return i.enqueue(s,o=>{o&&(this._error=o)}),s};xr.prototype._expose=function(){let e=this,r=e._server,{use:i="use",after:n="after",ready:s="ready",onClose:o="onClose",close:a="close"}=this._opts.expose;if(r[i])throw new Vd(i,"use");if(r[i]=function(c,l){return e.use(c,l),this},r[n])throw new Vd(n,"after");if(r[n]=function(c){return typeof c!="function"?e._loadRegistered():(e.after(jS(c,this)),this)},r[s])throw new Vd(s,"ready");if(r[s]=function(c){if(c&&typeof c!="function")throw new au(s,typeof c);return e.ready(c?jS(c,this):void 0)},r[o])throw new Vd(o,"onClose");if(r[o]=function(c){if(typeof c!="function")throw new au(o,typeof c);return e.onClose(Cle(c,this)),this},r[a])throw new Vd(a,"close");if(r[a]=function(c){if(c&&typeof c!="function")throw new au(a,typeof c);return c?(e.close(jS(c,this)),this):e.close()},r.then)throw new Rle("then");Object.defineProperty(r,"then",{get:lD.bind(e)}),r[oD]=!0};xr.prototype.after=function(t){if(!t)return this._loadRegistered();this._addPlugin(e.bind(this),{},!0);function e(r,i,n){uD.call(this,t,n)}return this};xr.prototype.onClose=function(t){if(typeof t!="function")throw new au("onClose",typeof t);return t[aD]=!0,this._closeQ.unshift(t,e=>{e&&(this._error=e)}),this};xr.prototype.close=function(t){let e;if(t){if(typeof t!="function")throw new au("close",typeof t)}else e=new Promise(function(r,i){t=function(n){if(n)return i(n);r()}});return this.ready(()=>{this._error=null,this._closeQ.push(t),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),e};xr.prototype.ready=function(t){if(t){if(typeof t!="function")throw new au("ready",typeof t);this._readyQ.push(t),queueMicrotask(this.start.bind(this));return}return new Promise((e,r)=>{this._readyQ.push(n),this.start();let i=this._current[0].server;function n(s,o,a){s?r(s):e(i),process.nextTick(a)}})};xr.prototype._trackPluginLoading=function(t){let e=this._current[0]?.name||null;t.once("start",(r,i,n)=>{let s=this.pluginTree.start(e||null,i,n);t.once("loaded",(o,a,c)=>{this.pluginTree.stop(s,c)})})};xr.prototype.prettyPrint=function(){return this.pluginTree.prettyPrint()};xr.prototype.toJSON=function(){return this.pluginTree.toJSON()};xr.prototype._loadPlugin=function(t,e){let r=this;if(Ole(t.func)){t.func.then(o=>{typeof o.default=="function"&&(o=o.default),t.func=o,this._loadPlugin(t,e)},e);return}let i=r._current[0];if(r._current.unshift(t),r._error&&!t.isAfter){cu("skipping loading of plugin as instance errored and it is not an after",t.name),process.nextTick(s);return}let n=i&&i.server||r._server;if(!t.isAfter)try{n=r.override(n,t.func,t.options)}catch(o){return cu("override errored",t.name),s(o)}t.exec(n,s);function s(o){t.finish(o,a=>{r._current.shift(),e(a)})}};xr.prototype._loadPluginNextTick=function(t,e){process.nextTick(this._loadPlugin.bind(this),t,e)};function sD(){}function uD(t,e){let r=this._server,i=this._error;if(this._error=null,t.length===0)this._error=i,nD(t,[],e);else if(t.length===1)nD(t,[i],e);else if(this._opts.timeout===0){let n=s=>{this._error=s,e(this._error)};t.length===2?t(i,n):t(i,r,n)}else kle.call(this,t,i,r,e)}function kle(t,e,r,i){let n=t.name;cu("setting up ready timeout",n,this._opts.timeout);let s=setTimeout(()=>{cu("timed out",n),s=null;let a=new Ele(n);a.fn=t,this._error=a,i(a)},this._opts.timeout);t.length===2?t(e,o.bind(this)):t(e,r,o.bind(this));function o(a){s&&(clearTimeout(s),this._error=a,i(this._error))}}function Ale(t,e){let r=this._server,i=t[aD];if(t.length===0||t.length===1){let n;i?n=t(r):n=t(this._error),n&&typeof n.then=="function"?(cu("resolving close/onClose promise"),n.then(()=>process.nextTick(e),s=>process.nextTick(e,s))):process.nextTick(e)}else t.length===2?t(i?r:this._error,e):i?t(r,e):t(this._error,r,e)}function Cle(t,e){return r.bind(e);function r(i,n){let s;t.length===0?(s=t(),s&&s.then?s.then(function(){process.nextTick(n)},n):process.nextTick(n)):t.length===1?(s=t(this),s&&s.then?s.then(function(){process.nextTick(n)},n):process.nextTick(n)):t(this,n)}}function jS(t,e){return r.bind(e);function r(i,n){let s;t?t.length===0?(s=t(),s&&s.then?s.then(function(){process.nextTick(n,i)},n):process.nextTick(n,i)):t.length===1?(s=t(i),s&&s.then?s.then(function(){process.nextTick(n)},n):process.nextTick(n)):t.length===2?t(i,n):t(i,this,n):process.nextTick(n)}}qS.exports=xr;qS.exports.express=function(t){return xr(t,{expose:{use:"load"}})}});var Dr=w((jet,dD)=>{"use strict";var Nle={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kServerBindings:Symbol("fastify.serverBindings"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kRouteContext:Symbol("fastify.context"),kPublicRouteContext:Symbol("fastify.routeOptions"),kGenReqId:Symbol("fastify.genReqId"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kSchemaVisited:Symbol("fastify.schemas.visited"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kRequestAcceptVersion:Symbol("fastify.RequestAcceptVersion"),kRequestCacheValidateFns:Symbol("fastify.request.cache.validateFns"),kRequestOriginalUrl:Symbol("fastify.request.originalUrl"),kFourOhFour:Symbol("fastify.404"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReply:Symbol("fastify.Reply"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyTrailers:Symbol("fastify.reply.trailers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplyHijacked:Symbol("fastify.reply.hijacked"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyNextErrorHandler:Symbol("fastify.reply.nextErrorHandler"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kReplyCacheSerializeFns:Symbol("fastify.reply.cache.serializeFns"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler"),kChildLoggerFactory:Symbol("fastify.childLoggerFactory"),kHasBeenDecorated:Symbol("fastify.hasBeenDecorated"),kKeepAliveConnections:Symbol("fastify.keepAliveConnections"),kRouteByFastify:Symbol("fastify.routeByFastify")};dD.exports=Nle});var LS=w((qet,my)=>{"use strict";var{format:MS}=require("node:util");function Ile(t){return pD({...t,name:"DeprecationWarning"})}function pD({name:t,code:e,message:r,unlimited:i=!1}={}){if(!t)throw new Error("Warning name must not be empty");if(!e)throw new Error("Warning code must not be empty");if(!r)throw new Error("Warning message must not be empty");if(typeof i!="boolean")throw new Error("Warning opts.unlimited must be a boolean");e=e.toUpperCase();let n={[t]:function(o,a,c){s.emitted===!0&&s.unlimited!==!0||(s.emitted=!0,process.emitWarning(s.format(o,a,c),s.name,s.code))}};i&&(n={[t]:function(o,a,c){s.emitted=!0,process.emitWarning(s.format(o,a,c),s.name,s.code)}});let s=n[t];return s.emitted=!1,s.message=r,s.unlimited=i,s.code=e,s.format=function(o,a,c){let l;return o&&a&&c?l=MS(r,o,a,c):o&&a?l=MS(r,o,a):o?l=MS(r,o):l=r,l},s}var DS={createWarning:pD,createDeprecation:Ile};my.exports=DS;my.exports.default=DS;my.exports.processWarning=DS});var _o=w((Met,mD)=>{"use strict";var{createDeprecation:Gr,createWarning:hD}=LS(),jle=Gr({code:"FSTDEP005",message:'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.'}),qle=Gr({code:"FSTDEP006",message:"You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s"}),Mle=Gr({code:"FSTDEP007",message:'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.'}),Dle=Gr({code:"FSTDEP008",message:'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.'}),Lle=Gr({code:"FSTDEP009",message:'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.'}),Fle=Gr({code:"FSTDEP010",message:'Modifying the "reply.sent" property is deprecated. Use the "reply.hijack()" method instead.'}),zle=Gr({code:"FSTDEP011",message:'Variadic listen method is deprecated. Please use ".listen(optionsObject)" instead. The variadic signature will be removed in `fastify@5`.'}),Ule=Gr({code:"FSTDEP012",message:'request.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "request.context" will be removed in `fastify@5`.'}),Hle=Gr({code:"FSTDEP013",message:'Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.'}),Ble=Gr({code:"FSTDEP014",message:"You are trying to set/access the default route. This property is deprecated. Please, use setNotFoundHandler if you want to custom a 404 handler or the wildcard (*) to match all routes."}),Vle=Gr({code:"FSTDEP015",message:'You are accessing the deprecated "request.routeSchema" property. Use "request.routeOptions.schema" instead. Property "req.routeSchema" will be removed in `fastify@5`.'}),Wle=Gr({code:"FSTDEP016",message:'You are accessing the deprecated "request.routeConfig" property. Use "request.routeOptions.config" instead. Property "req.routeConfig" will be removed in `fastify@5`.'}),Gle=Gr({code:"FSTDEP017",message:'You are accessing the deprecated "request.routerPath" property. Use "request.routeOptions.url" instead. Property "req.routerPath" will be removed in `fastify@5`.'}),Kle=Gr({code:"FSTDEP018",message:'You are accessing the deprecated "request.routerMethod" property. Use "request.routeOptions.method" instead. Property "req.routerMethod" will be removed in `fastify@5`.'}),Jle=Gr({code:"FSTDEP019",message:'reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.'}),Yle=Gr({code:"FSTDEP020",message:'You are using the deprecated "reply.getResponseTime()" method. Use the "reply.elapsedTime" property instead. Method "reply.getResponseTime()" will be removed in `fastify@5`.'}),Xle=Gr({code:"FSTDEP021",message:"The `reply.redirect()` method has a new signature: `reply.redirect(url: string, code?: number)`. It will be enforced in `fastify@v5`"}),Zle=hD({name:"FastifyWarning",code:"FSTWRN001",message:"The %s schema for %s: %s is missing. This may indicate the schema is not well specified.",unlimited:!0}),Qle=hD({name:"FastifyWarning",code:"FSTWRN002",message:"The %s plugin being registered mixes async and callback styles, which will result in an error in `fastify@5`",unlimited:!0});mD.exports={FSTDEP005:jle,FSTDEP006:qle,FSTDEP007:Mle,FSTDEP008:Dle,FSTDEP009:Lle,FSTDEP010:Fle,FSTDEP011:zle,FSTDEP012:Ule,FSTDEP013:Hle,FSTDEP014:Ble,FSTDEP015:Vle,FSTDEP016:Wle,FSTDEP017:Gle,FSTDEP018:Kle,FSTDEP019:Jle,FSTDEP020:Yle,FSTDEP021:Xle,FSTWRN001:Zle,FSTWRN002:Qle}});var fi=w((Det,gy)=>{"use strict";var ie=ma(),Ec={FST_ERR_NOT_FOUND:ie("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_OPTIONS_NOT_OBJ:ie("FST_ERR_OPTIONS_NOT_OBJ","Options must be an object",500,TypeError),FST_ERR_QSP_NOT_FN:ie("FST_ERR_QSP_NOT_FN","querystringParser option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:ie("FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN","schemaController.bucket option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:ie("FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN","schemaErrorFormatter option should be a non async function. Instead got '%s'.",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:ie("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ","ajv.customOptions option should be an object, instead got '%s'",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:ie("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR","ajv.plugins option should be an array, instead got '%s'",500,TypeError),FST_ERR_VERSION_CONSTRAINT_NOT_STR:ie("FST_ERR_VERSION_CONSTRAINT_NOT_STR","Version constraint should be a string.",500,TypeError),FST_ERR_VALIDATION:ie("FST_ERR_VALIDATION","%s",400),FST_ERR_LISTEN_OPTIONS_INVALID:ie("FST_ERR_LISTEN_OPTIONS_INVALID","Invalid listen options: '%s'",500,TypeError),FST_ERR_ERROR_HANDLER_NOT_FN:ie("FST_ERR_ERROR_HANDLER_NOT_FN","Error Handler must be a function",500,TypeError),FST_ERR_CTP_ALREADY_PRESENT:ie("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:ie("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:ie("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:ie("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:ie("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:ie("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:ie("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:ie("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:ie("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_CTP_INSTANCE_ALREADY_STARTED:ie("FST_ERR_CTP_INSTANCE_ALREADY_STARTED",'Cannot call "%s" when fastify instance is already started!',400),FST_ERR_DEC_ALREADY_PRESENT:ie("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:ie("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array.",500,TypeError),FST_ERR_DEC_MISSING_DEPENDENCY:ie("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:ie("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:ie("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:ie("FST_ERR_HOOK_INVALID_HANDLER","%s hook should be a function, instead got %s",500,TypeError),FST_ERR_HOOK_INVALID_ASYNC_HANDLER:ie("FST_ERR_HOOK_INVALID_ASYNC_HANDLER","Async function has too many arguments. Async hooks should not use the 'done' argument.",500,TypeError),FST_ERR_HOOK_NOT_SUPPORTED:ie("FST_ERR_HOOK_NOT_SUPPORTED","%s hook not supported!",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:ie("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.dev/docs/latest/Reference/Middleware/ for more info.",500),FST_ERR_HOOK_TIMEOUT:ie("FST_ERR_HOOK_TIMEOUT","A callback for '%s' hook timed out. You may have forgotten to call 'done' function or to resolve a Promise"),FST_ERR_LOG_INVALID_DESTINATION:ie("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_LOG_INVALID_LOGGER:ie("FST_ERR_LOG_INVALID_LOGGER","Invalid logger object provided. The logger instance should have these functions(s): '%s'.",500,TypeError),FST_ERR_REP_INVALID_PAYLOAD_TYPE:ie("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_RESPONSE_BODY_CONSUMED:ie("FST_ERR_REP_RESPONSE_BODY_CONSUMED","Response.body is already consumed."),FST_ERR_REP_ALREADY_SENT:ie("FST_ERR_REP_ALREADY_SENT",'Reply was already sent, did you forget to "return reply" in "%s" (%s)?'),FST_ERR_REP_SENT_VALUE:ie("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true.",500,TypeError),FST_ERR_SEND_INSIDE_ONERR:ie("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:ie("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:ie("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_BAD_TRAILER_NAME:ie("FST_ERR_BAD_TRAILER_NAME","Called reply.trailer with an invalid header name: %s"),FST_ERR_BAD_TRAILER_VALUE:ie("FST_ERR_BAD_TRAILER_VALUE","Called reply.trailer('%s', fn) with an invalid type: %s. Expected a function."),FST_ERR_FAILED_ERROR_SERIALIZATION:ie("FST_ERR_FAILED_ERROR_SERIALIZATION","Failed to serialize an error. Error: %s. Original error: %s"),FST_ERR_MISSING_SERIALIZATION_FN:ie("FST_ERR_MISSING_SERIALIZATION_FN",'Missing serialization function. Key "%s"'),FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:ie("FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN",'Missing serialization function. Key "%s:%s"'),FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:ie("FST_ERR_REQ_INVALID_VALIDATION_INVOCATION",'Invalid validation invocation. Missing validation function for HTTP part "%s" nor schema provided.'),FST_ERR_SCH_MISSING_ID:ie("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:ie("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_CONTENT_MISSING_SCHEMA:ie("FST_ERR_SCH_CONTENT_MISSING_SCHEMA","Schema is missing for the content type '%s'"),FST_ERR_SCH_DUPLICATE:ie("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:ie("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:ie("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:ie("FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX",'response schemas should be nested under a valid status code, e.g { 2xx: { type: "object" } }'),FST_ERR_HTTP2_INVALID_VERSION:ie("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:ie("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:ie("FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE","Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method"),FST_ERR_DUPLICATED_ROUTE:ie("FST_ERR_DUPLICATED_ROUTE","Method '%s' already declared for route '%s'"),FST_ERR_BAD_URL:ie("FST_ERR_BAD_URL","'%s' is not a valid url component",400,URIError),FST_ERR_ASYNC_CONSTRAINT:ie("FST_ERR_ASYNC_CONSTRAINT","Unexpected error from async constraint",500),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:ie("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_INVALID_URL:ie("FST_ERR_INVALID_URL","URL must be a string. Received '%s'",400,TypeError),FST_ERR_ROUTE_OPTIONS_NOT_OBJ:ie("FST_ERR_ROUTE_OPTIONS_NOT_OBJ",'Options for "%s:%s" route must be an object',500,TypeError),FST_ERR_ROUTE_DUPLICATED_HANDLER:ie("FST_ERR_ROUTE_DUPLICATED_HANDLER",'Duplicate handler for "%s:%s" route is not allowed!',500),FST_ERR_ROUTE_HANDLER_NOT_FN:ie("FST_ERR_ROUTE_HANDLER_NOT_FN","Error Handler for %s:%s route, if defined, must be a function",500,TypeError),FST_ERR_ROUTE_MISSING_HANDLER:ie("FST_ERR_ROUTE_MISSING_HANDLER",'Missing handler function for "%s:%s" route.',500),FST_ERR_ROUTE_METHOD_INVALID:ie("FST_ERR_ROUTE_METHOD_INVALID","Provided method is invalid!",500,TypeError),FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:ie("FST_ERR_ROUTE_METHOD_NOT_SUPPORTED","%s method is not supported.",500),FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:ie("FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED","Body validation schema for %s:%s route is not supported!",500),FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:ie("FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT","'bodyLimit' option must be an integer > 0. Got '%s'",500,TypeError),FST_ERR_ROUTE_REWRITE_NOT_STR:ie("FST_ERR_ROUTE_REWRITE_NOT_STR",'Rewrite url for "%s" needs to be of type "string" but received "%s"',500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:ie("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:ie("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_INSTANCE_ALREADY_LISTENING:ie("FST_ERR_INSTANCE_ALREADY_LISTENING","Fastify instance is already listening. %s"),FST_ERR_PLUGIN_VERSION_MISMATCH:ie("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed"),FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:ie("FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE","The decorator '%s'%s is not present in %s"),FST_ERR_PLUGIN_CALLBACK_NOT_FN:ie("FST_ERR_PLUGIN_CALLBACK_NOT_FN","fastify-plugin: %s",500,TypeError),FST_ERR_PLUGIN_NOT_VALID:ie("FST_ERR_PLUGIN_NOT_VALID","fastify-plugin: %s"),FST_ERR_ROOT_PLG_BOOTED:ie("FST_ERR_ROOT_PLG_BOOTED","fastify-plugin: %s"),FST_ERR_PARENT_PLUGIN_BOOTED:ie("FST_ERR_PARENT_PLUGIN_BOOTED","fastify-plugin: %s"),FST_ERR_PLUGIN_TIMEOUT:ie("FST_ERR_PLUGIN_TIMEOUT","fastify-plugin: %s")};function eue(t,e){return e.cause=t,e}gy.exports=Ec;gy.exports.appendStackTrace=eue;gy.exports.AVVIO_ERRORS_MAP={AVV_ERR_CALLBACK_NOT_FN:Ec.FST_ERR_PLUGIN_CALLBACK_NOT_FN,AVV_ERR_PLUGIN_NOT_VALID:Ec.FST_ERR_PLUGIN_NOT_VALID,AVV_ERR_ROOT_PLG_BOOTED:Ec.FST_ERR_ROOT_PLG_BOOTED,AVV_ERR_PARENT_PLG_LOADED:Ec.FST_ERR_PARENT_PLUGIN_BOOTED,AVV_ERR_READY_TIMEOUT:Ec.FST_ERR_PLUGIN_TIMEOUT,AVV_ERR_PLUGIN_EXEC_TIMEOUT:Ec.FST_ERR_PLUGIN_TIMEOUT}});var ya=w((Let,ED)=>{"use strict";var tue=["onRoute","onRegister","onReady","onListen","preClose","onClose"],bD=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError","onRequestAbort"],rue=bD.concat(tue),{FST_ERR_HOOK_INVALID_TYPE:iue,FST_ERR_HOOK_INVALID_HANDLER:nue,FST_ERR_SEND_UNDEFINED_ERR:yy,FST_ERR_HOOK_TIMEOUT:sue,FST_ERR_HOOK_NOT_SUPPORTED:oue,AVVIO_ERRORS_MAP:gD,appendStackTrace:yD}=fi(),{kChildren:Wd,kHooks:_D,kRequestPayloadStream:vD}=Dr();function Gd(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onListen=[],this.onTimeout=[],this.onRequestAbort=[],this.preClose=[]}Gd.prototype=Object.create(null);Gd.prototype.validate=function(t,e){if(typeof t!="string")throw new iue;if(Array.isArray(this[t])===!1)throw new oue(t);if(typeof e!="function")throw new nue(t,Object.prototype.toString.call(e))};Gd.prototype.add=function(t,e){this.validate(t,e),this[t].push(e)};function aue(t){let e=new Gd;return e.onRequest=t.onRequest.slice(),e.preParsing=t.preParsing.slice(),e.preValidation=t.preValidation.slice(),e.preSerialization=t.preSerialization.slice(),e.preHandler=t.preHandler.slice(),e.onSend=t.onSend.slice(),e.onResponse=t.onResponse.slice(),e.onError=t.onError.slice(),e.onRoute=t.onRoute.slice(),e.onRegister=t.onRegister.slice(),e.onTimeout=t.onTimeout.slice(),e.onRequestAbort=t.onRequestAbort.slice(),e.onReady=[],e.onListen=[],e.preClose=[],e}function wD(t,e,r,i){let n=r[_D][t],s=0,o=0;c();function a(u){if(u){u.code==="AVV_ERR_READY_TIMEOUT"?u=yD(u,new sue(t)):u=gD[u.code]!=null?yD(u,new gD[u.code](u.message)):u,i(u);return}i()}function c(u){if(u){a(u);return}if(s===n.length&&o===r[Wd].length){s===0&&o===0?a():e(function(p,d){a(p),d(p)});return}if(s===n.length&&o<r[Wd].length){let f=r[Wd][o++];wD(t,e,f,c);return}e(l(n[s++],r)),c()}function l(u,f){return function(p,d){if(p){d(p);return}if(u.length===1){try{u.call(f,d)}catch(h){d(h)}return}try{let h=u.call(f);if(h&&typeof h.then=="function"){h.then(d,d);return}}catch(h){p=h}d(p)}}}function xD(t){let e=t[_D].onListen,r=e.length,i=0,n=0;s();function s(a){if(a&&t.log.error(a),i===r){for(;n<t[Wd].length;){let c=t[Wd][n++];xD(c)}return}o(e[i++],t,s)}async function o(a,c,l){if(a.length===1){try{a.call(c,l)}catch(u){l(u)}return}try{let u=a.call(c);if(u&&typeof u.then=="function"){u.then(l,l);return}l()}catch(u){l(u)}}}function lu(t){return function(r,i,n,s){let o=0;function a(u){if(u||o===r.length){s(u,i,n);return}let f;try{f=t(r[o++],i,n,a)}catch(p){s(p,i,n);return}f&&typeof f.then=="function"&&f.then(c,l)}function c(){a()}function l(u){u||(u=new yy),s(u,i,n)}a()}}function cue(t,e,r,i){return t(e,r,i)}var lue=lu(cue),uue=lu(Kd),fue=lu(Kd),due=lu(Kd),pue=lu(Kd);function SD(t,e,r,i,n){let s=0;function o(l,u){if(l){n(l,e,r,i);return}if(u!==void 0&&(i=u),s===t.length){n(null,e,r,i);return}let f;try{f=t[s++](e,r,i,o)}catch(p){n(p,e,r);return}f&&typeof f.then=="function"&&f.then(a,c)}function a(l){o(null,l)}function c(l){l||(l=new yy),n(l,e,r,i)}o()}var hue=SD;function mue(t,e,r,i){let n=0;function s(c,l){if(r.sent)return;if(l!==void 0&&(e[vD]=l),c||n===t.length){i(c,e,r);return}let u;try{u=t[n++](e,r,e[vD],s)}catch(f){i(f,e,r);return}u&&typeof u.then=="function"&&u.then(o,a)}function o(c){s(null,c)}function a(c){c||(c=new yy),i(c,e,r)}s()}function gue(t,e,r){let i=0;function n(a){if(a||i===t.length){r(a,e);return}let c;try{c=t[i++](e,n)}catch(l){r(l,e);return}c&&typeof c.then=="function"&&c.then(s,o)}function s(){n()}function o(a){a||(a=new yy),r(a,e)}n()}function Kd(t,e,r,i){if(r.sent!==!0)return t(e,r,i)}ED.exports={Hooks:Gd,buildHooks:aue,hookRunnerGenerator:lu,preParsingHookRunner:mue,onResponseHookRunner:lue,onSendHookRunner:SD,preSerializationHookRunner:hue,onRequestAbortHookRunner:gue,hookIterator:Kd,hookRunnerApplication:wD,onListenHookRunner:xD,preHandlerHookRunner:fue,preValidationHookRunner:uue,onRequestHookRunner:pue,onTimeoutHookRunner:due,lifecycleHooks:bD,supportedHooks:rue}});var ID=w((Fet,zS)=>{"use strict";var yue=require("node:http"),vue=require("node:https"),bue=require("node:dns"),{FSTDEP011:RD}=_o(),{kState:di,kOptions:_ue,kServerBindings:wue}=Dr(),{onListenHookRunner:vy}=ya(),{FST_ERR_HTTP2_INVALID_VERSION:xue,FST_ERR_REOPENED_CLOSE_SERVER:PD,FST_ERR_REOPENED_SERVER:OD,FST_ERR_LISTEN_OPTIONS_INVALID:Sue}=fi();zS.exports.createServer=Eue;zS.exports.compileValidateHTTPVersion=Tue;function kD(t){return`Server listening at ${t}`}function Eue(t,e){let r=CD(t,e);function i(n,...s){let o=s.slice(-1).pop(),a=Object.prototype.toString.call(arguments[0]);if(arguments.length===0)n=FS([]);else if(arguments.length>0&&a!=="[object Object]"&&a!=="[object Function]")RD(),n=FS(Array.from(arguments)),o=n.cb;else if(s.length>1){RD();let l=n.path?[n.path]:[n.port??0,n.host??"localhost"];Object.assign(n,FS([...l,...s]))}else n.cb=o;if(n.signal){if(typeof n.signal.on!="function"&&typeof n.signal.addEventListener!="function")throw new Sue("Invalid options.signal");if(n.signal.aborted)this.close();else{let l=()=>{this.close()};n.signal.addEventListener("abort",l,{once:!0})}}let c;if(n.path==null?c=n.host??"localhost":c=n.host,Object.prototype.hasOwnProperty.call(n,"host")===!1&&(n.host=c),c==="localhost"?n.cb=(l,u)=>{if(l){o(l,u);return}TD.call(this,r,e,t,n,()=>{this[di].listening=!0,o(null,u),vy(this)})}:n.cb=(l,u)=>{if(l){o(l,u);return}this[di].listening=!0,o(null,u),vy(this)},o===void 0)return Rue.call(this,r,n).then(u=>new Promise((f,p)=>{c==="localhost"?TD.call(this,r,e,t,n,()=>{this[di].listening=!0,f(u),vy(this)}):(f(u),vy(this))}));this.ready(AD.call(this,r,n))}return{server:r,listen:i}}function TD(t,e,r,i,n){this[di].listening=!1,bue.lookup(i.host,{all:!0},(s,o)=>{if(s){n();return}let a=t.listening&&r.serverFactory,c=0,l=0;if(!a){let f=t.address();for(let p of o)if(p.address!==f.address){c++;let d=Object.assign({},i,{host:p.address,port:f.port,cb:v=>{l++,v||this[wue].push(h),l===c&&n()}}),h=CD(r,e),m=()=>{h.close(()=>{}),r.forceCloseConnections==="idle"?h.closeIdleConnections():typeof h.closeAllConnections=="function"&&r.forceCloseConnections&&h.closeAllConnections()};h.on("upgrade",t.emit.bind(t,"upgrade")),t.on("unref",m),t.on("close",m),t.on("error",m),this[di].listening=!1,AD.call(this,h,d)()}}if(c===0){n();return}let u=t.unref;t.unref=function(){u.call(t),t.emit("unref")}})}function AD(t,e){let r=i=>{if(t.removeListener("error",r),t.removeListener("listening",r),i)this[di].listening=!1,e.cb(i,null);else{let n=ND.call(this,t,e.listenTextResolver||kD);e.cb(null,n)}};return i=>{if(i!=null)return e.cb(i);if(this[di].listening&&this[di].closing)return e.cb(new PD,null);if(this[di].listening)return e.cb(new OD,null);t.once("error",r),this[di].closing||(t.once("listening",r),t.listen(e),this[di].listening=!0)}}function Rue(t,e){return this[di].listening&&this[di].closing?Promise.reject(new PD):this[di].listening?Promise.reject(new OD):this.ready().then(()=>{let r,i;function n(){t.removeListener("error",r),t.removeListener("listening",i)}let s=new Promise((a,c)=>{r=l=>{n(),this[di].listening=!1,c(l)},t.once("error",r)}),o=new Promise((a,c)=>{i=()=>{n(),this[di].listening=!0,a(ND.call(this,t,e.listenTextResolver||kD))},t.once("listening",i)});return t.listen(e),Promise.race([s,o])})}function Tue(t){let e=!1,r=new Map;return t.serverFactory&&(e=!0),t.http2?(r.set("2.0",!0),t.https&&t.https.allowHTTP1===!0&&(r.set("1.1",!0),r.set("1.0",!0))):(r.set("1.1",!0),r.set("1.0",!0)),function(n){return e||r.has(n)}}function CD(t,e){let r=null,i=t.https===!0?{}:t.https;return t.serverFactory?r=t.serverFactory(e,t):t.http2?(typeof i=="object"?r=$D().createSecureServer(i,e):r=$D().createServer(e),r.on("session",Pue(t.http2SessionTimeout))):(i?r=vue.createServer(i,e):r=yue.createServer(t.http,e),r.keepAliveTimeout=t.keepAliveTimeout,r.requestTimeout=t.requestTimeout,t.maxRequestsPerSocket>0&&(r.maxRequestsPerSocket=t.maxRequestsPerSocket)),t.serverFactory||r.setTimeout(t.connectionTimeout),r}function FS(t){if(t.length===0)return{port:0,host:"localhost"};let r={cb:typeof t[t.length-1]=="function"?t.pop():void 0},i=t[0],n=t.length,s=t[n-1];return typeof i=="string"&&isNaN(i)?(r.path=i,r.backlog=n>1?s:void 0):(r.port=n>=1&&Number.isInteger(i)?i:$ue(i),r.host=n>=2&&t[1]?t[1]:"localhost",r.backlog=n>=3?t[2]:void 0),r}function $ue(t){let e=Number(t);return e>=0&&!Number.isNaN(e)&&Number.isInteger(e)?e:0}function ND(t,e){let r=t.address(),i=typeof r=="string";i||(r.address.indexOf(":")===-1?r=r.address+":"+r.port:r="["+r.address+"]:"+r.port),r=(i?"":"http"+(this[_ue].https?"s":"")+"://")+r;let n=e(r);return this.log.info(n),r}function $D(){try{return require("node:http2")}catch{throw new xue}}function Pue(t){return function(e){e.setTimeout(t,Oue)}}function Oue(){this.close()}});var VS=w((zet,qD)=>{"use strict";var{kSchemaHeaders:wy,kSchemaParams:US,kSchemaQuerystring:HS,kSchemaBody:BS,kSchemaResponse:jD}=Dr(),kue=/^[1-5]{1}[0-9]{2}$|^[1-5]xx$|^default$/,{FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:Aue}=fi(),{FSTWRN001:by}=_o();function Cue(t,e){if(!t.schema||!t.schema.response)return;let{method:r,url:i}=t.config||{};t[jD]=Object.keys(t.schema.response).reduce(function(n,s){let o=t.schema.response[s];if(s=s.toLowerCase(),!kue.exec(s))throw new Aue;if(o.content){let a={};for(let c of Object.keys(o.content)){let l=o.content[c].schema;a[c]=e({schema:l,url:i,method:r,httpStatus:s,contentType:c})}n[s]=a}else n[s]=e({schema:o,url:i,method:r,httpStatus:s});return n},{})}function Nue(t,e,r){let{schema:i}=t;if(!i)return;let{method:n,url:s}=t.config||{},o=i.headers;if(o&&(r||Object.getPrototypeOf(o)!==Object.prototype))t[wy]=e({schema:o,method:n,url:s,httpPart:"headers"});else if(o){let a={};Object.keys(o).forEach(c=>{a[c]=o[c]}),a.required instanceof Array&&(a.required=a.required.map(c=>c.toLowerCase())),o.properties&&(a.properties={},Object.keys(o.properties).forEach(c=>{a.properties[c.toLowerCase()]=o.properties[c]})),t[wy]=e({schema:a,method:n,url:s,httpPart:"headers"})}else Object.prototype.hasOwnProperty.call(i,"headers")&&by("headers",n,s);i.body?t[BS]=e({schema:i.body,method:n,url:s,httpPart:"body"}):Object.prototype.hasOwnProperty.call(i,"body")&&by("body",n,s),i.querystring?t[HS]=e({schema:i.querystring,method:n,url:s,httpPart:"querystring"}):Object.prototype.hasOwnProperty.call(i,"querystring")&&by("querystring",n,s),i.params?t[US]=e({schema:i.params,method:n,url:s,httpPart:"params"}):Object.prototype.hasOwnProperty.call(i,"params")&&by("params",n,s)}function _y(t,e,r){let i=e[r]===void 0,n=t&&t(i?null:e[r]);if(n?.then)return n.then(o=>s(o)).catch(o=>o);return s(n);function s(o){return o===!1?t.errors:o&&o.error?o.error:(o&&o.value&&(e[r]=o.value),!1)}}function xy(t,e,r){let i=r===void 0;if(i||!r.skipParams){let s=_y(t[US],e,"params");if(s)return typeof s.then!="function"?va(s,"params",t.schemaErrorFormatter):Iue(s,t,e)}if(i||!r.skipBody){let s=_y(t[BS],e,"body");if(s)return typeof s.then!="function"?va(s,"body",t.schemaErrorFormatter):jue(s,t,e)}if(i||!r.skipQuery){let s=_y(t[HS],e,"query");if(s)return typeof s.then!="function"?va(s,"querystring",t.schemaErrorFormatter):que(s,t,e)}let n=_y(t[wy],e,"headers");return n?typeof n.then!="function"?va(n,"headers",t.schemaErrorFormatter):Mue(n,t,e):!1}function Iue(t,e,r){return t.then(i=>i?va(i,"params",e.schemaErrorFormatter):xy(e,r,{skipParams:!0}))}function jue(t,e,r){return t.then(i=>i?va(i,"body",e.schemaErrorFormatter):xy(e,r,{skipParams:!0,skipBody:!0}))}function que(t,e,r){return t.then(i=>i?va(i,"querystring",e.schemaErrorFormatter):xy(e,r,{skipParams:!0,skipBody:!0,skipQuery:!0}))}function Mue(t,e,r){return t.then(i=>i?va(i,"headers",e.schemaErrorFormatter):!1)}function va(t,e,r){if(t instanceof Error)return t.statusCode=t.statusCode||400,t.code=t.code||"FST_ERR_VALIDATION",t.validationContext=t.validationContext||e,t;let i=r(t,e);return i.statusCode=i.statusCode||400,i.code=i.code||"FST_ERR_VALIDATION",i.validation=t,i.validationContext=e,i}qD.exports={symbols:{bodySchema:BS,querystringSchema:HS,responseSchema:jD,paramsSchema:US,headersSchema:wy},compileSchemasForValidation:Nue,compileSchemasForSerialization:Cue,validate:xy}});var WS=w((Uet,DD)=>{"use strict";var{kReplyIsError:MD,kReplyHijacked:Due}=Dr();function Lue(t,e){t.then(function(r){if(e[Due]!==!0&&(r!==void 0||e.sent===!1&&e.raw.headersSent===!1&&e.request.raw.aborted===!1))try{e.send(r)}catch(i){e[MD]=!0,e.send(i)}},function(r){if(e.sent===!0){e.log.error({err:r},"Promise errored, but reply.sent = true was set");return}e[MD]=!0;try{e.send(r)}catch(i){e.send(i)}})}DD.exports=Lue});var YS=w((Het,JS)=>{"use strict";var{validate:Fue}=VS(),{preValidationHookRunner:zue,preHandlerHookRunner:Uue}=ya(),Hue=WS(),{kReplyIsError:Sy,kRouteContext:_a}=Dr();function Bue(t,e,r){if(r.sent===!0)return;if(t!=null){r[Sy]=!0,r.send(t);return}let i=e.raw.method,n=e.headers,s=e[_a];if(i==="GET"||i==="HEAD"){ba(e,r);return}let o=n["content-type"];if(i==="POST"||i==="PUT"||i==="PATCH"||i==="TRACE"||i==="SEARCH"||i==="PROPFIND"||i==="PROPPATCH"||i==="LOCK"||i==="REPORT"||i==="MKCALENDAR"){o===void 0?n["transfer-encoding"]===void 0&&(n["content-length"]==="0"||n["content-length"]===void 0)?ba(e,r):s.contentTypeParser.run("",ba,e,r):s.contentTypeParser.run(o,ba,e,r);return}if(i==="OPTIONS"||i==="DELETE"){o!==void 0&&(n["transfer-encoding"]!==void 0||n["content-length"]!==void 0)?s.contentTypeParser.run(o,ba,e,r):ba(e,r);return}ba(e,r)}function ba(t,e){try{t[_a].preValidation!==null?zue(t[_a].preValidation,t,e,GS):GS(null,t,e)}catch(r){GS(r,t,e)}}function GS(t,e,r){if(r.sent===!0)return;if(t!=null){r[Sy]=!0,r.send(t);return}let i=Fue(r[_a],e);if(i&&typeof i.then=="function"||!1){let s=LD.bind(null,e,r);i.then(s,s)}else LD(e,r,i)}function LD(t,e,r){if(r){if(e[_a].attachValidation===!1){e.send(r);return}e.request.validationError=r}t[_a].preHandler!==null?Uue(t[_a].preHandler,t,e,KS):KS(null,t,e)}function KS(t,e,r){if(r.sent)return;if(t!=null){r[Sy]=!0,r.send(t);return}let i;try{i=e[_a].handler(e,r)}catch(n){r[Sy]=!0,r.send(n);return}i!==void 0&&(i!==null&&typeof i.then=="function"?Hue(i,r):r.send(i))}JS.exports=Bue;JS.exports[Symbol.for("internals")]={handler:ba,preHandlerCallback:KS}});var zD=w((Bet,FD)=>{"use strict";function uu(){}var Vue={fatal:uu,error:uu,warn:uu,info:uu,debug:uu,trace:uu};Object.defineProperty(FD,"exports",{get(){return Object.create(Vue)}})});var ZS=w((Vet,BD)=>{"use strict";var Jd=t=>t&&typeof t.message=="string",XS=t=>{if(!t)return;let e=t.cause;if(typeof e=="function"){let r=t.cause();return Jd(r)?r:void 0}else return Jd(e)?e:void 0},UD=(t,e)=>{if(!Jd(t))return"";let r=t.stack||"";if(e.has(t))return r+`
causes have become circular...`;let i=XS(t);return i?(e.add(t),r+`
caused by: `+UD(i,e)):r},Wue=t=>UD(t,new Set),HD=(t,e,r)=>{if(!Jd(t))return"";let i=r?"":t.message||"";if(e.has(t))return i+": ...";let n=XS(t);if(n){e.add(t);let s=typeof t.cause=="function";return i+(s?"":": ")+HD(n,e,s)}else return i},Gue=t=>HD(t,new Set);BD.exports={isErrorLike:Jd,getErrorCause:XS,stackWithCauses:Wue,messageWithCauses:Gue}});var QS=w((Wet,WD)=>{"use strict";var Kue=Symbol("circular-ref-tag"),Ey=Symbol("pino-raw-err-ref"),VD=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Ey]},set:function(t){this[Ey]=t}}});Object.defineProperty(VD,Ey,{writable:!0,value:{}});WD.exports={pinoErrProto:VD,pinoErrorSymbols:{seen:Kue,rawSymbol:Ey}}});var JD=w((Get,KD)=>{"use strict";KD.exports=tE;var{messageWithCauses:Jue,stackWithCauses:Yue,isErrorLike:GD}=ZS(),{pinoErrProto:Xue,pinoErrorSymbols:Zue}=QS(),{seen:eE}=Zue,{toString:Que}=Object.prototype;function tE(t){if(!GD(t))return t;t[eE]=void 0;let e=Object.create(Xue);e.type=Que.call(t.constructor)==="[object Function]"?t.constructor.name:t.name,e.message=Jue(t),e.stack=Yue(t),Array.isArray(t.errors)&&(e.aggregateErrors=t.errors.map(r=>tE(r)));for(let r in t)if(e[r]===void 0){let i=t[r];GD(i)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(i,eE)&&(e[r]=tE(i)):e[r]=i}return delete t[eE],e.raw=t,e}});var XD=w((Ket,YD)=>{"use strict";YD.exports=Ty;var{isErrorLike:rE}=ZS(),{pinoErrProto:efe,pinoErrorSymbols:tfe}=QS(),{seen:Ry}=tfe,{toString:rfe}=Object.prototype;function Ty(t){if(!rE(t))return t;t[Ry]=void 0;let e=Object.create(efe);e.type=rfe.call(t.constructor)==="[object Function]"?t.constructor.name:t.name,e.message=t.message,e.stack=t.stack,Array.isArray(t.errors)&&(e.aggregateErrors=t.errors.map(r=>Ty(r))),rE(t.cause)&&!Object.prototype.hasOwnProperty.call(t.cause,Ry)&&(e.cause=Ty(t.cause));for(let r in t)if(e[r]===void 0){let i=t[r];rE(i)?Object.prototype.hasOwnProperty.call(i,Ry)||(e[r]=Ty(i)):e[r]=i}return delete t[Ry],e.raw=t,e}});var tL=w((Jet,eL)=>{"use strict";eL.exports={mapHttpRequest:ife,reqSerializer:QD};var iE=Symbol("pino-raw-req-ref"),ZD=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[iE]},set:function(t){this[iE]=t}}});Object.defineProperty(ZD,iE,{writable:!0,value:{}});function QD(t){let e=t.info||t.socket,r=Object.create(ZD);if(r.id=typeof t.id=="function"?t.id():t.id||(t.info?t.info.id:void 0),r.method=t.method,t.originalUrl)r.url=t.originalUrl;else{let i=t.path;r.url=typeof i=="string"?i:t.url?t.url.path||t.url:void 0}return t.query&&(r.query=t.query),t.params&&(r.params=t.params),r.headers=t.headers,r.remoteAddress=e&&e.remoteAddress,r.remotePort=e&&e.remotePort,r.raw=t.raw||t,r}function ife(t){return{req:QD(t)}}});var sL=w((Yet,nL)=>{"use strict";nL.exports={mapHttpResponse:nfe,resSerializer:iL};var nE=Symbol("pino-raw-res-ref"),rL=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[nE]},set:function(t){this[nE]=t}}});Object.defineProperty(rL,nE,{writable:!0,value:{}});function iL(t){let e=Object.create(rL);return e.statusCode=t.headersSent?t.statusCode:null,e.headers=t.getHeaders?t.getHeaders():t._headers,e.raw=t,e}function nfe(t){return{res:iL(t)}}});var oE=w((Xet,oL)=>{"use strict";var sE=JD(),sfe=XD(),$y=tL(),Py=sL();oL.exports={err:sE,errWithCause:sfe,mapHttpRequest:$y.mapHttpRequest,mapHttpResponse:Py.mapHttpResponse,req:$y.reqSerializer,res:Py.resSerializer,wrapErrorSerializer:function(e){return e===sE?e:function(i){return e(sE(i))}},wrapRequestSerializer:function(e){return e===$y.reqSerializer?e:function(i){return e($y.reqSerializer(i))}},wrapResponseSerializer:function(e){return e===Py.resSerializer?e:function(i){return e(Py.resSerializer(i))}}}});var aE=w((Zet,aL)=>{"use strict";function ofe(t,e){return e}aL.exports=function(){let e=Error.prepareStackTrace;Error.prepareStackTrace=ofe;let r=new Error().stack;if(Error.prepareStackTrace=e,!Array.isArray(r))return;let i=r.slice(2),n=[];for(let s of i)s&&n.push(s.getFileName());return n}});var lL=w((Qet,cL)=>{"use strict";cL.exports=afe;function afe(t={}){let{ERR_PATHS_MUST_BE_STRINGS:e=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=i=>`fast-redact \u2013 Invalid path (${i})`}=t;return function({paths:n}){n.forEach(s=>{if(typeof s!="string")throw Error(e());try{if(//.test(s))throw Error();let o=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(o)||/\/\*/.test(o))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const \u3007 = null;
            o${o}
            if ([o${o}].length !== 1) throw Error()`)()}catch{throw Error(r(s))}})}}});var Oy=w((ett,uL)=>{"use strict";uL.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var dL=w((ttt,fL)=>{"use strict";var cfe=Oy();fL.exports=lfe;function lfe({paths:t}){let e=[];var r=0;let i=t.reduce(function(n,s,o){var a=s.match(cfe).map(u=>u.replace(/'|"|`/g,""));let c=s[0]==="[";a=a.map(u=>u[0]==="["?u.substr(1,u.length-2):u);let l=a.indexOf("*");if(l>-1){let u=a.slice(0,l),f=u.join("."),p=a.slice(l+1,a.length),d=p.length>0;r++,e.push({before:u,beforeStr:f,after:p,nested:d})}else n[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:c};return n},{});return{wildcards:e,wcLen:r,secret:i}}});var hL=w((rtt,pL)=>{"use strict";var ufe=Oy();pL.exports=ffe;function ffe({secret:t,serialize:e,wcLen:r,strict:i,isCensorFct:n,censorFctTakesPath:s},o){let a=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${mfe(i,e)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${dfe(t,n,s)}
    this.compileRestore()
    ${pfe(r>0,n,s)}
    this.secret = originalSecret
    ${hfe(e)}
  `).bind(o);return a.state=o,e===!1&&(a.restore=c=>o.restore(c)),a}function dfe(t,e,r){return Object.keys(t).map(i=>{let{escPath:n,leadingBracket:s,path:o}=t[i],a=s?1:0,c=s?"":".",l=[];for(var u;(u=ufe.exec(i))!==null;){let[,h]=u,{index:m,input:v}=u;m>a&&l.push(v.substring(0,m-(h?0:1)))}var f=l.map(h=>`o${c}${h}`).join(" && ");f.length===0?f+=`o${c}${i} != null`:f+=` && o${c}${i} != null`;let p=`
      switch (true) {
        ${l.reverse().map(h=>`
          case o${c}${h} === censor:
            secret[${n}].circle = ${JSON.stringify(h)}
            break
        `).join(`
`)}
      }
    `,d=r?`val, ${JSON.stringify(o)}`:"val";return`
      if (${f}) {
        const val = o${c}${i}
        if (val === censor) {
          secret[${n}].precensored = true
        } else {
          secret[${n}].val = val
          o${c}${i} = ${e?`censor(${d})`:"censor"}
          ${p}
        }
      }
    `}).join(`
`)}function pfe(t,e,r){return t===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${e}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${e}, ${r})
      }
    }
  `:""}function hfe(t){return t===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function mfe(t,e){return t===!0?"throw Error('fast-redact: primitives cannot be redacted')":e===!1?"return o":"return this.serialize(o)"}});var lE=w((itt,yL)=>{"use strict";yL.exports={groupRedact:yfe,groupRestore:gfe,nestedRedact:bfe,nestedRestore:vfe};function gfe({keys:t,values:e,target:r}){if(r==null||typeof r=="string")return;let i=t.length;for(var n=0;n<i;n++){let s=t[n];r[s]=e[n]}}function yfe(t,e,r,i,n){let s=mL(t,e);if(s==null||typeof s=="string")return{keys:null,values:null,target:s,flat:!0};let o=Object.keys(s),a=o.length,c=e.length,l=n?[...e]:void 0,u=new Array(a);for(var f=0;f<a;f++){let p=o[f];u[f]=s[p],n?(l[c]=p,s[p]=r(s[p],l)):i?s[p]=r(s[p]):s[p]=r}return{keys:o,values:u,target:s,flat:!0}}function vfe(t){for(let e=0;e<t.length;e++){let{target:r,path:i,value:n}=t[e],s=r;for(let o=i.length-1;o>0;o--)s=s[i[o]];s[i[0]]=n}}function bfe(t,e,r,i,n,s,o){let a=mL(e,r);if(a==null)return;let c=Object.keys(a),l=c.length;for(var u=0;u<l;u++){let f=c[u];_fe(t,a,f,r,i,n,s,o)}return t}function cE(t,e){return t!=null?"hasOwn"in Object?Object.hasOwn(t,e):Object.prototype.hasOwnProperty.call(t,e):!1}function _fe(t,e,r,i,n,s,o,a){let c=n.length,l=c-1,u=r;var f=-1,p,d,h,m=null,v=null,y,E,_=!1,b=0,$=0,k=wfe();if(h=p=e[r],typeof p=="object"){for(;p!=null&&++f<c&&($+=1,r=n[f],m=h,!(r!=="*"&&!v&&!(typeof p=="object"&&r in p)));)if(!(r==="*"&&(v==="*"&&(_=!0),v=r,f!==l))){if(v){let N=Object.keys(p);for(var O=0;O<N.length;O++){let L=N[O];if(E=p[L],y=r==="*",_)k=wo(k,L,$),b=f,h=gL(E,b-1,r,i,n,s,o,a,u,p,d,h,y,L,f,l,k,t,e[u],$+1);else if(y||typeof E=="object"&&E!==null&&r in E){if(y?h=E:h=E[r],d=f!==l?h:o?a?s(h,[...i,u,...n]):s(h):s,y){let T=Yd(wo(k,L,$),h,e[u]);t.push(T),p[L]=d}else if(E[r]!==d)if(d===void 0&&s!==void 0||cE(E,r)&&d===h)k=wo(k,L,$);else{k=wo(k,L,$);let T=Yd(wo(k,r,$+1),h,e[u]);t.push(T),E[r]=d}}}v=null}else{if(h=p[r],k=wo(k,r,$),d=f!==l?h:o?a?s(h,[...i,u,...n]):s(h):s,!(cE(p,r)&&d===h||d===void 0&&s!==void 0)){let N=Yd(k,h,e[u]);t.push(N),p[r]=d}p=p[r]}if(typeof p!="object")break}}}function mL(t,e){for(var r=-1,i=e.length,n=t;n!=null&&++r<i;)n=n[e[r]];return n}function gL(t,e,r,i,n,s,o,a,c,l,u,f,p,d,h,m,v,y,E,_){if(e===0&&(p||typeof t=="object"&&t!==null&&r in t)){if(p?f=t:f=t[r],u=h!==m?f:o?a?s(f,[...i,c,...n]):s(f):s,p){let b=Yd(v,f,E);y.push(b),l[d]=u}else if(t[r]!==u){if(!(u===void 0&&s!==void 0||cE(t,r)&&u===f)){let b=Yd(wo(v,r,_+1),f,E);y.push(b),t[r]=u}}}for(let b in t)typeof t[b]=="object"&&(v=wo(v,b,_),gL(t[b],e-1,r,i,n,s,o,a,c,l,u,f,p,d,h,m,v,y,E,_+1))}function wfe(){return{parent:null,key:null,children:[],depth:0}}function wo(t,e,r){if(t.depth===r)return wo(t.parent,e,r);var i={parent:t,key:e,depth:r,children:[]};return t.children.push(i),i}function Yd(t,e,r){let i=t,n=[];do n.push(i.key),i=i.parent;while(i.parent!=null);return{path:n,value:e,target:r}}});var bL=w((ntt,vL)=>{"use strict";var{groupRestore:xfe,nestedRestore:Sfe}=lE();vL.exports=Efe;function Efe(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:e,wcLen:r}=this,i=Object.keys(e),n=Rfe(e,i),s=r>0,o=s?{secret:e,groupRestore:xfe,nestedRestore:Sfe}:{secret:e};this.restore=Function("o",Tfe(n,i,s)).bind(o),this.restore.state=o}}function Rfe(t,e){return e.map(r=>{let{circle:i,escPath:n,leadingBracket:s}=t[r],a=i?`o.${i} = secret[${n}].val`:`o${s?"":"."}${r} = secret[${n}].val`,c=`secret[${n}].val = undefined`;return`
      if (secret[${n}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${c}
      }
    `}).join("")}function Tfe(t,e,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${e.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${t}
    return o
  `}});var wL=w((stt,_L)=>{"use strict";_L.exports=$fe;function $fe(t){let{secret:e,censor:r,compileRestore:i,serialize:n,groupRedact:s,nestedRedact:o,wildcards:a,wcLen:c}=t,l=[{secret:e,censor:r,compileRestore:i}];return n!==!1&&l.push({serialize:n}),c>0&&l.push({groupRedact:s,nestedRedact:o,wildcards:a,wcLen:c}),Object.assign(...l)}});var EL=w((ott,SL)=>{"use strict";var xL=lL(),Pfe=dL(),Ofe=hL(),kfe=bL(),{groupRedact:Afe,nestedRedact:Cfe}=lE(),Nfe=wL(),Ife=Oy(),jfe=xL(),uE=t=>t;uE.restore=uE;var qfe="[REDACTED]";fE.rx=Ife;fE.validator=xL;SL.exports=fE;function fE(t={}){let e=Array.from(new Set(t.paths||[])),r="serialize"in t&&(t.serialize===!1||typeof t.serialize=="function")?t.serialize:JSON.stringify,i=t.remove;if(i===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let n=i===!0?void 0:"censor"in t?t.censor:qfe,s=typeof n=="function",o=s&&n.length>1;if(e.length===0)return r||uE;jfe({paths:e,serialize:r,censor:n});let{wildcards:a,wcLen:c,secret:l}=Pfe({paths:e,censor:n}),u=kfe(),f="strict"in t?t.strict:!0;return Ofe({secret:l,wcLen:c,serialize:r,strict:f,isCensorFct:s,censorFctTakesPath:o},Nfe({secret:l,censor:n,compileRestore:u,serialize:r,groupRedact:Afe,nestedRedact:Cfe,wildcards:a,wcLen:c}))}});var fu=w((att,RL)=>{"use strict";var Mfe=Symbol("pino.setLevel"),Dfe=Symbol("pino.getLevel"),Lfe=Symbol("pino.levelVal"),Ffe=Symbol("pino.levelComp"),zfe=Symbol("pino.useLevelLabels"),Ufe=Symbol("pino.useOnlyCustomLevels"),Hfe=Symbol("pino.mixin"),Bfe=Symbol("pino.lsCache"),Vfe=Symbol("pino.chindings"),Wfe=Symbol("pino.asJson"),Gfe=Symbol("pino.write"),Kfe=Symbol("pino.redactFmt"),Jfe=Symbol("pino.time"),Yfe=Symbol("pino.timeSliceIndex"),Xfe=Symbol("pino.stream"),Zfe=Symbol("pino.stringify"),Qfe=Symbol("pino.stringifySafe"),ede=Symbol("pino.stringifiers"),tde=Symbol("pino.end"),rde=Symbol("pino.formatOpts"),ide=Symbol("pino.messageKey"),nde=Symbol("pino.errorKey"),sde=Symbol("pino.nestedKey"),ode=Symbol("pino.nestedKeyStr"),ade=Symbol("pino.mixinMergeStrategy"),cde=Symbol("pino.msgPrefix"),lde=Symbol("pino.wildcardFirst"),ude=Symbol.for("pino.serializers"),fde=Symbol.for("pino.formatters"),dde=Symbol.for("pino.hooks"),pde=Symbol.for("pino.metadata");RL.exports={setLevelSym:Mfe,getLevelSym:Dfe,levelValSym:Lfe,levelCompSym:Ffe,useLevelLabelsSym:zfe,mixinSym:Hfe,lsCacheSym:Bfe,chindingsSym:Vfe,asJsonSym:Wfe,writeSym:Gfe,serializersSym:ude,redactFmtSym:Kfe,timeSym:Jfe,timeSliceIndexSym:Yfe,streamSym:Xfe,stringifySym:Zfe,stringifySafeSym:Qfe,stringifiersSym:ede,endSym:tde,formatOptsSym:rde,messageKeySym:ide,errorKeySym:nde,nestedKeySym:sde,wildcardFirstSym:lde,needsMetadataGsym:pde,useOnlyCustomLevelsSym:Ufe,formattersSym:fde,hooksSym:dde,nestedKeyStrSym:ode,mixinMergeStrategySym:ade,msgPrefixSym:cde}});var hE=w((ctt,OL)=>{"use strict";var pE=EL(),{redactFmtSym:hde,wildcardFirstSym:ky}=fu(),{rx:dE,validator:mde}=pE,TL=mde({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:t=>`pino \u2013 redact paths array contains an invalid path (${t})`}),$L="[Redacted]",PL=!1;function gde(t,e){let{paths:r,censor:i}=yde(t),n=r.reduce((a,c)=>{dE.lastIndex=0;let l=dE.exec(c),u=dE.exec(c),f=l[1]!==void 0?l[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):l[0];if(f==="*"&&(f=ky),u===null)return a[f]=null,a;if(a[f]===null)return a;let{index:p}=u,d=`${c.substr(p,c.length-1)}`;return a[f]=a[f]||[],f!==ky&&a[f].length===0&&a[f].push(...a[ky]||[]),f===ky&&Object.keys(a).forEach(function(h){a[h]&&a[h].push(d)}),a[f].push(d),a},{}),s={[hde]:pE({paths:r,censor:i,serialize:e,strict:PL})},o=(...a)=>e(typeof i=="function"?i(...a):i);return[...Object.keys(n),...Object.getOwnPropertySymbols(n)].reduce((a,c)=>{if(n[c]===null)a[c]=l=>o(l,[c]);else{let l=typeof i=="function"?(u,f)=>i(u,[c,...f]):i;a[c]=pE({paths:n[c],censor:l,serialize:e,strict:PL})}return a},s)}function yde(t){if(Array.isArray(t))return t={paths:t,censor:$L},TL(t),t;let{paths:e,censor:r=$L,remove:i}=t;if(Array.isArray(e)===!1)throw Error("pino \u2013 redact must contain an array of strings");return i===!0&&(r=void 0),TL({paths:e,censor:r}),{paths:e,censor:r}}OL.exports=gde});var AL=w((ltt,kL)=>{"use strict";var vde=()=>"",bde=()=>`,"time":${Date.now()}`,_de=()=>`,"time":${Math.round(Date.now()/1e3)}`,wde=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;kL.exports={nullTime:vde,epochTime:bde,unixTime:_de,isoTime:wde}});var NL=w((utt,CL)=>{"use strict";function xde(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}CL.exports=Sde;function Sde(t,e,r){var i=r&&r.stringify||xde,n=1;if(typeof t=="object"&&t!==null){var s=e.length+n;if(s===1)return t;var o=new Array(s);o[0]=i(t);for(var a=1;a<s;a++)o[a]=i(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-n,f=-1,p=t&&t.length||0,d=0;d<p;){if(t.charCodeAt(d)===37&&d+1<p){switch(f=f>-1?f:0,t.charCodeAt(d+1)){case 100:case 102:if(u>=c||e[u]==null)break;f<d&&(l+=t.slice(f,d)),l+=Number(e[u]),f=d+2,d++;break;case 105:if(u>=c||e[u]==null)break;f<d&&(l+=t.slice(f,d)),l+=Math.floor(Number(e[u])),f=d+2,d++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;f<d&&(l+=t.slice(f,d));var h=typeof e[u];if(h==="string"){l+="'"+e[u]+"'",f=d+2,d++;break}if(h==="function"){l+=e[u].name||"<anonymous>",f=d+2,d++;break}l+=i(e[u]),f=d+2,d++;break;case 115:if(u>=c)break;f<d&&(l+=t.slice(f,d)),l+=String(e[u]),f=d+2,d++;break;case 37:f<d&&(l+=t.slice(f,d)),l+="%",f=d+2,d++,u--;break}++u}++d}return f===-1?t:(f<p&&(l+=t.slice(f)),l)}});var gE=w((ftt,mE)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let e=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(t,0,0,Number(r))},t=new Int32Array(new SharedArrayBuffer(4));mE.exports=e}else{let t=function(e){if((e>0&&e<1/0)===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let i=Date.now()+Number(e);for(;i>Date.now(););};mE.exports=t}});var zL=w((dtt,FL)=>{"use strict";var Sr=require("fs"),Ede=require("events"),Rde=require("util").inherits,IL=require("path"),vE=gE(),Ay=100,Cy=Buffer.allocUnsafe(0),Tde=16*1024,jL="buffer",qL="utf8";function ML(t,e){e._opening=!0,e._writing=!0,e._asyncDrainScheduled=!1;function r(s,o){if(s){e._reopening=!1,e._writing=!1,e._opening=!1,e.sync?process.nextTick(()=>{e.listenerCount("error")>0&&e.emit("error",s)}):e.emit("error",s);return}let a=e._reopening;e.fd=o,e.file=t,e._reopening=!1,e._opening=!1,e._writing=!1,e.sync?process.nextTick(()=>e.emit("ready")):e.emit("ready"),!e.destroyed&&(!e._writing&&e._len>e.minLength||e._flushPending?e._actualWrite():a&&process.nextTick(()=>e.emit("drain")))}let i=e.append?"a":"w",n=e.mode;if(e.sync)try{e.mkdir&&Sr.mkdirSync(IL.dirname(t),{recursive:!0});let s=Sr.openSync(t,i,n);r(null,s)}catch(s){throw r(s),s}else e.mkdir?Sr.mkdir(IL.dirname(t),{recursive:!0},s=>{if(s)return r(s);Sr.open(t,i,n,r)}):Sr.open(t,i,n,r)}function Qn(t){if(!(this instanceof Qn))return new Qn(t);let{fd:e,dest:r,minLength:i,maxLength:n,maxWrite:s,sync:o,append:a=!0,mkdir:c,retryEAGAIN:l,fsync:u,contentMode:f,mode:p}=t||{};e=e||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(i||0,16387),this.file=null,this.destroyed=!1,this.minLength=i||0,this.maxLength=n||0,this.maxWrite=s||Tde,this.sync=o||!1,this.writable=!0,this._fsync=u||!1,this.append=a||!1,this.mode=p,this.retryEAGAIN=l||(()=>!0),this.mkdir=c||!1;let d,h;if(f===jL)this._writingBuf=Cy,this.write=Ode,this.flush=Ade,this.flushSync=Nde,this._actualWrite=jde,d=()=>Sr.writeSync(this.fd,this._writingBuf),h=()=>Sr.write(this.fd,this._writingBuf,this.release);else if(f===void 0||f===qL)this._writingBuf="",this.write=Pde,this.flush=kde,this.flushSync=Cde,this._actualWrite=Ide,d=()=>Sr.writeSync(this.fd,this._writingBuf,"utf8"),h=()=>Sr.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${qL}" and "${jL}", but passed ${f}`);if(typeof e=="number")this.fd=e,process.nextTick(()=>this.emit("ready"));else if(typeof e=="string")ML(e,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(m,v)=>{if(m){if((m.code==="EAGAIN"||m.code==="EBUSY")&&this.retryEAGAIN(m,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{vE(Ay),this.release(void 0,0)}catch(_){this.release(_)}else setTimeout(h,Ay);else this._writing=!1,this.emit("error",m);return}this.emit("write",v);let y=yE(this._writingBuf,this._len,v);if(this._len=y.len,this._writingBuf=y.writingBuf,this._writingBuf.length){if(!this.sync){h();return}try{do{let _=d(),b=yE(this._writingBuf,this._len,_);this._len=b.len,this._writingBuf=b.writingBuf}while(this._writingBuf.length)}catch(_){this.release(_);return}}this._fsync&&Sr.fsyncSync(this.fd);let E=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):E>this.minLength?this._actualWrite():this._ending?E>0?this._actualWrite():(this._writing=!1,Ny(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick($de,this)):this.emit("drain"))},this.on("newListener",function(m){m==="drain"&&(this._asyncDrainScheduled=!1)})}function yE(t,e,r){return typeof t=="string"&&Buffer.byteLength(t)!==r&&(r=Buffer.from(t).subarray(0,r).toString().length),e=Math.max(e-r,0),t=t.slice(r),{writingBuf:t,len:e}}function $de(t){t.listenerCount("drain")>0&&(t._asyncDrainScheduled=!1,t.emit("drain"))}Rde(Qn,Ede);function DL(t,e){return t.length===0?Cy:t.length===1?t[0]:Buffer.concat(t,e)}function Pde(t){if(this.destroyed)throw new Error("SonicBoom destroyed");let e=this._len+t.length,r=this._bufs;return this.maxLength&&e>this.maxLength?(this.emit("drop",t),this._len<this._hwm):(r.length===0||r[r.length-1].length+t.length>this.maxWrite?r.push(""+t):r[r.length-1]+=t,this._len=e,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function Ode(t){if(this.destroyed)throw new Error("SonicBoom destroyed");let e=this._len+t.length,r=this._bufs,i=this._lens;return this.maxLength&&e>this.maxLength?(this.emit("drop",t),this._len<this._hwm):(r.length===0||i[i.length-1]+t.length>this.maxWrite?(r.push([t]),i.push(t.length)):(r[r.length-1].push(t),i[i.length-1]+=t.length),this._len=e,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function LL(t){this._flushPending=!0;let e=()=>{this._fsync?(this._flushPending=!1,t()):Sr.fsync(this.fd,i=>{this._flushPending=!1,t(i)}),this.off("error",r)},r=i=>{this._flushPending=!1,t(i),this.off("drain",e)};this.once("drain",e),this.once("error",r)}function kde(t){if(t!=null&&typeof t!="function")throw new Error("flush cb must be a function");if(this.destroyed){let e=new Error("SonicBoom destroyed");if(t){t(e);return}throw e}if(this.minLength<=0){t?.();return}t&&LL.call(this,t),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function Ade(t){if(t!=null&&typeof t!="function")throw new Error("flush cb must be a function");if(this.destroyed){let e=new Error("SonicBoom destroyed");if(t){t(e);return}throw e}if(this.minLength<=0){t?.();return}t&&LL.call(this,t),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}Qn.prototype.reopen=function(t){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(t)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(t&&(this.file=t),this._reopening=!0,this._writing)return;let e=this.fd;this.once("ready",()=>{e!==this.fd&&Sr.close(e,r=>{if(r)return this.emit("error",r)})}),ML(this.file,this)};Qn.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():Ny(this)))};function Cde(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let t="";for(;this._bufs.length||t;){t.length<=0&&(t=this._bufs[0]);try{let e=Sr.writeSync(this.fd,t,"utf8"),r=yE(t,this._len,e);t=r.writingBuf,this._len=r.len,t.length<=0&&this._bufs.shift()}catch(e){if((e.code==="EAGAIN"||e.code==="EBUSY")&&!this.retryEAGAIN(e,t.length,this._len-t.length))throw e;vE(Ay)}}try{Sr.fsyncSync(this.fd)}catch{}}function Nde(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=Cy);let t=Cy;for(;this._bufs.length||t.length;){t.length<=0&&(t=DL(this._bufs[0],this._lens[0]));try{let e=Sr.writeSync(this.fd,t);t=t.subarray(e),this._len=Math.max(this._len-e,0),t.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(e){if((e.code==="EAGAIN"||e.code==="EBUSY")&&!this.retryEAGAIN(e,t.length,this._len-t.length))throw e;vE(Ay)}}}Qn.prototype.destroy=function(){this.destroyed||Ny(this)};function Ide(){let t=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let e=Sr.writeSync(this.fd,this._writingBuf,"utf8");t(null,e)}catch(e){t(e)}else Sr.write(this.fd,this._writingBuf,"utf8",t)}function jde(){let t=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:DL(this._bufs.shift(),this._lens.shift()),this.sync)try{let e=Sr.writeSync(this.fd,this._writingBuf);t(null,e)}catch(e){t(e)}else Sr.write(this.fd,this._writingBuf,t)}function Ny(t){if(t.fd===-1){t.once("ready",Ny.bind(null,t));return}t.destroyed=!0,t._bufs=[],t._lens=[],Sr.fsync(t.fd,e);function e(){t.fd!==1&&t.fd!==2?Sr.close(t.fd,r):r()}function r(i){if(i){t.emit("error",i);return}t._ending&&!t._writing&&t.emit("finish"),t.emit("close")}}Qn.SonicBoom=Qn;Qn.default=Qn;FL.exports=Qn});var bE=w((ptt,WL)=>{"use strict";var es={exit:[],beforeExit:[]},UL={exit:Dde,beforeExit:Lde},du;function qde(){du===void 0&&(du=new FinalizationRegistry(Fde))}function Mde(t){es[t].length>0||process.on(t,UL[t])}function HL(t){es[t].length>0||(process.removeListener(t,UL[t]),es.exit.length===0&&es.beforeExit.length===0&&(du=void 0))}function Dde(){BL("exit")}function Lde(){BL("beforeExit")}function BL(t){for(let e of es[t]){let r=e.deref(),i=e.fn;r!==void 0&&i(r,t)}es[t]=[]}function Fde(t){for(let e of["exit","beforeExit"]){let r=es[e].indexOf(t);es[e].splice(r,r+1),HL(e)}}function VL(t,e,r){if(e===void 0)throw new Error("the object can't be undefined");Mde(t);let i=new WeakRef(e);i.fn=r,qde(),du.register(e,i),es[t].push(i)}function zde(t,e){VL("exit",t,e)}function Ude(t,e){VL("beforeExit",t,e)}function Hde(t){if(du!==void 0){du.unregister(t);for(let e of["exit","beforeExit"])es[e]=es[e].filter(r=>{let i=r.deref();return i&&i!==t}),HL(e)}}WL.exports={register:zde,registerBeforeExit:Ude,unregister:Hde}});var GL=w((htt,Bde)=>{Bde.exports={name:"thread-stream",version:"3.1.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{build:"tsc --noEmit",test:'standard && npm run build && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*","test/syntax-error.mjs"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var JL=w((mtt,KL)=>{"use strict";function Vde(t,e,r,i,n){let s=Date.now()+i,o=Atomics.load(t,e);if(o===r){n(null,"ok");return}let a=o,c=l=>{Date.now()>s?n(null,"timed-out"):setTimeout(()=>{a=o,o=Atomics.load(t,e),o===a?c(l>=1e3?1e3:l*2):o===r?n(null,"ok"):n(null,"not-equal")},l)};c(1)}function Wde(t,e,r,i,n){let s=Date.now()+i,o=Atomics.load(t,e);if(o!==r){n(null,"ok");return}let a=c=>{Date.now()>s?n(null,"timed-out"):setTimeout(()=>{o=Atomics.load(t,e),o!==r?n(null,"ok"):a(c>=1e3?1e3:c*2)},c)};a(1)}KL.exports={wait:Vde,waitDiff:Wde}});var XL=w((gtt,YL)=>{"use strict";YL.exports={WRITE_INDEX:4,READ_INDEX:8}});var r2=w((ytt,t2)=>{"use strict";var{version:Gde}=GL(),{EventEmitter:Kde}=require("events"),{Worker:Jde}=require("worker_threads"),{join:Yde}=require("path"),{pathToFileURL:Xde}=require("url"),{wait:Zde}=JL(),{WRITE_INDEX:Wi,READ_INDEX:Ps}=XL(),Qde=require("buffer"),epe=require("assert"),W=Symbol("kImpl"),tpe=Qde.constants.MAX_STRING_LENGTH,Xd=class{constructor(e){this._value=e}deref(){return this._value}},jy=class{register(){}unregister(){}},rpe=process.env.NODE_V8_COVERAGE?jy:global.FinalizationRegistry||jy,ipe=process.env.NODE_V8_COVERAGE?Xd:global.WeakRef||Xd,ZL=new rpe(t=>{t.exited||t.terminate()});function npe(t,e){let{filename:r,workerData:i}=e,s=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||Yde(__dirname,"lib","worker.js"),o=new Jde(s,{...e.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:Xde(r).href,dataBuf:t[W].dataBuf,stateBuf:t[W].stateBuf,workerData:{$context:{threadStreamVersion:Gde},...i}}});return o.stream=new Xd(t),o.on("message",spe),o.on("exit",e2),ZL.register(t,o),o}function QL(t){epe(!t[W].sync),t[W].needDrain&&(t[W].needDrain=!1,t.emit("drain"))}function Iy(t){let e=Atomics.load(t[W].state,Wi),r=t[W].data.length-e;if(r>0){if(t[W].buf.length===0){t[W].flushing=!1,t[W].ending?EE(t):t[W].needDrain&&process.nextTick(QL,t);return}let i=t[W].buf.slice(0,r),n=Buffer.byteLength(i);n<=r?(t[W].buf=t[W].buf.slice(r),qy(t,i,Iy.bind(null,t))):t.flush(()=>{if(!t.destroyed){for(Atomics.store(t[W].state,Ps,0),Atomics.store(t[W].state,Wi,0);n>t[W].data.length;)r=r/2,i=t[W].buf.slice(0,r),n=Buffer.byteLength(i);t[W].buf=t[W].buf.slice(r),qy(t,i,Iy.bind(null,t))}})}else if(r===0){if(e===0&&t[W].buf.length===0)return;t.flush(()=>{Atomics.store(t[W].state,Ps,0),Atomics.store(t[W].state,Wi,0),Iy(t)})}else Os(t,new Error("overwritten"))}function spe(t){let e=this.stream.deref();if(e===void 0){this.exited=!0,this.terminate();return}switch(t.code){case"READY":this.stream=new ipe(e),e.flush(()=>{e[W].ready=!0,e.emit("ready")});break;case"ERROR":Os(e,t.err);break;case"EVENT":Array.isArray(t.args)?e.emit(t.name,...t.args):e.emit(t.name,t.args);break;case"WARNING":process.emitWarning(t.err);break;default:Os(e,new Error("this should not happen: "+t.code))}}function e2(t){let e=this.stream.deref();e!==void 0&&(ZL.unregister(e),e.worker.exited=!0,e.worker.off("exit",e2),Os(e,t!==0?new Error("the worker thread exited"):null))}var wE=class extends Kde{constructor(e={}){if(super(),e.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[W]={},this[W].stateBuf=new SharedArrayBuffer(128),this[W].state=new Int32Array(this[W].stateBuf),this[W].dataBuf=new SharedArrayBuffer(e.bufferSize||4*1024*1024),this[W].data=Buffer.from(this[W].dataBuf),this[W].sync=e.sync||!1,this[W].ending=!1,this[W].ended=!1,this[W].needDrain=!1,this[W].destroyed=!1,this[W].flushing=!1,this[W].ready=!1,this[W].finished=!1,this[W].errored=null,this[W].closed=!1,this[W].buf="",this.worker=npe(this,e),this.on("message",(r,i)=>{this.worker.postMessage(r,i)})}write(e){if(this[W].destroyed)return xE(this,new Error("the worker has exited")),!1;if(this[W].ending)return xE(this,new Error("the worker is ending")),!1;if(this[W].flushing&&this[W].buf.length+e.length>=tpe)try{_E(this),this[W].flushing=!0}catch(r){return Os(this,r),!1}if(this[W].buf+=e,this[W].sync)try{return _E(this),!0}catch(r){return Os(this,r),!1}return this[W].flushing||(this[W].flushing=!0,setImmediate(Iy,this)),this[W].needDrain=this[W].data.length-this[W].buf.length-Atomics.load(this[W].state,Wi)<=0,!this[W].needDrain}end(){this[W].destroyed||(this[W].ending=!0,EE(this))}flush(e){if(this[W].destroyed){typeof e=="function"&&process.nextTick(e,new Error("the worker has exited"));return}let r=Atomics.load(this[W].state,Wi);Zde(this[W].state,Ps,r,1/0,(i,n)=>{if(i){Os(this,i),process.nextTick(e,i);return}if(n==="not-equal"){this.flush(e);return}process.nextTick(e)})}flushSync(){this[W].destroyed||(_E(this),SE(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[W].ready}get destroyed(){return this[W].destroyed}get closed(){return this[W].closed}get writable(){return!this[W].destroyed&&!this[W].ending}get writableEnded(){return this[W].ending}get writableFinished(){return this[W].finished}get writableNeedDrain(){return this[W].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[W].errored}};function xE(t,e){setImmediate(()=>{t.emit("error",e)})}function Os(t,e){t[W].destroyed||(t[W].destroyed=!0,e&&(t[W].errored=e,xE(t,e)),t.worker.exited?setImmediate(()=>{t[W].closed=!0,t.emit("close")}):t.worker.terminate().catch(()=>{}).then(()=>{t[W].closed=!0,t.emit("close")}))}function qy(t,e,r){let i=Atomics.load(t[W].state,Wi),n=Buffer.byteLength(e);return t[W].data.write(e,i),Atomics.store(t[W].state,Wi,i+n),Atomics.notify(t[W].state,Wi),r(),!0}function EE(t){if(!(t[W].ended||!t[W].ending||t[W].flushing)){t[W].ended=!0;try{t.flushSync();let e=Atomics.load(t[W].state,Ps);Atomics.store(t[W].state,Wi,-1),Atomics.notify(t[W].state,Wi);let r=0;for(;e!==-1;){if(Atomics.wait(t[W].state,Ps,e,1e3),e=Atomics.load(t[W].state,Ps),e===-2){Os(t,new Error("end() failed"));return}if(++r===10){Os(t,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{t[W].finished=!0,t.emit("finish")})}catch(e){Os(t,e)}}}function _E(t){let e=()=>{t[W].ending?EE(t):t[W].needDrain&&process.nextTick(QL,t)};for(t[W].flushing=!1;t[W].buf.length!==0;){let r=Atomics.load(t[W].state,Wi),i=t[W].data.length-r;if(i===0){SE(t),Atomics.store(t[W].state,Ps,0),Atomics.store(t[W].state,Wi,0);continue}else if(i<0)throw new Error("overwritten");let n=t[W].buf.slice(0,i),s=Buffer.byteLength(n);if(s<=i)t[W].buf=t[W].buf.slice(i),qy(t,n,e);else{for(SE(t),Atomics.store(t[W].state,Ps,0),Atomics.store(t[W].state,Wi,0);s>t[W].buf.length;)i=i/2,n=t[W].buf.slice(0,i),s=Buffer.byteLength(n);t[W].buf=t[W].buf.slice(i),qy(t,n,e)}}}function SE(t){if(t[W].flushing)throw new Error("unable to flush while flushing");let e=Atomics.load(t[W].state,Wi),r=0;for(;;){let i=Atomics.load(t[W].state,Ps);if(i===-2)throw Error("_flushSync failed");if(i!==e)Atomics.wait(t[W].state,Ps,i,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}t2.exports=wE});var $E=w((vtt,i2)=>{"use strict";var{createRequire:ope}=require("module"),ape=aE(),{join:RE,isAbsolute:cpe,sep:lpe}=require("path"),upe=gE(),TE=bE(),fpe=r2();function dpe(t){TE.register(t,hpe),TE.registerBeforeExit(t,mpe),t.on("close",function(){TE.unregister(t)})}function ppe(t,e,r){let i=new fpe({filename:t,workerData:e,workerOpts:r});i.on("ready",n),i.on("close",function(){process.removeListener("exit",s)}),process.on("exit",s);function n(){process.removeListener("exit",s),i.unref(),r.autoEnd!==!1&&dpe(i)}function s(){i.closed||(i.flushSync(),upe(100),i.end())}return i}function hpe(t){t.ref(),t.flushSync(),t.end(),t.once("close",function(){t.unref()})}function mpe(t){t.flushSync()}function gpe(t){let{pipeline:e,targets:r,levels:i,dedupe:n,worker:s={},caller:o=ape()}=t,a={...t.options},c=typeof o=="string"?[o]:o,l="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},u=t.target;if(u&&r)throw new Error("only one of target or targets can be specified");return r?(u=l["pino-worker"]||RE(__dirname,"worker.js"),a.targets=r.filter(p=>p.target).map(p=>({...p,target:f(p.target)})),a.pipelines=r.filter(p=>p.pipeline).map(p=>p.pipeline.map(d=>({...d,level:p.level,target:f(d.target)})))):e&&(u=l["pino-worker"]||RE(__dirname,"worker.js"),a.pipelines=[e.map(p=>({...p,target:f(p.target)}))]),i&&(a.levels=i),n&&(a.dedupe=n),a.pinoWillSendConfig=!0,ppe(f(u),a,s);function f(p){if(p=l[p]||p,cpe(p)||p.indexOf("file://")===0)return p;if(p==="pino/file")return RE(__dirname,"..","file.js");let d;for(let h of c)try{let m=h==="node:repl"?process.cwd()+lpe:h;d=ope(m).resolve(p);break}catch{continue}if(!d)throw new Error(`unable to determine transport target for "${p}"`);return d}}i2.exports=gpe});var Ly=w((btt,h2)=>{"use strict";var n2=NL(),{mapHttpRequest:ype,mapHttpResponse:vpe}=oE(),OE=zL(),s2=bE(),{lsCacheSym:bpe,chindingsSym:c2,writeSym:o2,serializersSym:l2,formatOptsSym:a2,endSym:_pe,stringifiersSym:u2,stringifySym:f2,stringifySafeSym:kE,wildcardFirstSym:d2,nestedKeySym:wpe,formattersSym:p2,messageKeySym:xpe,errorKeySym:Spe,nestedKeyStrSym:Epe,msgPrefixSym:My}=fu(),{isMainThread:Rpe}=require("worker_threads"),Tpe=$E();function pu(){}function $pe(t,e){if(!e)return r;return function(...n){e.call(this,n,r,t)};function r(i,...n){if(typeof i=="object"){let s=i;i!==null&&(i.method&&i.headers&&i.socket?i=ype(i):typeof i.setHeader=="function"&&(i=vpe(i)));let o;s===null&&n.length===0?o=[null]:(s=n.shift(),o=n),typeof this[My]=="string"&&s!==void 0&&s!==null&&(s=this[My]+s),this[o2](i,n2(s,o,this[a2]),t)}else{let s=i===void 0?n.shift():i;typeof this[My]=="string"&&s!==void 0&&s!==null&&(s=this[My]+s),this[o2](null,n2(s,n,this[a2]),t)}}}function PE(t){let e="",r=0,i=!1,n=255,s=t.length;if(s>100)return JSON.stringify(t);for(var o=0;o<s&&n>=32;o++)n=t.charCodeAt(o),(n===34||n===92)&&(e+=t.slice(r,o)+"\\",r=o,i=!0);return i?e+=t.slice(r):e=t,n<32?JSON.stringify(t):'"'+e+'"'}function Ppe(t,e,r,i){let n=this[f2],s=this[kE],o=this[u2],a=this[_pe],c=this[c2],l=this[l2],u=this[p2],f=this[xpe],p=this[Spe],d=this[bpe][r]+i;d=d+c;let h;u.log&&(t=u.log(t));let m=o[d2],v="";for(let E in t)if(h=t[E],Object.prototype.hasOwnProperty.call(t,E)&&h!==void 0){l[E]?h=l[E](h):E===p&&l.err&&(h=l.err(h));let _=o[E]||m;switch(typeof h){case"undefined":case"function":continue;case"number":Number.isFinite(h)===!1&&(h=null);case"boolean":_&&(h=_(h));break;case"string":h=(_||PE)(h);break;default:h=(_||n)(h,s)}if(h===void 0)continue;let b=PE(E);v+=","+b+":"+h}let y="";if(e!==void 0){h=l[f]?l[f](e):e;let E=o[f]||m;switch(typeof h){case"function":break;case"number":Number.isFinite(h)===!1&&(h=null);case"boolean":E&&(h=E(h)),y=',"'+f+'":'+h;break;case"string":h=(E||PE)(h),y=',"'+f+'":'+h;break;default:h=(E||n)(h,s),y=',"'+f+'":'+h}}return this[wpe]&&v?d+this[Epe]+v.slice(1)+"}"+y+a:d+v+y+a}function Ope(t,e){let r,i=t[c2],n=t[f2],s=t[kE],o=t[u2],a=o[d2],c=t[l2],l=t[p2].bindings;e=l(e);for(let u in e)if(r=e[u],(u!=="level"&&u!=="serializers"&&u!=="formatters"&&u!=="customLevels"&&e.hasOwnProperty(u)&&r!==void 0)===!0){if(r=c[u]?c[u](r):r,r=(o[u]||a||n)(r,s),r===void 0)continue;i+=',"'+u+'":'+r}return i}function kpe(t){return t.write!==t.constructor.prototype.write}var Ape=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function Dy(t){let e=new OE(t);return e.on("error",r),!Ape&&!t.sync&&Rpe&&(s2.register(e,Cpe),e.on("close",function(){s2.unregister(e)})),e;function r(i){if(i.code==="EPIPE"){e.write=pu,e.end=pu,e.flushSync=pu,e.destroy=pu;return}e.removeListener("error",r),e.emit("error",i)}}function Cpe(t,e){t.destroyed||(e==="beforeExit"?(t.flush(),t.on("drain",function(){t.end()})):t.flushSync())}function Npe(t){return function(r,i,n={},s){if(typeof n=="string")s=Dy({dest:n}),n={};else if(typeof s=="string"){if(n&&n.transport)throw Error("only one of option.transport or stream can be specified");s=Dy({dest:s})}else if(n instanceof OE||n.writable||n._writableState)s=n,n={};else if(n.transport){if(n.transport instanceof OE||n.transport.writable||n.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(n.transport.targets&&n.transport.targets.length&&n.formatters&&typeof n.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let c;n.customLevels&&(c=n.useOnlyCustomLevels?n.customLevels:Object.assign({},n.levels,n.customLevels)),s=Tpe({caller:i,...n.transport,levels:c})}if(n=Object.assign({},t,n),n.serializers=Object.assign({},t.serializers,n.serializers),n.formatters=Object.assign({},t.formatters,n.formatters),n.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:a}=n;return o===!1&&(n.level="silent"),a||(n.onChild=pu),s||(kpe(process.stdout)?s=process.stdout:s=Dy({fd:process.stdout.fd||1})),{opts:n,stream:s}}}function Ipe(t,e){try{return JSON.stringify(t)}catch{try{return(e||this[kE])(t)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function jpe(t,e,r){return{level:t,bindings:e,log:r}}function qpe(t){let e=Number(t);return typeof t=="string"&&Number.isFinite(e)?e:t===void 0?1:t}h2.exports={noop:pu,buildSafeSonicBoom:Dy,asChindings:Ope,asJson:Ppe,genLog:$pe,createArgsNormalizer:Npe,stringify:Ipe,buildFormatters:jpe,normalizeDestFileDescriptor:qpe}});var Fy=w((_tt,m2)=>{var Mpe={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Dpe={ASC:"ASC",DESC:"DESC"};m2.exports={DEFAULT_LEVELS:Mpe,SORTING_ORDER:Dpe}});var NE=w((wtt,b2)=>{"use strict";var{lsCacheSym:Lpe,levelValSym:AE,useOnlyCustomLevelsSym:Fpe,streamSym:zpe,formattersSym:Upe,hooksSym:Hpe,levelCompSym:g2}=fu(),{noop:Bpe,genLog:Rc}=Ly(),{DEFAULT_LEVELS:ks,SORTING_ORDER:y2}=Fy(),v2={fatal:t=>{let e=Rc(ks.fatal,t);return function(...r){let i=this[zpe];if(e.call(this,...r),typeof i.flushSync=="function")try{i.flushSync()}catch{}}},error:t=>Rc(ks.error,t),warn:t=>Rc(ks.warn,t),info:t=>Rc(ks.info,t),debug:t=>Rc(ks.debug,t),trace:t=>Rc(ks.trace,t)},CE=Object.keys(ks).reduce((t,e)=>(t[ks[e]]=e,t),{}),Vpe=Object.keys(CE).reduce((t,e)=>(t[e]='{"level":'+Number(e),t),{});function Wpe(t){let e=t[Upe].level,{labels:r}=t.levels,i={};for(let n in r){let s=e(r[n],Number(n));i[n]=JSON.stringify(s).slice(0,-1)}return t[Lpe]=i,t}function Gpe(t,e){if(e)return!1;switch(t){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function Kpe(t){let{labels:e,values:r}=this.levels;if(typeof t=="number"){if(e[t]===void 0)throw Error("unknown level value"+t);t=e[t]}if(r[t]===void 0)throw Error("unknown level "+t);let i=this[AE],n=this[AE]=r[t],s=this[Fpe],o=this[g2],a=this[Hpe].logMethod;for(let c in r){if(o(r[c],n)===!1){this[c]=Bpe;continue}this[c]=Gpe(c,s)?v2[c](a):Rc(r[c],a)}this.emit("level-change",t,n,e[i],i,this)}function Jpe(t){let{levels:e,levelVal:r}=this;return e&&e.labels?e.labels[r]:""}function Ype(t){let{values:e}=this.levels,r=e[t];return r!==void 0&&this[g2](r,this[AE])}function Xpe(t,e,r){return t===y2.DESC?e<=r:e>=r}function Zpe(t){return typeof t=="string"?Xpe.bind(null,t):t}function Qpe(t=null,e=!1){let r=t?Object.keys(t).reduce((s,o)=>(s[t[o]]=o,s),{}):null,i=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),e?null:CE,r),n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),e?null:ks,t);return{labels:i,values:n}}function ehe(t,e,r){if(typeof t=="number"){if(![].concat(Object.keys(e||{}).map(s=>e[s]),r?[]:Object.keys(CE).map(s=>+s),1/0).includes(t))throw Error(`default level:${t} must be included in custom levels`);return}let i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:ks,e);if(!(t in i))throw Error(`default level:${t} must be included in custom levels`)}function the(t,e){let{labels:r,values:i}=t;for(let n in e){if(n in i)throw Error("levels cannot be overridden");if(e[n]in r)throw Error("pre-existing level values cannot be used for new levels")}}function rhe(t){if(typeof t!="function"&&!(typeof t=="string"&&Object.values(y2).includes(t)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}b2.exports={initialLsCache:Vpe,genLsCache:Wpe,levelMethods:v2,getLevel:Jpe,setLevel:Kpe,isLevelEnabled:Ype,mappings:Qpe,assertNoLevelCollisions:the,assertDefaultLevelFound:ehe,genLevelComparison:Zpe,assertLevelComparison:rhe}});var IE=w((xtt,_2)=>{"use strict";_2.exports={version:"9.2.0"}});var A2=w((Ett,k2)=>{"use strict";var{EventEmitter:ihe}=require("events"),{lsCacheSym:nhe,levelValSym:she,setLevelSym:qE,getLevelSym:w2,chindingsSym:ME,parsedChindingsSym:ohe,mixinSym:ahe,asJsonSym:T2,writeSym:che,mixinMergeStrategySym:lhe,timeSym:uhe,timeSliceIndexSym:fhe,streamSym:$2,serializersSym:Tc,formattersSym:jE,errorKeySym:dhe,messageKeySym:phe,useOnlyCustomLevelsSym:hhe,needsMetadataGsym:mhe,redactFmtSym:ghe,stringifySym:yhe,formatOptsSym:vhe,stringifiersSym:bhe,msgPrefixSym:x2}=fu(),{getLevel:_he,setLevel:whe,isLevelEnabled:xhe,mappings:She,initialLsCache:Ehe,genLsCache:Rhe,assertNoLevelCollisions:The}=NE(),{asChindings:P2,asJson:$he,buildFormatters:S2,stringify:E2}=Ly(),{version:Phe}=IE(),Ohe=hE(),khe=class{},O2={constructor:khe,child:Ahe,bindings:Che,setBindings:Nhe,flush:Mhe,isLevelEnabled:xhe,version:Phe,get level(){return this[w2]()},set level(t){this[qE](t)},get levelVal(){return this[she]},set levelVal(t){throw Error("levelVal is read-only")},[nhe]:Ehe,[che]:jhe,[T2]:$he,[w2]:_he,[qE]:whe};Object.setPrototypeOf(O2,ihe.prototype);k2.exports=function(){return Object.create(O2)};var R2=t=>t;function Ahe(t,e){if(!t)throw Error("missing bindings for child Pino");e=e||{};let r=this[Tc],i=this[jE],n=Object.create(this);if(e.hasOwnProperty("serializers")===!0){n[Tc]=Object.create(null);for(let u in r)n[Tc][u]=r[u];let c=Object.getOwnPropertySymbols(r);for(var s=0;s<c.length;s++){let u=c[s];n[Tc][u]=r[u]}for(let u in e.serializers)n[Tc][u]=e.serializers[u];let l=Object.getOwnPropertySymbols(e.serializers);for(var o=0;o<l.length;o++){let u=l[o];n[Tc][u]=e.serializers[u]}}else n[Tc]=r;if(e.hasOwnProperty("formatters")){let{level:c,bindings:l,log:u}=e.formatters;n[jE]=S2(c||i.level,l||R2,u||i.log)}else n[jE]=S2(i.level,R2,i.log);if(e.hasOwnProperty("customLevels")===!0&&(The(this.levels,e.customLevels),n.levels=She(e.customLevels,n[hhe]),Rhe(n)),typeof e.redact=="object"&&e.redact!==null||Array.isArray(e.redact)){n.redact=e.redact;let c=Ohe(n.redact,E2),l={stringify:c[ghe]};n[yhe]=E2,n[bhe]=c,n[vhe]=l}typeof e.msgPrefix=="string"&&(n[x2]=(this[x2]||"")+e.msgPrefix),n[ME]=P2(n,t);let a=e.level||this.level;return n[qE](a),this.onChild(n),n}function Che(){let e=`{${this[ME].substr(1)}}`,r=JSON.parse(e);return delete r.pid,delete r.hostname,r}function Nhe(t){let e=P2(this,t);this[ME]=e,delete this[ohe]}function Ihe(t,e){return Object.assign(e,t)}function jhe(t,e,r){let i=this[uhe](),n=this[ahe],s=this[dhe],o=this[phe],a=this[lhe]||Ihe,c;t==null?c={}:t instanceof Error?(c={[s]:t},e===void 0&&(e=t.message)):(c=t,e===void 0&&t[o]===void 0&&t[s]&&(e=t[s].message)),n&&(c=a(c,n(c,r,this)));let l=this[T2](c,e,r,i),u=this[$2];u[mhe]===!0&&(u.lastLevel=r,u.lastObj=c,u.lastMsg=e,u.lastTime=i.slice(this[fhe]),u.lastLogger=this),u.write(l)}function qhe(){}function Mhe(t){if(t!=null&&typeof t!="function")throw Error("callback must be a function");let e=this[$2];typeof e.flush=="function"?e.flush(t||qhe):t&&t()}});var UE=w((zE,j2)=>{"use strict";var{hasOwnProperty:zy}=Object.prototype,Pc=FE();Pc.configure=FE;Pc.stringify=Pc;Pc.default=Pc;zE.stringify=Pc;zE.configure=FE;j2.exports=Pc;var Dhe=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function wa(t){return t.length<5e3&&!Dhe.test(t)?`"${t}"`:JSON.stringify(t)}function DE(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let r=t[e],i=e;for(;i!==0&&t[i-1]>r;)t[i]=t[i-1],i--;t[i]=r}return t}var Lhe=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function LE(t){return Lhe.call(t)!==void 0&&t.length!==0}function C2(t,e,r){t.length<r&&(r=t.length);let i=e===","?"":" ",n=`"0":${i}${t[0]}`;for(let s=1;s<r;s++)n+=`${e}"${s}":${i}${t[s]}`;return n}function Fhe(t){if(zy.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function N2(t,e){let r;if(zy.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function I2(t,e){let r;if(zy.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function $c(t){return t===1?"1 item":`${t} items`}function zhe(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function Uhe(t){if(zy.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let i=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(i+=` (${r.toString()})`),new Error(i)}}}function FE(t){t={...t};let e=Uhe(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=Fhe(t),i=N2(t,"bigint"),n=N2(t,"deterministic"),s=I2(t,"maximumDepth"),o=I2(t,"maximumBreadth");function a(p,d,h,m,v,y){let E=d[p];switch(typeof E=="object"&&E!==null&&typeof E.toJSON=="function"&&(E=E.toJSON(p)),E=m.call(d,p,E),typeof E){case"string":return wa(E);case"object":{if(E===null)return"null";if(h.indexOf(E)!==-1)return r;let _="",b=",",$=y;if(Array.isArray(E)){if(E.length===0)return"[]";if(s<h.length+1)return'"[Array]"';h.push(E),v!==""&&(y+=v,_+=`
${y}`,b=`,
${y}`);let g=Math.min(E.length,o),x=0;for(;x<g-1;x++){let P=a(String(x),E,h,m,v,y);_+=P!==void 0?P:"null",_+=b}let R=a(String(x),E,h,m,v,y);if(_+=R!==void 0?R:"null",E.length-1>o){let P=E.length-o-1;_+=`${b}"... ${$c(P)} not stringified"`}return v!==""&&(_+=`
${$}`),h.pop(),`[${_}]`}let k=Object.keys(E),O=k.length;if(O===0)return"{}";if(s<h.length+1)return'"[Object]"';let N="",L="";v!==""&&(y+=v,b=`,
${y}`,N=" ");let T=Math.min(O,o);n&&!LE(E)&&(k=DE(k)),h.push(E);for(let g=0;g<T;g++){let x=k[g],R=a(x,E,h,m,v,y);R!==void 0&&(_+=`${L}${wa(x)}:${N}${R}`,L=b)}if(O>o){let g=O-o;_+=`${L}"...":${N}"${$c(g)} not stringified"`,L=b}return v!==""&&L.length>1&&(_=`
${y}${_}
${$}`),h.pop(),`{${_}}`}case"number":return isFinite(E)?String(E):e?e(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(i)return String(E);default:return e?e(E):void 0}}function c(p,d,h,m,v,y){switch(typeof d=="object"&&d!==null&&typeof d.toJSON=="function"&&(d=d.toJSON(p)),typeof d){case"string":return wa(d);case"object":{if(d===null)return"null";if(h.indexOf(d)!==-1)return r;let E=y,_="",b=",";if(Array.isArray(d)){if(d.length===0)return"[]";if(s<h.length+1)return'"[Array]"';h.push(d),v!==""&&(y+=v,_+=`
${y}`,b=`,
${y}`);let O=Math.min(d.length,o),N=0;for(;N<O-1;N++){let T=c(String(N),d[N],h,m,v,y);_+=T!==void 0?T:"null",_+=b}let L=c(String(N),d[N],h,m,v,y);if(_+=L!==void 0?L:"null",d.length-1>o){let T=d.length-o-1;_+=`${b}"... ${$c(T)} not stringified"`}return v!==""&&(_+=`
${E}`),h.pop(),`[${_}]`}h.push(d);let $="";v!==""&&(y+=v,b=`,
${y}`,$=" ");let k="";for(let O of m){let N=c(O,d[O],h,m,v,y);N!==void 0&&(_+=`${k}${wa(O)}:${$}${N}`,k=b)}return v!==""&&k.length>1&&(_=`
${y}${_}
${E}`),h.pop(),`{${_}}`}case"number":return isFinite(d)?String(d):e?e(d):"null";case"boolean":return d===!0?"true":"false";case"undefined":return;case"bigint":if(i)return String(d);default:return e?e(d):void 0}}function l(p,d,h,m,v){switch(typeof d){case"string":return wa(d);case"object":{if(d===null)return"null";if(typeof d.toJSON=="function"){if(d=d.toJSON(p),typeof d!="object")return l(p,d,h,m,v);if(d===null)return"null"}if(h.indexOf(d)!==-1)return r;let y=v;if(Array.isArray(d)){if(d.length===0)return"[]";if(s<h.length+1)return'"[Array]"';h.push(d),v+=m;let N=`
${v}`,L=`,
${v}`,T=Math.min(d.length,o),g=0;for(;g<T-1;g++){let R=l(String(g),d[g],h,m,v);N+=R!==void 0?R:"null",N+=L}let x=l(String(g),d[g],h,m,v);if(N+=x!==void 0?x:"null",d.length-1>o){let R=d.length-o-1;N+=`${L}"... ${$c(R)} not stringified"`}return N+=`
${y}`,h.pop(),`[${N}]`}let E=Object.keys(d),_=E.length;if(_===0)return"{}";if(s<h.length+1)return'"[Object]"';v+=m;let b=`,
${v}`,$="",k="",O=Math.min(_,o);LE(d)&&($+=C2(d,b,o),E=E.slice(d.length),O-=d.length,k=b),n&&(E=DE(E)),h.push(d);for(let N=0;N<O;N++){let L=E[N],T=l(L,d[L],h,m,v);T!==void 0&&($+=`${k}${wa(L)}: ${T}`,k=b)}if(_>o){let N=_-o;$+=`${k}"...": "${$c(N)} not stringified"`,k=b}return k!==""&&($=`
${v}${$}
${y}`),h.pop(),`{${$}}`}case"number":return isFinite(d)?String(d):e?e(d):"null";case"boolean":return d===!0?"true":"false";case"undefined":return;case"bigint":if(i)return String(d);default:return e?e(d):void 0}}function u(p,d,h){switch(typeof d){case"string":return wa(d);case"object":{if(d===null)return"null";if(typeof d.toJSON=="function"){if(d=d.toJSON(p),typeof d!="object")return u(p,d,h);if(d===null)return"null"}if(h.indexOf(d)!==-1)return r;let m="";if(Array.isArray(d)){if(d.length===0)return"[]";if(s<h.length+1)return'"[Array]"';h.push(d);let b=Math.min(d.length,o),$=0;for(;$<b-1;$++){let O=u(String($),d[$],h);m+=O!==void 0?O:"null",m+=","}let k=u(String($),d[$],h);if(m+=k!==void 0?k:"null",d.length-1>o){let O=d.length-o-1;m+=`,"... ${$c(O)} not stringified"`}return h.pop(),`[${m}]`}let v=Object.keys(d),y=v.length;if(y===0)return"{}";if(s<h.length+1)return'"[Object]"';let E="",_=Math.min(y,o);LE(d)&&(m+=C2(d,",",o),v=v.slice(d.length),_-=d.length,E=","),n&&(v=DE(v)),h.push(d);for(let b=0;b<_;b++){let $=v[b],k=u($,d[$],h);k!==void 0&&(m+=`${E}${wa($)}:${k}`,E=",")}if(y>o){let b=y-o;m+=`${E}"...":"${$c(b)} not stringified"`}return h.pop(),`{${m}}`}case"number":return isFinite(d)?String(d):e?e(d):"null";case"boolean":return d===!0?"true":"false";case"undefined":return;case"bigint":if(i)return String(d);default:return e?e(d):void 0}}function f(p,d,h){if(arguments.length>1){let m="";if(typeof h=="number"?m=" ".repeat(Math.min(h,10)):typeof h=="string"&&(m=h.slice(0,10)),d!=null){if(typeof d=="function")return a("",{"":p},[],d,m,"");if(Array.isArray(d))return c("",p,[],zhe(d),m,"")}if(m.length!==0)return l("",p,[],m,"")}return u("",p,[])}return f}});var D2=w((Rtt,M2)=>{"use strict";var HE=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:q2}=Fy(),Hhe=q2.info;function Bhe(t,e){let r=0;t=t||[],e=e||{dedupe:!1};let i=Object.create(q2);i.silent=1/0,e.levels&&typeof e.levels=="object"&&Object.keys(e.levels).forEach(f=>{i[f]=e.levels[f]});let n={write:s,add:c,emit:o,flushSync:a,end:l,minLevel:0,streams:[],clone:u,[HE]:!0,streamLevels:i};return Array.isArray(t)?t.forEach(c,n):c.call(n,t),t=null,n;function s(f){let p,d=this.lastLevel,{streams:h}=this,m=0,v;for(let y=Whe(h.length,e.dedupe);Khe(y,h.length,e.dedupe);y=Ghe(y,e.dedupe))if(p=h[y],p.level<=d){if(m!==0&&m!==p.level)break;if(v=p.stream,v[HE]){let{lastTime:E,lastMsg:_,lastObj:b,lastLogger:$}=this;v.lastLevel=d,v.lastTime=E,v.lastMsg=_,v.lastObj=b,v.lastLogger=$}v.write(f),e.dedupe&&(m=p.level)}else if(!e.dedupe)break}function o(...f){for(let{stream:p}of this.streams)typeof p.emit=="function"&&p.emit(...f)}function a(){for(let{stream:f}of this.streams)typeof f.flushSync=="function"&&f.flushSync()}function c(f){if(!f)return n;let p=typeof f.write=="function"||f.stream,d=f.write?f:f.stream;if(!p)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:h,streamLevels:m}=this,v;typeof f.levelVal=="number"?v=f.levelVal:typeof f.level=="string"?v=m[f.level]:typeof f.level=="number"?v=f.level:v=Hhe;let y={stream:d,level:v,levelVal:void 0,id:r++};return h.unshift(y),h.sort(Vhe),this.minLevel=h[0].level,n}function l(){for(let{stream:f}of this.streams)typeof f.flushSync=="function"&&f.flushSync(),f.end()}function u(f){let p=new Array(this.streams.length);for(let d=0;d<p.length;d++)p[d]={level:f,stream:this.streams[d].stream};return{write:s,add:c,minLevel:f,streams:p,clone:u,emit:o,flushSync:a,[HE]:!0}}}function Vhe(t,e){return t.level-e.level}function Whe(t,e){return e?t-1:0}function Ghe(t,e){return e?t-1:t+1}function Khe(t,e,r){return r?t>=0:t<e}M2.exports=Bhe});var X2=w((Ttt,gn)=>{"use strict";var Jhe=require("os"),W2=oE(),Yhe=aE(),Xhe=hE(),G2=AL(),Zhe=A2(),K2=fu(),{configure:Qhe}=UE(),{assertDefaultLevelFound:eme,mappings:J2,genLsCache:tme,genLevelComparison:rme,assertLevelComparison:ime}=NE(),{DEFAULT_LEVELS:nme,SORTING_ORDER:sme}=Fy(),{createArgsNormalizer:ome,asChindings:ame,buildSafeSonicBoom:L2,buildFormatters:cme,stringify:BE,normalizeDestFileDescriptor:F2,noop:lme}=Ly(),{version:ume}=IE(),{chindingsSym:z2,redactFmtSym:fme,serializersSym:U2,timeSym:dme,timeSliceIndexSym:pme,streamSym:hme,stringifySym:H2,stringifySafeSym:VE,stringifiersSym:B2,setLevelSym:mme,endSym:gme,formatOptsSym:yme,messageKeySym:vme,errorKeySym:bme,nestedKeySym:_me,mixinSym:wme,levelCompSym:xme,useOnlyCustomLevelsSym:Sme,formattersSym:V2,hooksSym:Eme,nestedKeyStrSym:Rme,mixinMergeStrategySym:Tme,msgPrefixSym:$me}=K2,{epochTime:Y2,nullTime:Pme}=G2,{pid:Ome}=process,kme=Jhe.hostname(),Ame=W2.err,Cme={level:"info",levelComparison:sme.ASC,levels:nme,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:Ome,hostname:kme},serializers:Object.assign(Object.create(null),{err:Ame}),formatters:Object.assign(Object.create(null),{bindings(t){return t},level(t,e){return{level:e}}}),hooks:{logMethod:void 0},timestamp:Y2,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},Nme=ome(Cme),Ime=Object.assign(Object.create(null),W2);function WE(...t){let e={},{opts:r,stream:i}=Nme(e,Yhe(),...t),{redact:n,crlf:s,serializers:o,timestamp:a,messageKey:c,errorKey:l,nestedKey:u,base:f,name:p,level:d,customLevels:h,levelComparison:m,mixin:v,mixinMergeStrategy:y,useOnlyCustomLevels:E,formatters:_,hooks:b,depthLimit:$,edgeLimit:k,onChild:O,msgPrefix:N}=r,L=Qhe({maximumDepth:$,maximumBreadth:k}),T=cme(_.level,_.bindings,_.log),g=BE.bind({[VE]:L}),x=n?Xhe(n,g):{},R=n?{stringify:x[fme]}:{stringify:g},P="}"+(s?`\r
`:`
`),C=ame.bind(null,{[z2]:"",[U2]:o,[B2]:x,[H2]:BE,[VE]:L,[V2]:T}),j="";f!==null&&(p===void 0?j=C(f):j=C(Object.assign({},f,{name:p})));let M=a instanceof Function?a:a?Y2:Pme,A=M().indexOf(":")+1;if(E&&!h)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(v&&typeof v!="function")throw Error(`Unknown mixin type "${typeof v}" - expected "function"`);if(N&&typeof N!="string")throw Error(`Unknown msgPrefix type "${typeof N}" - expected "string"`);eme(d,h,E);let S=J2(h,E);typeof i.emit=="function"&&i.emit("message",{code:"PINO_CONFIG",config:{levels:S,messageKey:c,errorKey:l}}),ime(m);let I=rme(m);return Object.assign(e,{levels:S,[xme]:I,[Sme]:E,[hme]:i,[dme]:M,[pme]:A,[H2]:BE,[VE]:L,[B2]:x,[gme]:P,[yme]:R,[vme]:c,[bme]:l,[_me]:u,[Rme]:u?`,${JSON.stringify(u)}:{`:"",[U2]:o,[wme]:v,[Tme]:y,[z2]:j,[V2]:T,[Eme]:b,silent:lme,onChild:O,[$me]:N}),Object.setPrototypeOf(e,Zhe()),tme(e),e[mme](d),e}gn.exports=WE;gn.exports.destination=(t=process.stdout.fd)=>typeof t=="object"?(t.dest=F2(t.dest||process.stdout.fd),L2(t)):L2({dest:F2(t),minLength:0});gn.exports.transport=$E();gn.exports.multistream=D2();gn.exports.levels=J2();gn.exports.stdSerializers=Ime;gn.exports.stdTimeFunctions=Object.assign({},G2);gn.exports.symbols=K2;gn.exports.version=ume;gn.exports.default=WE;gn.exports.pino=WE});var Zd=w(($tt,rF)=>{"use strict";var jme=zD(),Uy=X2(),{serializersSym:Z2}=Uy.symbols,{FST_ERR_LOG_INVALID_DESTINATION:qme,FST_ERR_LOG_INVALID_LOGGER:Mme}=fi();function Q2(t){if(t.stream&&t.file)throw new qme;t.file&&(t.stream=Uy.destination(t.file),delete t.file);let e=t.logger,r=t.genReqId,i=null;return e?(t.logger=void 0,t.genReqId=void 0,e[Z2]&&(t.serializers=Object.assign({},t.serializers,e[Z2])),i=e.child({},t),t.logger=e,t.genReqId=r):i=Uy(t,t.stream),i}var GE={req:function(e){return{method:e.method,url:e.url,version:e.headers&&e.headers["accept-version"],hostname:e.hostname,remoteAddress:e.ip,remotePort:e.socket?e.socket.remotePort:void 0}},err:Uy.stdSerializers.err,res:function(e){return{statusCode:e.statusCode}}};function Dme(){let t=process.hrtime();return t[0]*1e3+t[1]/1e6}function Lme(t){if(!t.logger){let i=jme;return i.child=()=>i,{logger:i,hasLogger:!1}}if(eF(t.logger))return{logger:Q2({logger:t.logger,serializers:Object.assign({},GE,t.logger.serializers)}),hasLogger:!0};let e={};return Object.prototype.toString.call(t.logger)==="[object Object]"&&Reflect.ownKeys(t.logger).forEach(i=>{Object.defineProperty(e,i,{value:t.logger[i],writable:!0,enumerable:!0,configurable:!0})}),e.level=e.level||"info",e.serializers=Object.assign({},GE,e.serializers),t.logger=e,{logger:Q2(t.logger),hasLogger:!0}}function eF(t,e){let r=["info","error","debug","fatal","warn","trace","child"],i=t?r.filter(n=>!t[n]||typeof t[n]!="function"):r;if(i.length){if(i.length===r.length&&!e)return!1;throw Mme(i.join(","))}else return!0}function Fme(t,e,r,i,n){let s={[t.requestIdLogLabel]:i},o=t.childLoggerFactory.call(t.server,e,s,n||{},r);return t.childLoggerFactory!==tF&&eF(o,!0),o}function tF(t,e,r){return t.child(e,r)}rF.exports={createLogger:Lme,createChildLogger:Fme,defaultChildLoggerFactory:tF,serializers:GE,now:Dme}});var Hy=w((Ptt,iF)=>{"use strict";iF.exports=zme;function hu(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function zme(t){if(t=t||{},t.circles)return Ume(t);let e=new Map;if(e.set(Date,o=>new Date(o)),e.set(Map,(o,a)=>new Map(i(Array.from(o),a))),e.set(Set,(o,a)=>new Set(i(Array.from(o),a))),t.constructorHandlers)for(let o of t.constructorHandlers)e.set(o[0],o[1]);let r=null;return t.proto?s:n;function i(o,a){let c=Object.keys(o),l=new Array(c.length);for(let u=0;u<c.length;u++){let f=c[u],p=o[f];typeof p!="object"||p===null?l[f]=p:p.constructor!==Object&&(r=e.get(p.constructor))?l[f]=r(p,a):ArrayBuffer.isView(p)?l[f]=hu(p):l[f]=a(p)}return l}function n(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,n);if(o.constructor!==Object&&(r=e.get(o.constructor)))return r(o,n);let a={};for(let c in o){if(Object.hasOwnProperty.call(o,c)===!1)continue;let l=o[c];typeof l!="object"||l===null?a[c]=l:l.constructor!==Object&&(r=e.get(l.constructor))?a[c]=r(l,n):ArrayBuffer.isView(l)?a[c]=hu(l):a[c]=n(l)}return a}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,s);if(o.constructor!==Object&&(r=e.get(o.constructor)))return r(o,s);let a={};for(let c in o){let l=o[c];typeof l!="object"||l===null?a[c]=l:l.constructor!==Object&&(r=e.get(l.constructor))?a[c]=r(l,s):ArrayBuffer.isView(l)?a[c]=hu(l):a[c]=s(l)}return a}}function Ume(t){let e=[],r=[],i=new Map;if(i.set(Date,c=>new Date(c)),i.set(Map,(c,l)=>new Map(s(Array.from(c),l))),i.set(Set,(c,l)=>new Set(s(Array.from(c),l))),t.constructorHandlers)for(let c of t.constructorHandlers)i.set(c[0],c[1]);let n=null;return t.proto?a:o;function s(c,l){let u=Object.keys(c),f=new Array(u.length);for(let p=0;p<u.length;p++){let d=u[p],h=c[d];if(typeof h!="object"||h===null)f[d]=h;else if(h.constructor!==Object&&(n=i.get(h.constructor)))f[d]=n(h,l);else if(ArrayBuffer.isView(h))f[d]=hu(h);else{let m=e.indexOf(h);m!==-1?f[d]=r[m]:f[d]=l(h)}}return f}function o(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return s(c,o);if(c.constructor!==Object&&(n=i.get(c.constructor)))return n(c,o);let l={};e.push(c),r.push(l);for(let u in c){if(Object.hasOwnProperty.call(c,u)===!1)continue;let f=c[u];if(typeof f!="object"||f===null)l[u]=f;else if(f.constructor!==Object&&(n=i.get(f.constructor)))l[u]=n(f,o);else if(ArrayBuffer.isView(f))l[u]=hu(f);else{let p=e.indexOf(f);p!==-1?l[u]=r[p]:l[u]=o(f)}}return e.pop(),r.pop(),l}function a(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return s(c,a);if(c.constructor!==Object&&(n=i.get(c.constructor)))return n(c,a);let l={};e.push(c),r.push(l);for(let u in c){let f=c[u];if(typeof f!="object"||f===null)l[u]=f;else if(f.constructor!==Object&&(n=i.get(f.constructor)))l[u]=n(f,a);else if(ArrayBuffer.isView(f))l[u]=hu(f);else{let p=e.indexOf(f);p!==-1?l[u]=r[p]:l[u]=a(f)}}return e.pop(),r.pop(),l}}});var Qd=w((Ott,aF)=>{"use strict";var Hme=Hy()({circles:!1,proto:!0}),{kSchemaVisited:nF,kSchemaResponse:Bme}=Dr(),JE=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID:Vme,FST_ERR_SCH_ALREADY_PRESENT:Wme,FST_ERR_SCH_DUPLICATE:Gme,FST_ERR_SCH_CONTENT_MISSING_SCHEMA:Kme}=fi(),oF=["params","body","querystring","query","headers"];function By(t){this.store=t||{}}By.prototype.add=function(t){let e=Hme(t.isFluentSchema||t.isFluentJSONSchema||t[JE]?t.valueOf():t),r=e.$id;if(!r)throw new Vme;if(this.store[r])throw new Wme(r);this.store[r]=e};By.prototype.getSchemas=function(){return Object.assign({},this.store)};By.prototype.getSchema=function(t){return this.store[t]};function sF(t){return typeof t=="object"&&Object.getPrototypeOf(t)!==Object.prototype}function Jme(t,e){if(t[nF])return t;if(t.query){if(t.querystring)throw new Gme("querystring");t.querystring=t.query}Yme(t);for(let r of oF){let i=t[r];i&&!sF(i)&&(t[r]=KE(i,e.jsonShorthand))}if(t.response){let r=Object.keys(t.response);for(let i of r){if(sF(t.response[i]))continue;let n=t.response[i].content,s=!1;if(n){let o=Object.keys(n);for(let a=0;a<o.length;a++){let c=o[a];if(!n[c].schema){if(o.length===1)break;throw new Kme(c)}t.response[i].content[c].schema=KE(n[c].schema,e.jsonShorthand),a===o.length-1&&(s=!0)}}s||(t.response[i]=KE(t.response[i],e.jsonShorthand))}}return t[nF]=!0,t}function Yme(t){for(let e of oF)t[e]&&(t[e].isFluentSchema||t[e][JE])&&(t[e]=t[e].valueOf());if(t.response){let e=Object.keys(t.response);for(let r of e)(t.response[r].isFluentSchema||t.response[r][JE])&&(t.response[r]=t.response[r].valueOf())}}function KE(t,e){return!e||t.$ref||t.oneOf||t.allOf||t.anyOf||t.$merge||t.$patch?t:!t.type&&!t.properties?{type:"object",properties:t}:t}function Xme(t,e,r){let i=t[Bme];if(!i)return!1;if(i[e]){if(i[e].constructor===Object&&r){let s=r.split(";",1)[0];return i[e][s]?i[e][s]:!1}return i[e]}let n=(e+"")[0]+"xx";if(i[n]){if(i[n].constructor===Object&&r){let s=r.split(";",1)[0];return i[n][s]?i[n][s]:!1}return i[n]}if(i.default){if(i.default.constructor===Object&&r){let s=r.split(";",1)[0];return i.default[s]?i.default[s]:!1}return i.default}return!1}aF.exports={buildSchemas(t){return new By(t)},getSchemaSerializer:Xme,normalizeSchema:Jme}});var Vy=w((ktt,lF)=>{"use strict";var Zme=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;lF.exports=class cF{constructor(e){switch(e&&e.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;case"trunc":default:this.parseInteger=Math.trunc;break}this._options=e}asInteger(e){if(Number.isInteger(e))return""+e;if(typeof e=="bigint")return e.toString();let r=this.parseInteger(e);if(r===1/0||r===-1/0||r!==r)throw new Error(`The value "${e}" cannot be converted to an integer.`);return""+r}asNumber(e){let r=Number(e);if(r!==r)throw new Error(`The value "${e}" cannot be converted to a number.`);return r===1/0||r===-1/0?"null":""+r}asBoolean(e){return e&&"true"||"false"}asDateTime(e){if(e===null)return'""';if(e instanceof Date)return'"'+e.toISOString()+'"';if(typeof e=="string")return'"'+e+'"';throw new Error(`The value "${e}" cannot be converted to a date-time.`)}asDate(e){if(e===null)return'""';if(e instanceof Date)return'"'+new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof e=="string")return'"'+e+'"';throw new Error(`The value "${e}" cannot be converted to a date.`)}asTime(e){if(e===null)return'""';if(e instanceof Date)return'"'+new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof e=="string")return'"'+e+'"';throw new Error(`The value "${e}" cannot be converted to a time.`)}asString(e){let r=e.length;if(r<42){let n="",s=-1,o=255;for(var i=0;i<r;i++)if(o=e.charCodeAt(i),o===34||o===92)s===-1&&(s=0),n+=e.slice(s,i)+"\\",s=i;else if(o<32||o>=55296&&o<=57343)return JSON.stringify(e);return s===-1&&'"'+e+'"'||'"'+n+e.slice(s)+'"'}else return r<5e3&&Zme.test(e)===!1?'"'+e+'"':JSON.stringify(e)}asUnsafeString(e){return'"'+e+'"'}getState(){return this._options}static restoreFromState(e){return new cF(e)}}});var fF=w((Att,uF)=>{"use strict";var Qme=Vy(),ege={mode:"standalone"},tge=Qme.restoreFromState(ege),rge=null;uF.exports=function(e,r){let i="{",n="}",s="[",o="]",a=",",c=":",l='"',u=i+n,f=s+o,p=l+l,d="null";function h(v){let y=v&&typeof v.toJSON=="function"?v.toJSON():v;if(y===null)return u;let E,_=i,b=!1;return E=y.statusCode,E!==void 0&&(!b&&(b=!0)||(_+=a),_+='"statusCode":',_+=r.asNumber(E)),E=y.code,E!==void 0&&(!b&&(b=!0)||(_+=a),_+='"code":',typeof E!="string"?E===null?_+=p:E instanceof Date?_+=l+E.toISOString()+l:E instanceof RegExp?_+=r.asString(E.source):_+=r.asString(E.toString()):_+=r.asString(E)),E=y.error,E!==void 0&&(!b&&(b=!0)||(_+=a),_+='"error":',typeof E!="string"?E===null?_+=p:E instanceof Date?_+=l+E.toISOString()+l:E instanceof RegExp?_+=r.asString(E.source):_+=r.asString(E.toString()):_+=r.asString(E)),E=y.message,E!==void 0&&(!b&&(b=!0)||(_+=a),_+='"message":',typeof E!="string"?E===null?_+=p:E instanceof Date?_+=l+E.toISOString()+l:E instanceof RegExp?_+=r.asString(E.source):_+=r.asString(E.toString()):_+=r.asString(E)),_+n}return h}(rge,tge)});var ep=w((Ctt,mF)=>{"use strict";var dF=require("node:http").STATUS_CODES,ige=WS(),{kReplyHeaders:Oc,kReplyNextErrorHandler:Wy,kReplyIsRunningOnErrorHook:nge,kReplyHasStatusCode:sge,kRouteContext:hF,kDisableRequestLogging:Gy}=Dr(),{FST_ERR_REP_INVALID_PAYLOAD_TYPE:oge,FST_ERR_FAILED_ERROR_SERIALIZATION:age}=fi(),{getSchemaSerializer:cge}=Qd(),YE=fF(),lge={func:fge,toJSON(){return this.func.name.toString()+"()"}};function uge(t,e,r){t[nge]=!1;let i=t[hF];if(t[Wy]===!1){pF(e,t,function(o,a){try{o.raw.writeHead(o.raw.statusCode,o[Oc])}catch(c){o.log[Gy]||o.log.warn({req:o.request,res:o,err:c},c&&c.message),o.raw.writeHead(o.raw.statusCode)}o.raw.end(a)});return}let n=t[Wy]||i.errorHandler;t[Wy]=Object.getPrototypeOf(n),delete t[Oc]["content-type"],delete t[Oc]["content-length"];let s=n.func;if(!s){t[Wy]=!1,pF(e,t,r);return}try{let o=s(e,t.request,t);o!==void 0&&(o!==null&&typeof o.then=="function"?ige(o,t):t.send(o))}catch(o){t.send(o)}}function fge(t,e,r){if(pge(t,r),!r[sge]||r.statusCode===200){let i=t.statusCode||t.status;r.code(i>=400?i:500)}r.statusCode<500?r.log[Gy]||r.log.info({res:r,err:t},t&&t.message):r.log[Gy]||r.log.error({req:e,res:r,err:t},t&&t.message),r.send(t)}function pF(t,e,r){let i=e.raw,n=e.statusCode;e[Oc]["content-type"]=e[Oc]["content-type"]??"application/json; charset=utf-8";let s;try{let o=cge(e[hF],n,e[Oc]["content-type"]);s=o===!1?YE({error:dF[n+""],code:t.code,message:t.message,statusCode:n}):o(Object.create(t,{error:{value:dF[n+""]},message:{value:t.message},statusCode:{value:n}}))}catch(o){e.log[Gy]||e.log.error({err:o,statusCode:i.statusCode},"The serializer for the given status code failed"),e.code(500),s=YE(new age(o.message,t.message))}typeof s!="string"&&!Buffer.isBuffer(s)&&(s=YE(new oge(typeof s))),e[Oc]["content-length"]=""+Buffer.byteLength(s),r(e,s)}function dge(t=lge,e){if(!e)return t;let r=Object.create(t);return r.func=e,r}function pge(t,e){let r=e.raw,i=r.statusCode;i=i>=400?i:500,t!=null&&(t.headers!==void 0&&e.headers(t.headers),t.status>=400?i=t.status:t.statusCode>=400&&(i=t.statusCode)),r.statusCode=i}mF.exports={buildErrorHandler:dge,handleError:uge}});var Qy=w((Ntt,Zy)=>{"use strict";var eR=require("node:stream").finished,hge=require("node:stream").Readable,{kFourOhFourContext:gF,kPublicRouteContext:yF,kReplyErrorHandlerCalled:RF,kReplyHijacked:tp,kReplyStartTime:rp,kReplyEndTime:rR,kReplySerializer:xo,kReplySerializerDefault:Jy,kReplyIsError:Yy,kReplyHeaders:Jt,kReplyTrailers:Lr,kReplyHasStatusCode:iR,kReplyIsRunningOnErrorHook:nR,kReplyNextErrorHandler:mge,kDisableRequestLogging:TF,kSchemaResponse:Xy,kReplyCacheSerializeFns:xa,kSchemaController:XE,kOptions:gge,kRouteContext:He}=Dr(),{onSendHookRunner:$F,onResponseHookRunner:yge,preHandlerHookRunner:vge,preSerializationHookRunner:bge}=ya(),vF=YS()[Symbol.for("internals")],_ge=Zd(),tR=_ge.now,{handleError:bF}=ep(),{getSchemaSerializer:wge}=Qd(),ZE={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:xge,FST_ERR_REP_RESPONSE_BODY_CONSUMED:Sge,FST_ERR_REP_ALREADY_SENT:PF,FST_ERR_REP_SENT_VALUE:Ege,FST_ERR_SEND_INSIDE_ONERR:Rge,FST_ERR_BAD_STATUS_CODE:Tge,FST_ERR_BAD_TRAILER_NAME:$ge,FST_ERR_BAD_TRAILER_VALUE:Pge,FST_ERR_MISSING_SERIALIZATION_FN:Oge,FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:kge}=fi(),{FSTDEP010:Age,FSTDEP013:Cge,FSTDEP019:Nge,FSTDEP020:Ige,FSTDEP021:jge}=_o(),OF=Object.prototype.toString;function Bt(t,e,r){this.raw=t,this[xo]=null,this[RF]=!1,this[Yy]=!1,this[nR]=!1,this.request=e,this[Jt]={},this[Lr]=null,this[iR]=!1,this[rp]=void 0,this.log=r}Bt.props=[];Object.defineProperties(Bt.prototype,{[He]:{get(){return this.request[He]}},context:{get(){return Nge(),this.request[He]}},elapsedTime:{get(){return this[rp]===void 0?0:(this[rR]||tR())-this[rp]}},server:{get(){return this.request[He].server}},sent:{enumerable:!0,get(){return(this[tp]||this.raw.writableEnded)===!0},set(t){if(Age(),t!==!0)throw new Ege;if(this.sent&&this[tp])throw new PF(this.request.url,this.request.method);this[tp]=!0}},statusCode:{get(){return this.raw.statusCode},set(t){this.code(t)}},[yF]:{get(){return this.request[yF]}}});Bt.prototype.hijack=function(){return this[tp]=!0,this};Bt.prototype.send=function(t){if(this[nR]===!0)throw new Rge;if(this.sent)return this.log.warn({err:new PF(this.request.url,this.request.method)}),this;if(t instanceof Error||this[Yy]===!0)return this[Yy]=!1,ip(this,t,kc),this;if(t===void 0)return kc(this,t),this;let e=this.getHeader("content-type"),r=e!==void 0;if(t!==null){if(typeof t.pipe=="function"||typeof t.getReader=="function"||OF.call(t)==="[object Response]")return kc(this,t),this;if(t?.buffer instanceof ArrayBuffer){r===!1&&(this[Jt]["content-type"]=ZE.OCTET);let i=Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength);return kc(this,i),this}if(r===!1&&typeof t=="string")return this[Jt]["content-type"]=ZE.PLAIN,kc(this,t),this}if(this[xo]!==null){if(typeof t!="string")return _F(this,t),this;t=this[xo](t)}else if(r===!1||e.indexOf("json")>-1){if(r===!1)this[Jt]["content-type"]=ZE.JSON;else if(e.indexOf("charset")===-1){let i=e.trim();i.endsWith(";")?this[Jt]["content-type"]=`${i} charset=utf-8`:this[Jt]["content-type"]=`${i}; charset=utf-8`}if(typeof t!="string")return _F(this,t),this}return kc(this,t),this};Bt.prototype.getHeader=function(t){t=t.toLowerCase();let e=this.raw,r=this[Jt][t];return r===void 0&&e.hasHeader(t)&&(r=e.getHeader(t)),r};Bt.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[Jt]}};Bt.prototype.hasHeader=function(t){return t=t.toLowerCase(),this[Jt][t]!==void 0||this.raw.hasHeader(t)};Bt.prototype.removeHeader=function(t){return delete this[Jt][t.toLowerCase()],this};Bt.prototype.header=function(t,e=""){return t=t.toLowerCase(),this[Jt][t]&&t==="set-cookie"?(typeof this[Jt][t]=="string"&&(this[Jt][t]=[this[Jt][t]]),Array.isArray(e)?Array.prototype.push.apply(this[Jt][t],e):this[Jt][t].push(e)):this[Jt][t]=e,this};Bt.prototype.headers=function(t){let e=Object.keys(t);for(var r=0;r!==e.length;++r){let i=e[r];this.header(i,t[i])}return this};var qge=new Set(["transfer-encoding","content-length","host","cache-control","max-forwards","te","authorization","set-cookie","content-encoding","content-type","content-range","trailer"]);Bt.prototype.trailer=function(t,e){if(t=t.toLowerCase(),qge.has(t))throw new $ge(t);if(typeof e!="function")throw new Pge(t,typeof e);return this[Lr]===null&&(this[Lr]={}),this[Lr][t]=e,this};Bt.prototype.hasTrailer=function(t){return this[Lr]?.[t.toLowerCase()]!==void 0};Bt.prototype.removeTrailer=function(t){return this[Lr]===null?this:(this[Lr][t.toLowerCase()]=void 0,this)};Bt.prototype.code=function(t){let e=Number(t);if(isNaN(e)||e<100||e>599)throw new Tge(t||String(t));return this.raw.statusCode=e,this[iR]=!0,this};Bt.prototype.status=Bt.prototype.code;Bt.prototype.getSerializationFunction=function(t,e){let r;return typeof t=="string"||typeof t=="number"?typeof e=="string"?r=this[He][Xy]?.[t]?.[e]:r=this[He][Xy]?.[t]:typeof t=="object"&&(r=this[He][xa]?.get(t)),r};Bt.prototype.compileSerializationSchema=function(t,e=null,r=null){let{request:i}=this,{method:n,url:s}=i;if(this[He][xa]?.has(t))return this[He][xa].get(t);let a=(this[He].serializerCompiler||this.server[XE].serializerCompiler||this.server[XE].setupSerializer(this.server[gge])||this.server[XE].serializerCompiler)({schema:t,method:n,url:s,httpStatus:e,contentType:r});return this[He][xa]==null&&(this[He][xa]=new WeakMap),this[He][xa].set(t,a),a};Bt.prototype.serializeInput=function(t,e,r,i){let n=r,s;if(r=typeof e=="string"||typeof e=="number"?e:r,i=r&&n!==r?n:i,r!=null){if(i!=null?s=this[He][Xy]?.[r]?.[i]:s=this[He][Xy]?.[r],s==null)throw i?new kge(r,i):new Oge(r)}else this[He][xa]?.has(e)?s=this[He][xa].get(e):s=this.compileSerializationSchema(e,r,i);return s(t)};Bt.prototype.serialize=function(t){return this[xo]!==null?this[xo](t):this[He]&&this[He][Jy]?this[He][Jy](t,this.raw.statusCode):CF(this[He],t,this.raw.statusCode)};Bt.prototype.serializer=function(t){return this[xo]=t,this};Bt.prototype.type=function(t){return this[Jt]["content-type"]=t,this};Bt.prototype.redirect=function(t,e){if(typeof t=="number"){jge();let r=e;e=t,t=r}return e||(e=this[iR]?this.raw.statusCode:302),this.header("location",t).code(e).send()};Bt.prototype.callNotFound=function(){return Uge(this),this};Bt.prototype.getResponseTime=function(){return Ige(),this.elapsedTime};Bt.prototype.then=function(t,e){if(this.sent){t();return}eR(this.raw,r=>{r&&r.code!=="ERR_STREAM_PREMATURE_CLOSE"?e?e(r):this.log&&this.log.warn("unhandled rejection on reply.then"):t()})};function _F(t,e){t[He].preSerialization!==null?bge(t[He].preSerialization,t.request,t,e,wF):wF(null,t.request,t,e)}function wF(t,e,r,i){if(t!=null){ip(r,t);return}try{r[xo]!==null?i=r[xo](i):r[He]&&r[He][Jy]?i=r[He][Jy](i,r.raw.statusCode):i=CF(r[He],i,r.raw.statusCode,r[Jt]["content-type"])}catch(n){Mge(n,r),ip(r,n);return}kc(r,i)}function Mge(t,e){t.serialization=e[He].config}function kc(t,e){t[He].onSend!==null?$F(t[He].onSend,t.request,t,e,Dge):kF(t,e)}function Dge(t,e,r,i){t!=null?ip(r,t):kF(r,i)}function QE(t,e){let r=t.raw;try{r.writeHead(e,t[Jt])}catch(i){throw i.code==="ERR_HTTP_HEADERS_SENT"&&t.log.warn(`Reply was already sent, did you forget to "return reply" in the "${t.request.raw.url}" (${t.request.raw.method}) route?`),i}}function kF(t,e){let r=t.raw,i=t.request;if(t[Lr]!==null){let o=Object.keys(t[Lr]),a="";for(let c of o)typeof t[Lr][c]=="function"&&(a+=" ",a+=c);t.header("Transfer-Encoding","chunked"),t.header("Trailer",a.trim())}let n=OF.call(e)==="[object Response]";n&&typeof e.status=="number"&&t.code(e.status);let s=r.statusCode;if(e==null){s>=200&&s!==204&&s!==304&&i.method!=="HEAD"&&t[Lr]===null&&(t[Jt]["content-length"]="0"),QE(t,s),Ky(e,r,t);return}if(s>=100&&s<200||s===204){t.removeHeader("content-type"),t.removeHeader("content-length"),QE(t,s),Ky(void 0,r,t),typeof e.resume=="function"&&(e.on("error",NF),e.resume());return}if(typeof e.pipe=="function"){AF(e,r,t);return}if(typeof e.getReader=="function"){SF(e,r,t);return}if(n){if(typeof e.headers=="object"&&typeof e.headers.forEach=="function")for(let[o,a]of e.headers)t.header(o,a);if(e.body!=null){if(e.bodyUsed)throw new Sge;SF(e.body,r,t)}return}if(typeof e!="string"&&!Buffer.isBuffer(e))throw new xge(typeof e);if(t[Lr]===null){let o=t[Jt]["content-length"];(!o||i.raw.method!=="HEAD"&&Number(o)!==Buffer.byteLength(e))&&(t[Jt]["content-length"]=""+Buffer.byteLength(e))}QE(t,s),r.write(e),Ky(e,r,t)}function xF(t,e,r){e.code==="ERR_STREAM_PREMATURE_CLOSE"?t[TF]||t.info({res:r},"stream closed prematurely"):t.warn({err:e},"response terminated with an error with headers already sent")}function SF(t,e,r){let i=hge.fromWeb(t);AF(i,e,r)}function AF(t,e,r){let i=!0,n=!1;if(Lge(t,e,r),eR(t,{readable:!0,writable:!1},function(s){i=!1,s!=null&&(e.headersSent||r.request.raw.aborted===!0?(n||(n=!0,xF(r.log,s,e)),e.destroy()):ip(r,s))}),eR(e,function(s){i&&(s!=null&&e.headersSent&&!n&&(n=!0,xF(r.log,s,e)),typeof t.destroy=="function"?t.destroy():typeof t.close=="function"?t.close(NF):typeof t.abort=="function"?t.abort():r.log.warn("stream payload does not end properly"))}),e.headersSent)r.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let s in r[Jt])e.setHeader(s,r[Jt][s]);t.pipe(e)}function Ky(t,e,r){if(r[Lr]===null){e.end(null,null,null);return}let i=Object.keys(r[Lr]),n={},s=0,o=!0;function a(){s===0&&(e.addTrailers(n),e.end(null,null,null))}for(let c of i){let l=function(f,p){s++,f?r.log.debug(f):n[c]=p,process.nextTick(a)};if(typeof r[Lr][c]!="function")continue;o=!1,s--;let u=r[Lr][c](r,t,l);typeof u=="object"&&typeof u.then=="function"?u.then(f=>l(null,f),l):u!=null&&(Cge(),l(null,u))}o&&e.end(null,null,null)}function Lge(t,e,r){r[Lr]!==null&&t.on("end",()=>Ky(null,e,r))}function ip(t,e,r){t[He].onError!==null&&!t[mge]?(t[nR]=!0,$F(t[He].onError,t.request,t,e,()=>bF(t,e,r))):bF(t,e,r)}function Fge(t){t[rp]=tR();let e=r=>{t[rR]=tR(),t.raw.removeListener("finish",e),t.raw.removeListener("error",e);let i=t[He];i&&i.onResponse!==null?yge(i.onResponse,t.request,t,EF):EF(r,t.request,t)};t.raw.on("finish",e),t.raw.on("error",e)}function EF(t,e,r){if(r.log[TF])return;let i=r.elapsedTime;if(t!=null){r.log.error({res:r,err:t,responseTime:i},"request errored");return}r.log.info({res:r,responseTime:i},"request completed")}function zge(t){let e=t.props.slice();function r(i,n,s){this.raw=i,this[Yy]=!1,this[RF]=!1,this[tp]=!1,this[xo]=null,this.request=n,this[Jt]={},this[Lr]=null,this[rp]=void 0,this[rR]=void 0,this.log=s;for(var o,a=0;a<e.length;a++)o=e[a],this[o.key]=o.value}return Object.setPrototypeOf(r.prototype,t.prototype),Object.setPrototypeOf(r,t),r.parent=t,r.props=e,r}function Uge(t){if(t[He][gF]===null){t.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),t.code(404).send("404 Not Found");return}t.request[He]=t[He][gF],t[He].preHandler!==null?vge(t[He].preHandler,t.request,t,vF.preHandlerCallback):vF.preHandlerCallback(null,t.request,t)}function CF(t,e,r,i){let n=wge(t,r,i);return n?n(e):JSON.stringify(e)}function NF(){}Zy.exports=Bt;Zy.exports.buildReply=zge;Zy.exports.setupResponseListeners=Fge});var jF=w((Itt,IF)=>{"use strict";IF.exports=Hge;function Hge(t){if(!t)throw new TypeError("argument req is required");var e=Vge(t.headers["x-forwarded-for"]||""),r=Bge(t),i=[r].concat(e);return i}function Bge(t){return t.socket?t.socket.remoteAddress:t.connection.remoteAddress}function Vge(t){for(var e=t.length,r=[],i=t.length,n=t.length-1;n>=0;n--)switch(t.charCodeAt(n)){case 32:i===e&&(i=e=n);break;case 44:i!==e&&r.push(t.substring(i,e)),i=e=n;break;default:i=n;break}return i!==e&&r.push(t.substring(i,e)),r}});var MF=w((qF,np)=>{(function(){var t,e,r,i,n,s,o,a,c;e={},a=this,typeof np<"u"&&np!==null&&np.exports?np.exports=e:a.ipaddr=e,o=function(l,u,f,p){var d,h;if(l.length!==u.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(d=0;p>0;){if(h=f-p,h<0&&(h=0),l[d]>>h!==u[d]>>h)return!1;p-=f,d+=1}return!0},e.subnetMatch=function(l,u,f){var p,d,h,m,v;f==null&&(f="unicast");for(h in u)for(m=u[h],m[0]&&!(m[0]instanceof Array)&&(m=[m]),p=0,d=m.length;p<d;p++)if(v=m[p],l.kind()===v[0].kind()&&l.match.apply(l,v))return h;return f},e.IPv4=function(){function l(u){var f,p,d;if(u.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(f=0,p=u.length;f<p;f++)if(d=u[f],!(0<=d&&d<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=u}return l.prototype.kind=function(){return"ipv4"},l.prototype.toString=function(){return this.octets.join(".")},l.prototype.toNormalizedString=function(){return this.toString()},l.prototype.toByteArray=function(){return this.octets.slice(0)},l.prototype.match=function(u,f){var p;if(f===void 0&&(p=u,u=p[0],f=p[1]),u.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return o(this.octets,u.octets,8,f)},l.prototype.SpecialRanges={unspecified:[[new l([0,0,0,0]),8]],broadcast:[[new l([255,255,255,255]),32]],multicast:[[new l([224,0,0,0]),4]],linkLocal:[[new l([169,254,0,0]),16]],loopback:[[new l([127,0,0,0]),8]],carrierGradeNat:[[new l([100,64,0,0]),10]],private:[[new l([10,0,0,0]),8],[new l([172,16,0,0]),12],[new l([192,168,0,0]),16]],reserved:[[new l([192,0,0,0]),24],[new l([192,0,2,0]),24],[new l([192,88,99,0]),24],[new l([198,51,100,0]),24],[new l([203,0,113,0]),24],[new l([240,0,0,0]),4]]},l.prototype.range=function(){return e.subnetMatch(this,this.SpecialRanges)},l.prototype.toIPv4MappedAddress=function(){return e.IPv6.parse("::ffff:"+this.toString())},l.prototype.prefixLengthFromSubnetMask=function(){var u,f,p,d,h,m,v;for(v={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},u=0,h=!1,f=p=3;p>=0;f=p+=-1)if(d=this.octets[f],d in v){if(m=v[d],h&&m!==0)return null;m!==8&&(h=!0),u+=m}else return null;return 32-u},l}(),r="(0?\\d+|0x[a-f0-9]+)",i={fourOctet:new RegExp("^"+r+"\\."+r+"\\."+r+"\\."+r+"$","i"),longValue:new RegExp("^"+r+"$","i")},e.IPv4.parser=function(l){var u,f,p,d,h;if(f=function(m){return m[0]==="0"&&m[1]!=="x"?parseInt(m,8):parseInt(m)},u=l.match(i.fourOctet))return function(){var m,v,y,E;for(y=u.slice(1,6),E=[],m=0,v=y.length;m<v;m++)p=y[m],E.push(f(p));return E}();if(u=l.match(i.longValue)){if(h=f(u[1]),h>4294967295||h<0)throw new Error("ipaddr: address outside defined range");return function(){var m,v;for(v=[],d=m=0;m<=24;d=m+=8)v.push(h>>d&255);return v}().reverse()}else return null},e.IPv6=function(){function l(u,f){var p,d,h,m,v,y;if(u.length===16)for(this.parts=[],p=d=0;d<=14;p=d+=2)this.parts.push(u[p]<<8|u[p+1]);else if(u.length===8)this.parts=u;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(y=this.parts,h=0,m=y.length;h<m;h++)if(v=y[h],!(0<=v&&v<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");f&&(this.zoneId=f)}return l.prototype.kind=function(){return"ipv6"},l.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},l.prototype.toRFC5952String=function(){var u,f,p,d,h;for(d=/((^|:)(0(:|$)){2,})/g,h=this.toNormalizedString(),u=0,f=-1;p=d.exec(h);)p[0].length>f&&(u=p.index,f=p[0].length);return f<0?h:h.substring(0,u)+"::"+h.substring(u+f)},l.prototype.toByteArray=function(){var u,f,p,d,h;for(u=[],h=this.parts,f=0,p=h.length;f<p;f++)d=h[f],u.push(d>>8),u.push(d&255);return u},l.prototype.toNormalizedString=function(){var u,f,p;return u=function(){var d,h,m,v;for(m=this.parts,v=[],d=0,h=m.length;d<h;d++)f=m[d],v.push(f.toString(16));return v}.call(this).join(":"),p="",this.zoneId&&(p="%"+this.zoneId),u+p},l.prototype.toFixedLengthString=function(){var u,f,p;return u=function(){var d,h,m,v;for(m=this.parts,v=[],d=0,h=m.length;d<h;d++)f=m[d],v.push(f.toString(16).padStart(4,"0"));return v}.call(this).join(":"),p="",this.zoneId&&(p="%"+this.zoneId),u+p},l.prototype.match=function(u,f){var p;if(f===void 0&&(p=u,u=p[0],f=p[1]),u.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return o(this.parts,u.parts,16,f)},l.prototype.SpecialRanges={unspecified:[new l([0,0,0,0,0,0,0,0]),128],linkLocal:[new l([65152,0,0,0,0,0,0,0]),10],multicast:[new l([65280,0,0,0,0,0,0,0]),8],loopback:[new l([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new l([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new l([0,0,0,0,0,65535,0,0]),96],rfc6145:[new l([0,0,0,0,65535,0,0,0]),96],rfc6052:[new l([100,65435,0,0,0,0,0,0]),96],"6to4":[new l([8194,0,0,0,0,0,0,0]),16],teredo:[new l([8193,0,0,0,0,0,0,0]),32],reserved:[[new l([8193,3512,0,0,0,0,0,0]),32]]},l.prototype.range=function(){return e.subnetMatch(this,this.SpecialRanges)},l.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},l.prototype.toIPv4Address=function(){var u,f,p;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return p=this.parts.slice(-2),u=p[0],f=p[1],new e.IPv4([u>>8,u&255,f>>8,f&255])},l.prototype.prefixLengthFromSubnetMask=function(){var u,f,p,d,h,m,v;for(v={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},u=0,h=!1,f=p=7;p>=0;f=p+=-1)if(d=this.parts[f],d in v){if(m=v[d],h&&m!==0)return null;m!==16&&(h=!0),u+=m}else return null;return 128-u},l}(),n="(?:[0-9a-f]+::?)+",c="%[0-9a-z]{1,}",s={zoneIndex:new RegExp(c,"i"),native:new RegExp("^(::)?("+n+")?([0-9a-f]+)?(::)?("+c+")?$","i"),transitional:new RegExp("^((?:"+n+")|(?:::)(?:"+n+")?)"+(r+"\\."+r+"\\."+r+"\\."+r)+("("+c+")?$"),"i")},t=function(l,u){var f,p,d,h,m,v;if(l.indexOf("::")!==l.lastIndexOf("::"))return null;for(v=(l.match(s.zoneIndex)||[])[0],v&&(v=v.substring(1),l=l.replace(/%.+$/,"")),f=0,p=-1;(p=l.indexOf(":",p+1))>=0;)f++;if(l.substr(0,2)==="::"&&f--,l.substr(-2,2)==="::"&&f--,f>u)return null;for(m=u-f,h=":";m--;)h+="0:";return l=l.replace("::",h),l[0]===":"&&(l=l.slice(1)),l[l.length-1]===":"&&(l=l.slice(0,-1)),u=function(){var y,E,_,b;for(_=l.split(":"),b=[],y=0,E=_.length;y<E;y++)d=_[y],b.push(parseInt(d,16));return b}(),{parts:u,zoneId:v}},e.IPv6.parser=function(l){var u,f,p,d,h,m,v;if(s.native.test(l))return t(l,8);if((d=l.match(s.transitional))&&(v=d[6]||"",u=t(d[1].slice(0,-1)+v,6),u.parts)){for(m=[parseInt(d[2]),parseInt(d[3]),parseInt(d[4]),parseInt(d[5])],f=0,p=m.length;f<p;f++)if(h=m[f],!(0<=h&&h<=255))return null;return u.parts.push(m[0]<<8|m[1]),u.parts.push(m[2]<<8|m[3]),{parts:u.parts,zoneId:u.zoneId}}return null},e.IPv4.isIPv4=e.IPv6.isIPv6=function(l){return this.parser(l)!==null},e.IPv4.isValid=function(l){var u;try{return new this(this.parser(l)),!0}catch(f){return u=f,!1}},e.IPv4.isValidFourPartDecimal=function(l){return!!(e.IPv4.isValid(l)&&l.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},e.IPv6.isValid=function(l){var u,f;if(typeof l=="string"&&l.indexOf(":")===-1)return!1;try{return u=this.parser(l),new this(u.parts,u.zoneId),!0}catch(p){return f=p,!1}},e.IPv4.parse=function(l){var u;if(u=this.parser(l),u===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u)},e.IPv6.parse=function(l){var u;if(u=this.parser(l),u.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u.parts,u.zoneId)},e.IPv4.parseCIDR=function(l){var u,f,p;if((f=l.match(/^(.+)\/(\d+)$/))&&(u=parseInt(f[2]),u>=0&&u<=32))return p=[this.parse(f[1]),u],Object.defineProperty(p,"toString",{value:function(){return this.join("/")}}),p;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},e.IPv4.subnetMaskFromPrefixLength=function(l){var u,f,p;if(l=parseInt(l),l<0||l>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(p=[0,0,0,0],f=0,u=Math.floor(l/8);f<u;)p[f]=255,f++;return u<4&&(p[u]=Math.pow(2,l%8)-1<<8-l%8),new this(p)},e.IPv4.broadcastAddressFromCIDR=function(l){var u,f,p,d,h,m;try{for(u=this.parseCIDR(l),d=u[0].toByteArray(),m=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),h=[],p=0;p<4;)h.push(parseInt(d[p],10)|parseInt(m[p],10)^255),p++;return new this(h)}catch(v){throw f=v,new Error("ipaddr: the address does not have IPv4 CIDR format")}},e.IPv4.networkAddressFromCIDR=function(l){var u,f,p,d,h,m;try{for(u=this.parseCIDR(l),d=u[0].toByteArray(),m=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),h=[],p=0;p<4;)h.push(parseInt(d[p],10)&parseInt(m[p],10)),p++;return new this(h)}catch(v){throw f=v,new Error("ipaddr: the address does not have IPv4 CIDR format")}},e.IPv6.parseCIDR=function(l){var u,f,p;if((f=l.match(/^(.+)\/(\d+)$/))&&(u=parseInt(f[2]),u>=0&&u<=128))return p=[this.parse(f[1]),u],Object.defineProperty(p,"toString",{value:function(){return this.join("/")}}),p;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},e.isValid=function(l){return e.IPv6.isValid(l)||e.IPv4.isValid(l)},e.parse=function(l){if(e.IPv6.isValid(l))return e.IPv6.parse(l);if(e.IPv4.isValid(l))return e.IPv4.parse(l);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},e.parseCIDR=function(l){var u;try{return e.IPv6.parseCIDR(l)}catch(f){u=f;try{return e.IPv4.parseCIDR(l)}catch(p){throw u=p,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},e.fromByteArray=function(l){var u;if(u=l.length,u===4)return new e.IPv4(l);if(u===16)return new e.IPv6(l);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},e.process=function(l){var u;return u=this.parse(l),u.kind()==="ipv6"&&u.isIPv4MappedAddress()?u.toIPv4Address():u}}).call(qF)});var UF=w((jtt,rv)=>{"use strict";rv.exports=Zge;rv.exports.all=FF;rv.exports.compile=zF;var Wge=jF(),LF=MF(),Gge=/^[0-9]+$/,ev=LF.isValid,tv=LF.parse,DF={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function FF(t,e){var r=Wge(t);if(!e)return r;typeof e!="function"&&(e=zF(e));for(var i=0;i<r.length-1;i++)e(r[i],i)||(r.length=i+1);return r}function zF(t){if(!t)throw new TypeError("argument is required");var e;if(typeof t=="string")e=[t];else if(Array.isArray(t))e=t.slice();else throw new TypeError("unsupported trust argument");for(var r=0;r<e.length;r++)t=e[r],Object.prototype.hasOwnProperty.call(DF,t)&&(t=DF[t],e.splice.apply(e,[r,1].concat(t)),r+=t.length-1);return Jge(Kge(e))}function Kge(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=Yge(t[r]);return e}function Jge(t){var e=t.length;return e===0?Qge:e===1?tye(t[0]):eye(t)}function Yge(t){var e=t.lastIndexOf("/"),r=e!==-1?t.substring(0,e):t;if(!ev(r))throw new TypeError("invalid IP address: "+r);var i=tv(r);e===-1&&i.kind()==="ipv6"&&i.isIPv4MappedAddress()&&(i=i.toIPv4Address());var n=i.kind()==="ipv6"?128:32,s=e!==-1?t.substring(e+1,t.length):null;if(s===null?s=n:Gge.test(s)?s=parseInt(s,10):i.kind()==="ipv4"&&ev(s)?s=Xge(s):s=null,s<=0||s>n)throw new TypeError("invalid range on address: "+t);return[i,s]}function Xge(t){var e=tv(t),r=e.kind();return r==="ipv4"?e.prefixLengthFromSubnetMask():null}function Zge(t,e){if(!t)throw new TypeError("req argument is required");if(!e)throw new TypeError("trust argument is required");var r=FF(t,e),i=r[r.length-1];return i}function Qge(){return!1}function eye(t){return function(r){if(!ev(r))return!1;for(var i=tv(r),n,s=i.kind(),o=0;o<t.length;o++){var a=t[o],c=a[0],l=c.kind(),u=a[1],f=i;if(s!==l){if(l==="ipv4"&&!i.isIPv4MappedAddress())continue;n||(n=l==="ipv4"?i.toIPv4Address():i.toIPv4MappedAddress()),f=n}if(f.match(c,u))return!0}return!1}}function tye(t){var e=t[0],r=e.kind(),i=r==="ipv4",n=t[1];return function(o){if(!ev(o))return!1;var a=tv(o),c=a.kind();if(c!==r){if(i&&!a.isIPv4MappedAddress())return!1;a=i?a.toIPv4Address():a.toIPv4MappedAddress()}return a.match(e,n)}}});var sp=w((qtt,HF)=>{var rye="2.0.0",iye=Number.MAX_SAFE_INTEGER||9007199254740991,nye=16,sye=250,oye=["major","premajor","minor","preminor","patch","prepatch","prerelease"];HF.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:nye,MAX_SAFE_BUILD_LENGTH:sye,MAX_SAFE_INTEGER:iye,RELEASE_TYPES:oye,SEMVER_SPEC_VERSION:rye,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var op=w((Mtt,BF)=>{var aye=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};BF.exports=aye});var mu=w((So,VF)=>{var{MAX_SAFE_COMPONENT_LENGTH:sR,MAX_SAFE_BUILD_LENGTH:cye,MAX_LENGTH:lye}=sp(),uye=op();So=VF.exports={};var fye=So.re=[],dye=So.safeRe=[],ce=So.src=[],le=So.t={},pye=0,oR="[a-zA-Z0-9-]",hye=[["\\s",1],["\\d",lye],[oR,cye]],mye=t=>{for(let[e,r]of hye)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Pe=(t,e,r)=>{let i=mye(e),n=pye++;uye(t,n,e),le[t]=n,ce[n]=e,fye[n]=new RegExp(e,r?"g":void 0),dye[n]=new RegExp(i,r?"g":void 0)};Pe("NUMERICIDENTIFIER","0|[1-9]\\d*");Pe("NUMERICIDENTIFIERLOOSE","\\d+");Pe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${oR}*`);Pe("MAINVERSION",`(${ce[le.NUMERICIDENTIFIER]})\\.(${ce[le.NUMERICIDENTIFIER]})\\.(${ce[le.NUMERICIDENTIFIER]})`);Pe("MAINVERSIONLOOSE",`(${ce[le.NUMERICIDENTIFIERLOOSE]})\\.(${ce[le.NUMERICIDENTIFIERLOOSE]})\\.(${ce[le.NUMERICIDENTIFIERLOOSE]})`);Pe("PRERELEASEIDENTIFIER",`(?:${ce[le.NUMERICIDENTIFIER]}|${ce[le.NONNUMERICIDENTIFIER]})`);Pe("PRERELEASEIDENTIFIERLOOSE",`(?:${ce[le.NUMERICIDENTIFIERLOOSE]}|${ce[le.NONNUMERICIDENTIFIER]})`);Pe("PRERELEASE",`(?:-(${ce[le.PRERELEASEIDENTIFIER]}(?:\\.${ce[le.PRERELEASEIDENTIFIER]})*))`);Pe("PRERELEASELOOSE",`(?:-?(${ce[le.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ce[le.PRERELEASEIDENTIFIERLOOSE]})*))`);Pe("BUILDIDENTIFIER",`${oR}+`);Pe("BUILD",`(?:\\+(${ce[le.BUILDIDENTIFIER]}(?:\\.${ce[le.BUILDIDENTIFIER]})*))`);Pe("FULLPLAIN",`v?${ce[le.MAINVERSION]}${ce[le.PRERELEASE]}?${ce[le.BUILD]}?`);Pe("FULL",`^${ce[le.FULLPLAIN]}$`);Pe("LOOSEPLAIN",`[v=\\s]*${ce[le.MAINVERSIONLOOSE]}${ce[le.PRERELEASELOOSE]}?${ce[le.BUILD]}?`);Pe("LOOSE",`^${ce[le.LOOSEPLAIN]}$`);Pe("GTLT","((?:<|>)?=?)");Pe("XRANGEIDENTIFIERLOOSE",`${ce[le.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Pe("XRANGEIDENTIFIER",`${ce[le.NUMERICIDENTIFIER]}|x|X|\\*`);Pe("XRANGEPLAIN",`[v=\\s]*(${ce[le.XRANGEIDENTIFIER]})(?:\\.(${ce[le.XRANGEIDENTIFIER]})(?:\\.(${ce[le.XRANGEIDENTIFIER]})(?:${ce[le.PRERELEASE]})?${ce[le.BUILD]}?)?)?`);Pe("XRANGEPLAINLOOSE",`[v=\\s]*(${ce[le.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ce[le.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ce[le.XRANGEIDENTIFIERLOOSE]})(?:${ce[le.PRERELEASELOOSE]})?${ce[le.BUILD]}?)?)?`);Pe("XRANGE",`^${ce[le.GTLT]}\\s*${ce[le.XRANGEPLAIN]}$`);Pe("XRANGELOOSE",`^${ce[le.GTLT]}\\s*${ce[le.XRANGEPLAINLOOSE]}$`);Pe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${sR}})(?:\\.(\\d{1,${sR}}))?(?:\\.(\\d{1,${sR}}))?`);Pe("COERCE",`${ce[le.COERCEPLAIN]}(?:$|[^\\d])`);Pe("COERCEFULL",ce[le.COERCEPLAIN]+`(?:${ce[le.PRERELEASE]})?(?:${ce[le.BUILD]})?(?:$|[^\\d])`);Pe("COERCERTL",ce[le.COERCE],!0);Pe("COERCERTLFULL",ce[le.COERCEFULL],!0);Pe("LONETILDE","(?:~>?)");Pe("TILDETRIM",`(\\s*)${ce[le.LONETILDE]}\\s+`,!0);So.tildeTrimReplace="$1~";Pe("TILDE",`^${ce[le.LONETILDE]}${ce[le.XRANGEPLAIN]}$`);Pe("TILDELOOSE",`^${ce[le.LONETILDE]}${ce[le.XRANGEPLAINLOOSE]}$`);Pe("LONECARET","(?:\\^)");Pe("CARETTRIM",`(\\s*)${ce[le.LONECARET]}\\s+`,!0);So.caretTrimReplace="$1^";Pe("CARET",`^${ce[le.LONECARET]}${ce[le.XRANGEPLAIN]}$`);Pe("CARETLOOSE",`^${ce[le.LONECARET]}${ce[le.XRANGEPLAINLOOSE]}$`);Pe("COMPARATORLOOSE",`^${ce[le.GTLT]}\\s*(${ce[le.LOOSEPLAIN]})$|^$`);Pe("COMPARATOR",`^${ce[le.GTLT]}\\s*(${ce[le.FULLPLAIN]})$|^$`);Pe("COMPARATORTRIM",`(\\s*)${ce[le.GTLT]}\\s*(${ce[le.LOOSEPLAIN]}|${ce[le.XRANGEPLAIN]})`,!0);So.comparatorTrimReplace="$1$2$3";Pe("HYPHENRANGE",`^\\s*(${ce[le.XRANGEPLAIN]})\\s+-\\s+(${ce[le.XRANGEPLAIN]})\\s*$`);Pe("HYPHENRANGELOOSE",`^\\s*(${ce[le.XRANGEPLAINLOOSE]})\\s+-\\s+(${ce[le.XRANGEPLAINLOOSE]})\\s*$`);Pe("STAR","(<|>)?=?\\s*\\*");Pe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Pe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var iv=w((Dtt,WF)=>{var gye=Object.freeze({loose:!0}),yye=Object.freeze({}),vye=t=>t?typeof t!="object"?gye:t:yye;WF.exports=vye});var aR=w((Ltt,JF)=>{var GF=/^[0-9]+$/,KF=(t,e)=>{let r=GF.test(t),i=GF.test(e);return r&&i&&(t=+t,e=+e),t===e?0:r&&!i?-1:i&&!r?1:t<e?-1:1},bye=(t,e)=>KF(e,t);JF.exports={compareIdentifiers:KF,rcompareIdentifiers:bye}});var pi=w((Ftt,QF)=>{var nv=op(),{MAX_LENGTH:YF,MAX_SAFE_INTEGER:sv}=sp(),{safeRe:XF,t:ZF}=mu(),_ye=iv(),{compareIdentifiers:gu}=aR(),cR=class t{constructor(e,r){if(r=_ye(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>YF)throw new TypeError(`version is longer than ${YF} characters`);nv("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let i=e.trim().match(r.loose?XF[ZF.LOOSE]:XF[ZF.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>sv||this.major<0)throw new TypeError("Invalid major version");if(this.minor>sv||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>sv||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let s=+n;if(s>=0&&s<sv)return s}return n}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(nv("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),gu(this.major,e.major)||gu(this.minor,e.minor)||gu(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let i=this.prerelease[r],n=e.prerelease[r];if(nv("prerelease compare",r,i,n),i===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(i===void 0)return-1;if(i===n)continue;return gu(i,n)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let i=this.build[r],n=e.build[r];if(nv("build compare",r,i,n),i===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(i===void 0)return-1;if(i===n)continue;return gu(i,n)}while(++r)}inc(e,r,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,i),this.inc("pre",r,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,i),this.inc("pre",r,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(i)?1:0;if(!r&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[n];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(r){let s=[r,n];i===!1&&(s=[r]),gu(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};QF.exports=cR});var Ac=w((ztt,tz)=>{var ez=pi(),wye=(t,e,r=!1)=>{if(t instanceof ez)return t;try{return new ez(t,e)}catch(i){if(!r)return null;throw i}};tz.exports=wye});var iz=w((Utt,rz)=>{var xye=Ac(),Sye=(t,e)=>{let r=xye(t,e);return r?r.version:null};rz.exports=Sye});var sz=w((Htt,nz)=>{var Eye=Ac(),Rye=(t,e)=>{let r=Eye(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};nz.exports=Rye});var cz=w((Btt,az)=>{var oz=pi(),Tye=(t,e,r,i,n)=>{typeof r=="string"&&(n=i,i=r,r=void 0);try{return new oz(t instanceof oz?t.version:t,r).inc(e,i,n).version}catch{return null}};az.exports=Tye});var fz=w((Vtt,uz)=>{var lz=Ac(),$ye=(t,e)=>{let r=lz(t,null,!0),i=lz(e,null,!0),n=r.compare(i);if(n===0)return null;let s=n>0,o=s?r:i,a=s?i:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let u=c?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"};uz.exports=$ye});var pz=w((Wtt,dz)=>{var Pye=pi(),Oye=(t,e)=>new Pye(t,e).major;dz.exports=Oye});var mz=w((Gtt,hz)=>{var kye=pi(),Aye=(t,e)=>new kye(t,e).minor;hz.exports=Aye});var yz=w((Ktt,gz)=>{var Cye=pi(),Nye=(t,e)=>new Cye(t,e).patch;gz.exports=Nye});var bz=w((Jtt,vz)=>{var Iye=Ac(),jye=(t,e)=>{let r=Iye(t,e);return r&&r.prerelease.length?r.prerelease:null};vz.exports=jye});var yn=w((Ytt,wz)=>{var _z=pi(),qye=(t,e,r)=>new _z(t,r).compare(new _z(e,r));wz.exports=qye});var Sz=w((Xtt,xz)=>{var Mye=yn(),Dye=(t,e,r)=>Mye(e,t,r);xz.exports=Dye});var Rz=w((Ztt,Ez)=>{var Lye=yn(),Fye=(t,e)=>Lye(t,e,!0);Ez.exports=Fye});var ov=w((Qtt,$z)=>{var Tz=pi(),zye=(t,e,r)=>{let i=new Tz(t,r),n=new Tz(e,r);return i.compare(n)||i.compareBuild(n)};$z.exports=zye});var Oz=w((ert,Pz)=>{var Uye=ov(),Hye=(t,e)=>t.sort((r,i)=>Uye(r,i,e));Pz.exports=Hye});var Az=w((trt,kz)=>{var Bye=ov(),Vye=(t,e)=>t.sort((r,i)=>Bye(i,r,e));kz.exports=Vye});var ap=w((rrt,Cz)=>{var Wye=yn(),Gye=(t,e,r)=>Wye(t,e,r)>0;Cz.exports=Gye});var av=w((irt,Nz)=>{var Kye=yn(),Jye=(t,e,r)=>Kye(t,e,r)<0;Nz.exports=Jye});var lR=w((nrt,Iz)=>{var Yye=yn(),Xye=(t,e,r)=>Yye(t,e,r)===0;Iz.exports=Xye});var uR=w((srt,jz)=>{var Zye=yn(),Qye=(t,e,r)=>Zye(t,e,r)!==0;jz.exports=Qye});var cv=w((ort,qz)=>{var eve=yn(),tve=(t,e,r)=>eve(t,e,r)>=0;qz.exports=tve});var lv=w((art,Mz)=>{var rve=yn(),ive=(t,e,r)=>rve(t,e,r)<=0;Mz.exports=ive});var fR=w((crt,Dz)=>{var nve=lR(),sve=uR(),ove=ap(),ave=cv(),cve=av(),lve=lv(),uve=(t,e,r,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return nve(t,r,i);case"!=":return sve(t,r,i);case">":return ove(t,r,i);case">=":return ave(t,r,i);case"<":return cve(t,r,i);case"<=":return lve(t,r,i);default:throw new TypeError(`Invalid operator: ${e}`)}};Dz.exports=uve});var Fz=w((lrt,Lz)=>{var fve=pi(),dve=Ac(),{safeRe:uv,t:fv}=mu(),pve=(t,e)=>{if(t instanceof fve)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?uv[fv.COERCEFULL]:uv[fv.COERCE]);else{let c=e.includePrerelease?uv[fv.COERCERTLFULL]:uv[fv.COERCERTL],l;for(;(l=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;let i=r[2],n=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return dve(`${i}.${n}.${s}${o}${a}`,e)};Lz.exports=pve});var Uz=w((urt,zz)=>{var dR=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let n=this.map.keys().next().value;this.delete(n)}this.map.set(e,r)}return this}};zz.exports=dR});var vn=w((frt,Wz)=>{var pR=class t{constructor(e,r){if(r=mve(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof hR)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(n=>!Bz(n[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&xve(n[0])){this.set=[n];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let i=((this.options.includePrerelease&&_ve)|(this.options.loose&&wve))+":"+e,n=Hz.get(i);if(n)return n;let s=this.options.loose,o=s?Gi[ki.HYPHENRANGELOOSE]:Gi[ki.HYPHENRANGE];e=e.replace(o,Cve(this.options.includePrerelease)),Zt("hyphen replace",e),e=e.replace(Gi[ki.COMPARATORTRIM],yve),Zt("comparator trim",e),e=e.replace(Gi[ki.TILDETRIM],vve),Zt("tilde trim",e),e=e.replace(Gi[ki.CARETTRIM],bve),Zt("caret trim",e);let a=e.split(" ").map(f=>Sve(f,this.options)).join(" ").split(/\s+/).map(f=>Ave(f,this.options));s&&(a=a.filter(f=>(Zt("loose invalid filter",f,this.options),!!f.match(Gi[ki.COMPARATORLOOSE])))),Zt("range list",a);let c=new Map,l=a.map(f=>new hR(f,this.options));for(let f of l){if(Bz(f))return[f];c.set(f.value,f)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return Hz.set(i,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(i=>Vz(i,r)&&e.set.some(n=>Vz(n,r)&&i.every(s=>n.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new gve(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Nve(this.set[r],e,this.options))return!0;return!1}};Wz.exports=pR;var hve=Uz(),Hz=new hve,mve=iv(),hR=cp(),Zt=op(),gve=pi(),{safeRe:Gi,t:ki,comparatorTrimReplace:yve,tildeTrimReplace:vve,caretTrimReplace:bve}=mu(),{FLAG_INCLUDE_PRERELEASE:_ve,FLAG_LOOSE:wve}=sp(),Bz=t=>t.value==="<0.0.0-0",xve=t=>t.value==="",Vz=(t,e)=>{let r=!0,i=t.slice(),n=i.pop();for(;r&&i.length;)r=i.every(s=>n.intersects(s,e)),n=i.pop();return r},Sve=(t,e)=>(Zt("comp",t,e),t=Tve(t,e),Zt("caret",t),t=Eve(t,e),Zt("tildes",t),t=Pve(t,e),Zt("xrange",t),t=kve(t,e),Zt("stars",t),t),Ai=t=>!t||t.toLowerCase()==="x"||t==="*",Eve=(t,e)=>t.trim().split(/\s+/).map(r=>Rve(r,e)).join(" "),Rve=(t,e)=>{let r=e.loose?Gi[ki.TILDELOOSE]:Gi[ki.TILDE];return t.replace(r,(i,n,s,o,a)=>{Zt("tilde",t,i,n,s,o,a);let c;return Ai(n)?c="":Ai(s)?c=`>=${n}.0.0 <${+n+1}.0.0-0`:Ai(o)?c=`>=${n}.${s}.0 <${n}.${+s+1}.0-0`:a?(Zt("replaceTilde pr",a),c=`>=${n}.${s}.${o}-${a} <${n}.${+s+1}.0-0`):c=`>=${n}.${s}.${o} <${n}.${+s+1}.0-0`,Zt("tilde return",c),c})},Tve=(t,e)=>t.trim().split(/\s+/).map(r=>$ve(r,e)).join(" "),$ve=(t,e)=>{Zt("caret",t,e);let r=e.loose?Gi[ki.CARETLOOSE]:Gi[ki.CARET],i=e.includePrerelease?"-0":"";return t.replace(r,(n,s,o,a,c)=>{Zt("caret",t,n,s,o,a,c);let l;return Ai(s)?l="":Ai(o)?l=`>=${s}.0.0${i} <${+s+1}.0.0-0`:Ai(a)?s==="0"?l=`>=${s}.${o}.0${i} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.0${i} <${+s+1}.0.0-0`:c?(Zt("replaceCaret pr",c),s==="0"?o==="0"?l=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(Zt("no pr"),s==="0"?o==="0"?l=`>=${s}.${o}.${a}${i} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}${i} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Zt("caret return",l),l})},Pve=(t,e)=>(Zt("replaceXRanges",t,e),t.split(/\s+/).map(r=>Ove(r,e)).join(" ")),Ove=(t,e)=>{t=t.trim();let r=e.loose?Gi[ki.XRANGELOOSE]:Gi[ki.XRANGE];return t.replace(r,(i,n,s,o,a,c)=>{Zt("xRange",t,i,n,s,o,a,c);let l=Ai(s),u=l||Ai(o),f=u||Ai(a),p=f;return n==="="&&p&&(n=""),c=e.includePrerelease?"-0":"",l?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&p?(u&&(o=0),a=0,n===">"?(n=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):n==="<="&&(n="<",u?s=+s+1:o=+o+1),n==="<"&&(c="-0"),i=`${n+s}.${o}.${a}${c}`):u?i=`>=${s}.0.0${c} <${+s+1}.0.0-0`:f&&(i=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),Zt("xRange return",i),i})},kve=(t,e)=>(Zt("replaceStars",t,e),t.trim().replace(Gi[ki.STAR],"")),Ave=(t,e)=>(Zt("replaceGTE0",t,e),t.trim().replace(Gi[e.includePrerelease?ki.GTE0PRE:ki.GTE0],"")),Cve=t=>(e,r,i,n,s,o,a,c,l,u,f,p)=>(Ai(i)?r="":Ai(n)?r=`>=${i}.0.0${t?"-0":""}`:Ai(s)?r=`>=${i}.${n}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ai(l)?c="":Ai(u)?c=`<${+l+1}.0.0-0`:Ai(f)?c=`<${l}.${+u+1}.0-0`:p?c=`<=${l}.${u}.${f}-${p}`:t?c=`<${l}.${u}.${+f+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Nve=(t,e,r)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let i=0;i<t.length;i++)if(Zt(t[i].semver),t[i].semver!==hR.ANY&&t[i].semver.prerelease.length>0){let n=t[i].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var cp=w((drt,Zz)=>{var lp=Symbol("SemVer ANY"),yR=class t{static get ANY(){return lp}constructor(e,r){if(r=Gz(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),gR("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===lp?this.value="":this.value=this.operator+this.semver.version,gR("comp",this)}parse(e){let r=this.options.loose?Kz[Jz.COMPARATORLOOSE]:Kz[Jz.COMPARATOR],i=e.match(r);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new Yz(i[2],this.options.loose):this.semver=lp}toString(){return this.value}test(e){if(gR("Comparator.test",e,this.options.loose),this.semver===lp||e===lp)return!0;if(typeof e=="string")try{e=new Yz(e,this.options)}catch{return!1}return mR(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Xz(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Xz(this.value,r).test(e.semver):(r=Gz(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||mR(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||mR(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Zz.exports=yR;var Gz=iv(),{safeRe:Kz,t:Jz}=mu(),mR=fR(),gR=op(),Yz=pi(),Xz=vn()});var up=w((prt,Qz)=>{var Ive=vn(),jve=(t,e,r)=>{try{e=new Ive(e,r)}catch{return!1}return e.test(t)};Qz.exports=jve});var tU=w((hrt,eU)=>{var qve=vn(),Mve=(t,e)=>new qve(t,e).set.map(r=>r.map(i=>i.value).join(" ").trim().split(" "));eU.exports=Mve});var iU=w((mrt,rU)=>{var Dve=pi(),Lve=vn(),Fve=(t,e,r)=>{let i=null,n=null,s=null;try{s=new Lve(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!i||n.compare(o)===-1)&&(i=o,n=new Dve(i,r))}),i};rU.exports=Fve});var sU=w((grt,nU)=>{var zve=pi(),Uve=vn(),Hve=(t,e,r)=>{let i=null,n=null,s=null;try{s=new Uve(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!i||n.compare(o)===1)&&(i=o,n=new zve(i,r))}),i};nU.exports=Hve});var cU=w((yrt,aU)=>{var vR=pi(),Bve=vn(),oU=ap(),Vve=(t,e)=>{t=new Bve(t,e);let r=new vR("0.0.0");if(t.test(r)||(r=new vR("0.0.0-0"),t.test(r)))return r;r=null;for(let i=0;i<t.set.length;++i){let n=t.set[i],s=null;n.forEach(o=>{let a=new vR(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||oU(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||oU(r,s))&&(r=s)}return r&&t.test(r)?r:null};aU.exports=Vve});var uU=w((vrt,lU)=>{var Wve=vn(),Gve=(t,e)=>{try{return new Wve(t,e).range||"*"}catch{return null}};lU.exports=Gve});var dv=w((brt,hU)=>{var Kve=pi(),pU=cp(),{ANY:Jve}=pU,Yve=vn(),Xve=up(),fU=ap(),dU=av(),Zve=lv(),Qve=cv(),e0e=(t,e,r,i)=>{t=new Kve(t,i),e=new Yve(e,i);let n,s,o,a,c;switch(r){case">":n=fU,s=Zve,o=dU,a=">",c=">=";break;case"<":n=dU,s=Qve,o=fU,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Xve(t,e,i))return!1;for(let l=0;l<e.set.length;++l){let u=e.set[l],f=null,p=null;if(u.forEach(d=>{d.semver===Jve&&(d=new pU(">=0.0.0")),f=f||d,p=p||d,n(d.semver,f.semver,i)?f=d:o(d.semver,p.semver,i)&&(p=d)}),f.operator===a||f.operator===c||(!p.operator||p.operator===a)&&s(t,p.semver))return!1;if(p.operator===c&&o(t,p.semver))return!1}return!0};hU.exports=e0e});var gU=w((_rt,mU)=>{var t0e=dv(),r0e=(t,e,r)=>t0e(t,e,">",r);mU.exports=r0e});var vU=w((wrt,yU)=>{var i0e=dv(),n0e=(t,e,r)=>i0e(t,e,"<",r);yU.exports=n0e});var wU=w((xrt,_U)=>{var bU=vn(),s0e=(t,e,r)=>(t=new bU(t,r),e=new bU(e,r),t.intersects(e,r));_U.exports=s0e});var SU=w((Srt,xU)=>{var o0e=up(),a0e=yn();xU.exports=(t,e,r)=>{let i=[],n=null,s=null,o=t.sort((u,f)=>a0e(u,f,r));for(let u of o)o0e(u,e,r)?(s=u,n||(n=u)):(s&&i.push([n,s]),s=null,n=null);n&&i.push([n,null]);let a=[];for(let[u,f]of i)u===f?a.push(u):!f&&u===o[0]?a.push("*"):f?u===o[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e}});var OU=w((Ert,PU)=>{var EU=vn(),_R=cp(),{ANY:bR}=_R,fp=up(),wR=yn(),c0e=(t,e,r={})=>{if(t===e)return!0;t=new EU(t,r),e=new EU(e,r);let i=!1;e:for(let n of t.set){for(let s of e.set){let o=u0e(n,s,r);if(i=i||o!==null,o)continue e}if(i)return!1}return!0},l0e=[new _R(">=0.0.0-0")],RU=[new _R(">=0.0.0")],u0e=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===bR){if(e.length===1&&e[0].semver===bR)return!0;r.includePrerelease?t=l0e:t=RU}if(e.length===1&&e[0].semver===bR){if(r.includePrerelease)return!0;e=RU}let i=new Set,n,s;for(let d of t)d.operator===">"||d.operator===">="?n=TU(n,d,r):d.operator==="<"||d.operator==="<="?s=$U(s,d,r):i.add(d.semver);if(i.size>1)return null;let o;if(n&&s){if(o=wR(n.semver,s.semver,r),o>0)return null;if(o===0&&(n.operator!==">="||s.operator!=="<="))return null}for(let d of i){if(n&&!fp(d,String(n),r)||s&&!fp(d,String(s),r))return null;for(let h of e)if(!fp(d,String(h),r))return!1;return!0}let a,c,l,u,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let d of e){if(u=u||d.operator===">"||d.operator===">=",l=l||d.operator==="<"||d.operator==="<=",n){if(p&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===p.major&&d.semver.minor===p.minor&&d.semver.patch===p.patch&&(p=!1),d.operator===">"||d.operator===">="){if(a=TU(n,d,r),a===d&&a!==n)return!1}else if(n.operator===">="&&!fp(n.semver,String(d),r))return!1}if(s){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(c=$U(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!fp(s.semver,String(d),r))return!1}if(!d.operator&&(s||n)&&o!==0)return!1}return!(n&&l&&!s&&o!==0||s&&u&&!n&&o!==0||p||f)},TU=(t,e,r)=>{if(!t)return e;let i=wR(t.semver,e.semver,r);return i>0?t:i<0||e.operator===">"&&t.operator===">="?e:t},$U=(t,e,r)=>{if(!t)return e;let i=wR(t.semver,e.semver,r);return i<0?t:i>0||e.operator==="<"&&t.operator==="<="?e:t};PU.exports=c0e});var SR=w((Rrt,CU)=>{var xR=mu(),kU=sp(),f0e=pi(),AU=aR(),d0e=Ac(),p0e=iz(),h0e=sz(),m0e=cz(),g0e=fz(),y0e=pz(),v0e=mz(),b0e=yz(),_0e=bz(),w0e=yn(),x0e=Sz(),S0e=Rz(),E0e=ov(),R0e=Oz(),T0e=Az(),$0e=ap(),P0e=av(),O0e=lR(),k0e=uR(),A0e=cv(),C0e=lv(),N0e=fR(),I0e=Fz(),j0e=cp(),q0e=vn(),M0e=up(),D0e=tU(),L0e=iU(),F0e=sU(),z0e=cU(),U0e=uU(),H0e=dv(),B0e=gU(),V0e=vU(),W0e=wU(),G0e=SU(),K0e=OU();CU.exports={parse:d0e,valid:p0e,clean:h0e,inc:m0e,diff:g0e,major:y0e,minor:v0e,patch:b0e,prerelease:_0e,compare:w0e,rcompare:x0e,compareLoose:S0e,compareBuild:E0e,sort:R0e,rsort:T0e,gt:$0e,lt:P0e,eq:O0e,neq:k0e,gte:A0e,lte:C0e,cmp:N0e,coerce:I0e,Comparator:j0e,Range:q0e,satisfies:M0e,toComparators:D0e,maxSatisfying:L0e,minSatisfying:F0e,minVersion:z0e,validRange:U0e,outside:H0e,gtr:B0e,ltr:V0e,intersects:W0e,simplifyRange:G0e,subset:K0e,SemVer:f0e,re:xR.re,src:xR.src,tokens:xR.t,SEMVER_SPEC_VERSION:kU.SEMVER_SPEC_VERSION,RELEASE_TYPES:kU.RELEASE_TYPES,compareIdentifiers:AU.compareIdentifiers,rcompareIdentifiers:AU.rcompareIdentifiers}});var hv=w((Trt,$R)=>{"use strict";var pv=UF(),J0e=SR(),{FSTDEP005:Y0e,FSTDEP012:X0e,FSTDEP015:Z0e,FSTDEP016:Q0e,FSTDEP017:ebe,FSTDEP018:tbe}=_o(),{kHasBeenDecorated:rbe,kSchemaBody:ibe,kSchemaHeaders:nbe,kSchemaParams:sbe,kSchemaQuerystring:NU,kSchemaController:ER,kOptions:obe,kRequestCacheValidateFns:Sa,kRouteContext:Er,kPublicRouteContext:IU,kRequestOriginalUrl:RR}=Dr(),{FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:abe}=fi(),jU={body:ibe,headers:nbe,params:sbe,querystring:NU,query:NU};function TR(t,e,r,i,n,s){this.id=t,this[Er]=s,this.params=e,this.raw=r,this.query=i,this.log=n,this.body=void 0}TR.props=[];function cbe(t){if(typeof t=="function")return t;if(t===!0)return function(){return!0};if(typeof t=="number")return function(e,r){return r<t};if(typeof t=="string"){let e=t.split(",").map(r=>r.trim());return pv.compile(e)}return pv.compile(t)}function lbe(t,e){return e?ube(t,e):MU(t)}function MU(t){let e=t.props.slice();function r(i,n,s,o,a,c){this.id=i,this[Er]=c,this.params=n,this.raw=s,this.query=o,this.log=a,this.body=void 0;for(var l,u=0;u<e.length;u++)l=e[u],this[l.key]=l.value}return Object.setPrototypeOf(r.prototype,t.prototype),Object.setPrototypeOf(r,t),r.props=e,r.parent=t,r}function qU(t){let e=t.lastIndexOf(",");return e===-1?t.trim():t.slice(e+1).trim()}function ube(t,e){let r=MU(t),i=cbe(e);return r[rbe]=!0,Object.defineProperties(r.prototype,{ip:{get(){return pv(this.raw,i)}},ips:{get(){return pv.all(this.raw,i)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?qU(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){if(this.headers["x-forwarded-proto"])return qU(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),r}Object.defineProperties(TR.prototype,{server:{get(){return this[Er].server}},url:{get(){return this.raw.url}},originalUrl:{get(){return this[RR]||(this[RR]=this.raw.originalUrl||this.raw.url),this[RR]}},method:{get(){return this.raw.method}},context:{get(){return X0e(),this[Er]}},routerPath:{get(){return ebe(),this[Er].config?.url}},routeOptions:{get(){let t=this[Er],e=t._parserOptions.limit,r=t.server.initialConfig.bodyLimit,i=t.server.hasConstraintStrategy("version")?this.raw.headers["accept-version"]:void 0,n={method:t.config?.method,url:t.config?.url,bodyLimit:e||r,attachValidation:t.attachValidation,logLevel:t.logLevel,exposeHeadRoute:t.exposeHeadRoute,prefixTrailingSlash:t.prefixTrailingSlash,handler:t.handler,version:i};return Object.defineProperties(n,{config:{get:()=>t.config},schema:{get:()=>t.schema}}),Object.freeze(n)}},routerMethod:{get(){return tbe(),this[Er].config?.method}},routeConfig:{get(){return Q0e(),this[Er][IU]?.config}},routeSchema:{get(){return Z0e(),this[Er][IU].schema}},is404:{get(){return this[Er].config?.url===void 0}},connection:{get(){return J0e.gte(process.versions.node,"13.0.0")&&Y0e(),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(t){this.additionalHeaders=t}},getValidationFunction:{value:function(t){if(typeof t=="string"){let e=jU[t];return this[Er][e]}else if(typeof t=="object")return this[Er][Sa]?.get(t)}},compileValidationSchema:{value:function(t,e=null){let{method:r,url:i}=this;if(this[Er][Sa]?.has(t))return this[Er][Sa].get(t);let s=(this[Er].validatorCompiler||this.server[ER].validatorCompiler||this.server[ER].setupValidator(this.server[obe])||this.server[ER].validatorCompiler)({schema:t,method:r,url:i,httpPart:e});return this[Er][Sa]==null&&(this[Er][Sa]=new WeakMap),this[Er][Sa].set(t,s),s}},validateInput:{value:function(t,e,r){r=typeof e=="string"?e:r;let i=r!=null&&typeof r=="string"&&jU[r],n;if(i&&(n=this[Er][i]),n==null&&(e==null||typeof e!="object"||Array.isArray(e)))throw new abe(r);return n==null&&(this[Er][Sa]?.has(e)?n=this[Er][Sa].get(e):n=this.compileValidationSchema(e,r)),n(t)}}});$R.exports=TR;$R.exports.buildRequest=lbe});var mv=w(($rt,DU)=>{"use strict";var{kFourOhFourContext:fbe,kReplySerializerDefault:dbe,kSchemaErrorFormatter:pbe,kErrorHandler:hbe,kChildLoggerFactory:mbe,kOptions:gbe,kReply:ybe,kRequest:vbe,kBodyLimit:bbe,kLogLevel:_be,kContentTypeParser:wbe,kRouteByFastify:xbe,kRequestCacheValidateFns:Sbe,kReplyCacheSerializeFns:Ebe,kPublicRouteContext:Rbe}=Dr();function Tbe({schema:t,handler:e,config:r,requestIdLogLabel:i,childLoggerFactory:n,errorHandler:s,bodyLimit:o,logLevel:a,logSerializers:c,attachValidation:l,validatorCompiler:u,serializerCompiler:f,replySerializer:p,schemaErrorFormatter:d,exposeHeadRoute:h,prefixTrailingSlash:m,server:v,isFastify:y}){this.schema=t,this.handler=e,this.Reply=v[ybe],this.Request=v[vbe],this.contentTypeParser=v[wbe],this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.preSerialization=null,this.onRequestAbort=null,this.config=r,this.errorHandler=s||v[hbe],this.requestIdLogLabel=i||v[gbe].requestIdLogLabel,this.childLoggerFactory=n||v[mbe],this._middie=null,this._parserOptions={limit:o||v[bbe]},this.exposeHeadRoute=h,this.prefixTrailingSlash=m,this.logLevel=a||v[_be],this.logSerializers=c,this[fbe]=null,this.attachValidation=l,this[dbe]=p,this.schemaErrorFormatter=d||v[pbe]||Pbe,this[xbe]=y,this[Sbe]=null,this[Ebe]=null,this.validatorCompiler=u||null,this.serializerCompiler=f||null,this[Rbe]=$be(this),this.server=v}function $be(t){return Object.create(null,{schema:{enumerable:!0,get(){return t.schema}},config:{enumerable:!0,get(){return t.config}}})}function Pbe(t,e){let r="",i=", ";for(var n=0;n!==t.length;++n){let s=t[n];r+=e+(s.instancePath||"")+" "+s.message+i}return new Error(r.slice(0,-i.length))}DU.exports=Tbe});var PR=w((Prt,LU)=>{"use strict";LU.exports={supportedMethods:["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS","PROPFIND","PROPPATCH","MKCOL","COPY","MOVE","LOCK","UNLOCK","TRACE","SEARCH","REPORT","MKCALENDAR"]}});var NR=w((Ort,HU)=>{"use strict";var{kReply:OR,kRequest:kR,kState:Obe,kHasBeenDecorated:kbe}=Dr(),{FST_ERR_DEC_ALREADY_PRESENT:FU,FST_ERR_DEC_MISSING_DEPENDENCY:Abe,FST_ERR_DEC_AFTER_START:Cbe,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:Nbe}=fi(),{FSTDEP006:Ibe}=_o();function jbe(t,e,r,i){if(Object.prototype.hasOwnProperty.call(t,e))throw new FU(e);AR(t,e,i),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(t,e,{get:r.getter,set:r.setter}):t[e]=r}function zU(t,e,r,i){let n=t.prototype;if(Object.prototype.hasOwnProperty.call(n,e)||yv(t,e))throw new FU(e);t[kbe]=!0,AR(t,e,i),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(n,e,{get:r.getter,set:r.setter}):typeof r=="function"?n[e]=r:t.props.push({key:e,value:r})}function UU(t,e){typeof e=="object"&&e&&!(typeof e.getter=="function"||typeof e.setter=="function")&&Ibe(t)}function qbe(t,e,r){return CR(this,t),jbe(this,t,e,r),this}function gv(t,e){return e?e in t||t.prototype&&e in t.prototype||yv(t,e):t in this}function yv(t,e){return t.props?t.props.find(({key:r})=>r===e):!1}function Mbe(t){return t&&yv(this[kR],t)?!0:gv(this[kR].prototype,t)}function Dbe(t){return t&&yv(this[OR],t)?!0:gv(this[OR].prototype,t)}function AR(t,e,r){if(r!=null){if(!Array.isArray(r))throw new Nbe(e);for(var i=0;i!==r.length;++i)if(!gv(t,r[i]))throw new Abe(r[i])}}function Lbe(t,e,r){return CR(this,t),UU(t,e),zU(this[OR],t,e,r),this}function Fbe(t,e,r){return CR(this,t),UU(t,e),zU(this[kR],t,e,r),this}function CR(t,e){if(t[Obe].started)throw new Cbe(e)}HU.exports={add:qbe,exist:gv,existRequest:Mbe,existReply:Dbe,dependencies:AR,decorateReply:Lbe,decorateRequest:Fbe}});var MR=w(As=>{"use strict";var IR=class{constructor(e=1e3,r=0){if(isNaN(e)||e<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=e,this.ttl=r}get size(){return this.items.size}clear(){this.items=new Map,this.first=null,this.last=null}delete(e){if(this.items.has(e)){let r=this.items.get(e);this.items.delete(e),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(e){for(var r=0;r<e.length;r++)this.delete(e[r])}evict(){if(this.size>0){let e=this.first;this.items.delete(e.key),this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(this.items.has(e))return this.items.get(e).expiry}get(e){if(this.items.has(e)){let r=this.items.get(e);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return r.value}}getMany(e){let r=[];for(var i=0;i<e.length;i++)r.push(this.get(e[i]));return r}keys(){return this.items.keys()}set(e,r){if(this.items.has(e)){let n=this.items.get(e);n.value=r,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let i={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};this.items.set(e,i),this.size===1?this.first=i:this.last.next=i,this.last=i}},jR=class{constructor(e=1e3,r=0){if(isNaN(e)||e<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=e,this.ttl=r}get size(){return this.items.size}bumpLru(e){if(this.last===e)return;let r=this.last,i=e.next,n=e.prev;this.first===e&&(this.first=i),e.next=null,e.prev=r,r.next=e,n!==null&&(n.next=i),i!==null&&(i.prev=n),this.last=e}clear(){this.items=new Map,this.first=null,this.last=null}delete(e){if(this.items.has(e)){let r=this.items.get(e);this.items.delete(e),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(e){for(var r=0;r<e.length;r++)this.delete(e[r])}evict(){if(this.size>0){let e=this.first;this.items.delete(e.key),this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(this.items.has(e))return this.items.get(e).expiry}get(e){if(this.items.has(e)){let r=this.items.get(e);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return this.bumpLru(r),r.value}}getMany(e){let r=[];for(var i=0;i<e.length;i++)r.push(this.get(e[i]));return r}keys(){return this.items.keys()}set(e,r){if(this.items.has(e)){let n=this.items.get(e);n.value=r,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==n&&this.bumpLru(n);return}this.max>0&&this.size===this.max&&this.evict();let i={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};this.items.set(e,i),this.size===1?this.first=i:this.last.next=i,this.last=i}},dp=class{constructor(e=1e3,r=0){if(isNaN(e)||e<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=e,this.ttl=r}bumpLru(e){if(this.last===e)return;let r=this.last,i=e.next,n=e.prev;this.first===e&&(this.first=i),e.next=null,e.prev=r,r.next=e,n!==null&&(n.next=i),i!==null&&(i.prev=n),this.last=e}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];delete this.items[e],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(e){for(var r=0;r<e.length;r++)this.delete(e[r])}evict(){if(this.size>0){let e=this.first;delete this.items[e.key],--this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(Object.prototype.hasOwnProperty.call(this.items,e))return this.items[e].expiry}get(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return this.bumpLru(r),r.value}}getMany(e){let r=[];for(var i=0;i<e.length;i++)r.push(this.get(e[i]));return r}keys(){return Object.keys(this.items)}set(e,r){if(Object.prototype.hasOwnProperty.call(this.items,e)){let n=this.items[e];n.value=r,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==n&&this.bumpLru(n);return}this.max>0&&this.size===this.max&&this.evict();let i={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};this.items[e]=i,++this.size===1?this.first=i:this.last.next=i,this.last=i}},vv=class{constructor(){this.records={}}initForCache(e,r){this.records[e]={[r]:{cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}}resetForCache(e){for(let r of Object.keys(this.records[e]))this.records[e][r]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}getStatistics(){return this.records}};function BU(t){return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}var qR=class{constructor(e,r,i){this.cacheId=e,this.statisticTtlInHours=r,this.collectionStart=new Date,this.currentTimeStamp=BU(this.collectionStart),this.records=i||new vv,this.records.initForCache(this.cacheId,this.currentTimeStamp)}get currentRecord(){return this.records.records[this.cacheId][this.currentTimeStamp]||(this.records.records[this.cacheId][this.currentTimeStamp]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,sets:0,invalidateOne:0,invalidateAll:0}),this.records.records[this.cacheId][this.currentTimeStamp]}hoursPassed(){return(Date.now()-this.collectionStart)/1e3/60/60}addHit(){this.archiveIfNeeded(),this.currentRecord.hits++}addFalsyHit(){this.archiveIfNeeded(),this.currentRecord.falsyHits++}addEmptyHit(){this.archiveIfNeeded(),this.currentRecord.emptyHits++}addMiss(){this.archiveIfNeeded(),this.currentRecord.misses++}addEviction(){this.archiveIfNeeded(),this.currentRecord.evictions++}setCacheSize(e){this.archiveIfNeeded(),this.currentRecord.cacheSize=e}addExpiration(){this.archiveIfNeeded(),this.currentRecord.expirations++}addSet(){this.archiveIfNeeded(),this.currentRecord.sets++}addInvalidateOne(){this.archiveIfNeeded(),this.currentRecord.invalidateOne++}addInvalidateAll(){this.archiveIfNeeded(),this.currentRecord.invalidateAll++}getStatistics(){return this.records.getStatistics()}archiveIfNeeded(){this.hoursPassed()>=this.statisticTtlInHours&&(this.collectionStart=new Date,this.currentTimeStamp=BU(this.collectionStart),this.records.initForCache(this.cacheId,this.currentTimeStamp))}},bv=class extends dp{constructor(e,r,i,n,s){if(super(e||1e3,r||0),!i)throw new Error("Cache id is mandatory");this.hitStatistics=new qR(i,s!==void 0?s:24,n)}getStatistics(){return this.hitStatistics.getStatistics()}set(e,r){super.set(e,r),this.hitStatistics.addSet(),this.hitStatistics.setCacheSize(this.size)}evict(){super.evict(),this.hitStatistics.addEviction(),this.hitStatistics.setCacheSize(this.size)}delete(e,r=!1){super.delete(e),r||this.hitStatistics.addInvalidateOne(),this.hitStatistics.setCacheSize(this.size)}clear(){super.clear(),this.hitStatistics.addInvalidateAll(),this.hitStatistics.setCacheSize(this.size)}get(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e,!0),this.hitStatistics.addExpiration();return}return this.bumpLru(r),r.value||this.hitStatistics.addFalsyHit(),(r.value===void 0||r.value===null||r.value==="")&&this.hitStatistics.addEmptyHit(),this.hitStatistics.addHit(),r.value}this.hitStatistics.addMiss()}},_v=class{constructor(e=1e3,r=0){if(isNaN(e)||e<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=e,this.ttl=r}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];delete this.items[e],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(e){for(var r=0;r<e.length;r++)this.delete(e[r])}evict(){if(this.size>0){let e=this.first;delete this.items[e.key],--this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(Object.prototype.hasOwnProperty.call(this.items,e))return this.items[e].expiry}get(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return r.value}}getMany(e){let r=[];for(var i=0;i<e.length;i++)r.push(this.get(e[i]));return r}keys(){return Object.keys(this.items)}set(e,r){if(Object.prototype.hasOwnProperty.call(this.items,e)){let n=this.items[e];n.value=r,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let i={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};this.items[e]=i,++this.size===1?this.first=i:this.last.next=i,this.last=i}};As.Fifo=_v;As.FifoMap=IR;As.FifoObject=_v;As.HitStatisticsRecord=vv;As.Lru=dp;As.LruHitStatistics=bv;As.LruMap=jR;As.LruObject=dp;As.LruObjectHitStatistics=bv});var KU=w((Art,pp)=>{"use strict";var Sv=function(){};Sv.prototype=Object.create(null);var wv=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,xv=/\\([\v\u0020-\u00ff])/gu,VU=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,Cc={type:"",parameters:new Sv};Object.freeze(Cc.parameters);Object.freeze(Cc);function WU(t){if(typeof t!="string")throw new TypeError("argument header is required and must be a string");let e=t.indexOf(";"),r=e!==-1?t.slice(0,e).trim():t.trim();if(VU.test(r)===!1)throw new TypeError("invalid media type");let i={type:r.toLowerCase(),parameters:new Sv};if(e===-1)return i;let n,s,o;for(wv.lastIndex=e;s=wv.exec(t);){if(s.index!==e)throw new TypeError("invalid parameter format");e+=s[0].length,n=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.slice(1,o.length-1),xv.test(o)&&(o=o.replace(xv,"$1"))),i.parameters[n]=o}if(e!==t.length)throw new TypeError("invalid parameter format");return i}function GU(t){if(typeof t!="string")return Cc;let e=t.indexOf(";"),r=e!==-1?t.slice(0,e).trim():t.trim();if(VU.test(r)===!1)return Cc;let i={type:r.toLowerCase(),parameters:new Sv};if(e===-1)return i;let n,s,o;for(wv.lastIndex=e;s=wv.exec(t);){if(s.index!==e)return Cc;e+=s[0].length,n=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.slice(1,o.length-1),xv.test(o)&&(o=o.replace(xv,"$1"))),i.parameters[n]=o}return e!==t.length?Cc:i}pp.exports.default={parse:WU,safeParse:GU};pp.exports.parse=WU;pp.exports.safeParse=GU;pp.exports.defaultContentType=Cc});var LR=w((Crt,yu)=>{"use strict";var zbe=typeof Buffer<"u",JU=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,YU=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function XU(t,e,r){r==null&&e!==null&&typeof e=="object"&&(r=e,e=void 0),zbe&&Buffer.isBuffer(t)&&(t=t.toString()),t&&t.charCodeAt(0)===65279&&(t=t.slice(1));let i=JSON.parse(t,e);if(i===null||typeof i!="object")return i;let n=r&&r.protoAction||"error",s=r&&r.constructorAction||"error";if(n==="ignore"&&s==="ignore")return i;if(n!=="ignore"&&s!=="ignore"){if(JU.test(t)===!1&&YU.test(t)===!1)return i}else if(n!=="ignore"&&s==="ignore"){if(JU.test(t)===!1)return i}else if(YU.test(t)===!1)return i;return ZU(i,{protoAction:n,constructorAction:s,safe:r&&r.safe})}function ZU(t,{protoAction:e="error",constructorAction:r="error",safe:i}={}){let n=[t];for(;n.length;){let s=n;n=[];for(let o of s){if(e!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(i===!0)return null;if(e==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(i===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let a in o){let c=o[a];c&&typeof c=="object"&&n.push(c)}}}return t}function DR(t,e,r){let i=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return XU(t,e,r)}finally{Error.stackTraceLimit=i}}function Ube(t,e){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return XU(t,e,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}yu.exports=DR;yu.exports.default=DR;yu.exports.parse=DR;yu.exports.safeParse=Ube;yu.exports.scan=ZU});var BR=w((Nrt,mp)=>{"use strict";var{AsyncResource:Hbe}=require("node:async_hooks"),{FifoMap:e4}=MR(),{safeParse:t4,defaultContentType:Bbe}=KU(),Vbe=LR(),{kDefaultJsonParse:hp,kContentTypeParser:vu,kBodyLimit:Wbe,kRequestPayloadStream:r4,kState:zR,kTestInternals:Gbe,kReplyIsError:i4,kRouteContext:Kbe}=Dr(),{FST_ERR_CTP_INVALID_TYPE:n4,FST_ERR_CTP_EMPTY_TYPE:Jbe,FST_ERR_CTP_ALREADY_PRESENT:Ybe,FST_ERR_CTP_INVALID_HANDLER:Xbe,FST_ERR_CTP_INVALID_PARSE_TYPE:Zbe,FST_ERR_CTP_BODY_TOO_LARGE:QU,FST_ERR_CTP_INVALID_MEDIA_TYPE:Qbe,FST_ERR_CTP_INVALID_CONTENT_LENGTH:e_e,FST_ERR_CTP_EMPTY_JSON_BODY:t_e,FST_ERR_CTP_INSTANCE_ALREADY_STARTED:UR}=fi();function Eo(t,e,r){this[hp]=o4(e,r),this.customParsers=new Map,this.customParsers.set("application/json",new FR(!0,!1,t,this[hp])),this.customParsers.set("text/plain",new FR(!0,!1,t,HR)),this.parserList=[new Ev("application/json"),new Ev("text/plain")],this.parserRegExpList=[],this.cache=new e4(100)}Eo.prototype.add=function(t,e,r){let i=typeof t=="string";if(!i&&!(t instanceof RegExp))throw new n4;if(i&&t.length===0)throw new Jbe;if(typeof r!="function")throw new Xbe;if(this.existingParser(t))throw new Ybe(t);if(e.parseAs!==void 0&&e.parseAs!=="string"&&e.parseAs!=="buffer")throw new Zbe(e.parseAs);let n=new FR(e.parseAs==="string",e.parseAs==="buffer",e.bodyLimit,r);i&&t==="*"?this.customParsers.set("",n):(i?this.parserList.unshift(new Ev(t)):(t.isEssence=t.source.indexOf(";")===-1,this.parserRegExpList.unshift(t)),this.customParsers.set(t.toString(),n))};Eo.prototype.hasParser=function(t){return this.customParsers.has(typeof t=="string"?t:t.toString())};Eo.prototype.existingParser=function(t){return t==="application/json"&&this.customParsers.has(t)?this.customParsers.get(t).fn!==this[hp]:t==="text/plain"&&this.customParsers.has(t)?this.customParsers.get(t).fn!==HR:this.hasParser(t)};Eo.prototype.getParser=function(t){if(this.hasParser(t))return this.customParsers.get(t);let e=this.cache.get(t);if(e!==void 0)return e;let r=t4(t);if(r===Bbe)return this.customParsers.get("");for(var i=0;i!==this.parserList.length;++i){let s=this.parserList[i];if(a_e(r,s)){let o=this.customParsers.get(s.name);return this.cache.set(t,o),o}}for(var n=0;n!==this.parserRegExpList.length;++n){let s=this.parserRegExpList[n];if(c_e(t,r.type,s)){let o=this.customParsers.get(s.toString());return this.cache.set(t,o),o}}return this.customParsers.get("")};Eo.prototype.removeAll=function(){this.customParsers=new Map,this.parserRegExpList=[],this.parserList=[],this.cache=new e4(100)};Eo.prototype.remove=function(t){if(!(typeof t=="string"||t instanceof RegExp))throw new n4;let e=this.customParsers.delete(t.toString()),r=typeof t=="string"?this.parserList:this.parserRegExpList,i=r.findIndex(n=>n.toString()===t.toString());return i>-1&&r.splice(i,1),e||i>-1};Eo.prototype.run=function(t,e,r,i){let n=this.getParser(t);if(n===void 0){r.is404?e(r,i):i.send(new Qbe(t||void 0));return}let s=new Hbe("content-type-parser:run",r);if(n.asString===!0||n.asBuffer===!0)s4(r,i,i[Kbe]._parserOptions,n,o);else{let a=n.fn(r,r[r4],o);a&&typeof a.then=="function"&&a.then(c=>o(null,c),o)}function o(a,c){s.runInAsyncScope(()=>{s.emitDestroy(),a?(i[i4]=!0,i.send(a)):(r.body=c,e(r,i))})}};function s4(t,e,r,i,n){let s=i.asString,o=r.limit===null?i.bodyLimit:r.limit,a=t.headers["content-length"]===void 0?NaN:Number(t.headers["content-length"]);if(a>o){e.header("connection","close"),e.send(new QU);return}let c=0,l=s===!0?"":[],u=t[r4]||t.raw;s===!0&&u.setEncoding("utf8"),u.on("data",f),u.on("end",p),u.on("error",p),u.resume();function f(d){c+=d.length;let{receivedEncodedLength:h=0}=u;if(c>o||h>o){u.removeListener("data",f),u.removeListener("end",p),u.removeListener("error",p),e.send(new QU);return}s===!0?l+=d:l.push(d)}function p(d){if(u.removeListener("data",f),u.removeListener("end",p),u.removeListener("error",p),d!==void 0){typeof d.statusCode=="number"&&d.statusCode>=400||(d.statusCode=400),e[i4]=!0,e.code(d.statusCode).send(d);return}if(s===!0&&(c=Buffer.byteLength(l)),!Number.isNaN(a)&&(u.receivedEncodedLength||c)!==a){e.header("connection","close"),e.send(new e_e);return}s===!1&&(l=Buffer.concat(l));let h=i.fn(t,l,n);h&&typeof h.then=="function"&&h.then(m=>n(null,m),n)}}function o4(t,e){return r;function r(i,n,s){if(n===""||n==null||Buffer.isBuffer(n)&&n.length===0)return s(new t_e,void 0);let o;try{o=Vbe.parse(n,{protoAction:t,constructorAction:e})}catch(a){return a.statusCode=400,s(a,void 0)}s(null,o)}}function HR(t,e,r){r(null,e)}function FR(t,e,r,i){this.asString=t,this.asBuffer=e,this.bodyLimit=r,this.fn=i}function r_e(t){let e=new Eo;return e[hp]=t[hp],e.customParsers=new Map(t.customParsers.entries()),e.parserList=t.parserList.slice(),e.parserRegExpList=t.parserRegExpList.slice(),e}function i_e(t,e,r){if(this[zR].started)throw new UR("addContentTypeParser");return typeof e=="function"&&(r=e,e={}),e||(e={}),e.bodyLimit||(e.bodyLimit=this[Wbe]),Array.isArray(t)?t.forEach(i=>this[vu].add(i,e,r)):this[vu].add(t,e,r),this}function n_e(t){return this[vu].hasParser(t)}function s_e(t){if(this[zR].started)throw new UR("removeContentTypeParser");if(Array.isArray(t))for(let e of t)this[vu].remove(e);else this[vu].remove(t)}function o_e(){if(this[zR].started)throw new UR("removeAllContentTypeParsers");this[vu].removeAll()}function a_e(t,e){if(e.isEssence)return t.type.indexOf(e)!==-1;if(t.type.indexOf(e.type)===-1)return!1;for(let r of e.parameterKeys)if(!(r in t.parameters)||t.parameters[r]!==e.parameters[r])return!1;return!0}function c_e(t,e,r){return r.isEssence?r.test(e):r.test(t)}function Ev(t){this.name=t;let e=t4(t);if(this.isEssence=t.indexOf(";")===-1,this.isEssence===!1&&e.type===""){let r=t.split(";",1)[0];this.type=r===""?t:r}else this.type=e.type;this.parameters=e.parameters,this.parameterKeys=Object.keys(e.parameters)}Ev.prototype.toString=function(){return this.name};mp.exports=Eo;mp.exports.helpers={buildContentTypeParser:r_e,addContentTypeParser:i_e,hasContentTypeParser:n_e,removeContentTypeParser:s_e,removeAllContentTypeParsers:o_e};mp.exports.defaultParsers={getDefaultJsonParser:o4,defaultTextParser:HR};mp.exports[Gbe]={rawBody:s4}});var bn=w((Irt,a4)=>{"use strict";a4.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,s;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=i;n--!==0;){var o=s[n];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var f4=w((jrt,u4)=>{"use strict";var c4=bn(),l_e=Symbol.for("json-schema-ref"),VR=class{#e;#t;#s;#r;#o;constructor(e={}){this.#e={},this.#t={},this.#s=e.insertRefSymbol??!1,this.#r=e.allowEqualDuplicates??!0,this.#o=e.cloneSchemaWithoutRefs??!1}addSchema(e,r){e.$id!==void 0&&e.$id.charAt(0)!=="#"?r=e.$id:this.#c(e,r),this.#l(e,r)}getSchema(e,r="#"){let i=this.#e[e];if(i===void 0)throw new Error(`Cannot resolve ref "${e}${r}". Schema with id "${e}" is not found.`);return i.anchors[r]!==void 0?i.anchors[r]:l4(i.schema,r)}hasSchema(e){return this.#e[e]!==void 0}getSchemaRefs(e){let r=this.#e[e];if(r===void 0)throw new Error(`Schema with id "${e}" is not found.`);return r.refs}getSchemaDependencies(e,r={}){let i=this.#e[e];for(let n of i.refs){let s=n.schemaId;r[s]===void 0&&(r[s]=this.getSchema(s),this.getSchemaDependencies(s,r))}return r}derefSchema(e){if(this.#t[e]!==void 0)return;let r=this.#e[e];if(r===void 0)throw new Error(`Schema with id "${e}" is not found.`);!this.#o&&r.refs.length===0&&(this.#t[e]={schema:r.schema,anchors:r.anchors});let i=[];this.#u(r.schema,e,i);let n=this.getSchemaDependencies(e);for(let s in n){let o=n[s];this.#u(o,s,i)}for(let s of i){let{refSchemaId:o,refJsonPointer:a}=this.#y(s.ref,s.sourceSchemaId),c=this.getDerefSchema(o,a);if(c===null)throw new Error(`Cannot resolve ref "${s.ref}". Ref "${a}" is not found in schema "${o}".`);s.targetSchema=c,s.targetSchemaId=o}for(let s of i)this.#a(s,i)}getDerefSchema(e,r="#"){let i=this.#t[e];return i===void 0&&(this.derefSchema(e),i=this.#t[e]),i.anchors[r]!==void 0?i.anchors[r]:l4(i.schema,r)}#y(e,r){let i=e.indexOf("#");return i===-1?{refSchemaId:e,refJsonPointer:"#"}:i===0?{refSchemaId:r,refJsonPointer:e}:{refSchemaId:e.slice(0,i),refJsonPointer:e.slice(i)}}#l(e,r){let i=e.$id;i!==void 0&&typeof i=="string"&&(i.charAt(0)==="#"?this.#i(e,r,i):(this.#c(e,i),r=i));let n=e.$ref;if(n!==void 0&&typeof n=="string"){let{refSchemaId:s,refJsonPointer:o}=this.#y(n,r);this.#e[r].refs.push({schemaId:s,jsonPointer:o})}for(let s in e)typeof e[s]=="object"&&e[s]!==null&&this.#l(e[s],r)}#u(e,r,i=[]){let n=Array.isArray(e)?[...e]:{...e},s=n.$id;s!==void 0&&typeof s=="string"&&(s.charAt(0)==="#"?this.#h(n,r,s):(this.#p(n,s),r=s)),n.$ref!==void 0&&i.push({ref:n.$ref,sourceSchemaId:r,sourceSchema:n});for(let o in n){let a=n[o];typeof a=="object"&&a!==null&&(n[o]=this.#u(a,r,i))}return n}#a(e,r){let{sourceSchema:i,targetSchema:n}=e;if(i.$ref){if(this.#s&&(i[l_e]=i.$ref),delete i.$ref,n.$ref){let s=r.find(o=>o.sourceSchema===n);this.#a(s,r)}for(let s in n)if(s!=="$id"){if(i[s]!==void 0){if(c4(i[s],n[s]))continue;throw new Error(`Cannot resolve ref "${e.ref}". Property "${s}" is already exist in schema "${e.sourceSchemaId}".`)}i[s]=n[s]}e.isResolved=!0}}#c(e,r){let i=this.#e[r];if(i!==void 0){if(this.#r&&c4(e,i.schema))return;throw new Error(`There is already another schema with id "${r}".`)}this.#e[r]={schema:e,anchors:{},refs:[]}}#i(e,r,i){let{anchors:n}=this.#e[r];if(n[i]!==void 0)throw new Error(`There is already another anchor "${i}" in a schema "${r}".`);n[i]=e}#p(e,r){this.#t[r]===void 0&&(this.#t[r]={schema:e,anchors:{}})}#h(e,r,i){let{anchors:n}=this.#t[r];n[i]=e}};function l4(t,e){let r=e.split("/"),i=t;for(let n of r)if(!(n===""||n==="#")){if(typeof i!="object"||i===null)return null;i=i[n]}return i??null}u4.exports={RefResolver:VR}});var vp=w(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.regexpCode=ht.getEsmExportName=ht.getProperty=ht.safeStringify=ht.stringify=ht.strConcat=ht.addCodeArg=ht.str=ht._=ht.nil=ht._Code=ht.Name=ht.IDENTIFIER=ht._CodeOrName=void 0;var gp=class{};ht._CodeOrName=gp;ht.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Nc=class extends gp{constructor(e){if(super(),!ht.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};ht.Name=Nc;var _n=class extends gp{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,i)=>`${r}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,i)=>(i instanceof Nc&&(r[i.str]=(r[i.str]||0)+1),r),{})}};ht._Code=_n;ht.nil=new _n("");function d4(t,...e){let r=[t[0]],i=0;for(;i<e.length;)GR(r,e[i]),r.push(t[++i]);return new _n(r)}ht._=d4;var WR=new _n("+");function p4(t,...e){let r=[yp(t[0])],i=0;for(;i<e.length;)r.push(WR),GR(r,e[i]),r.push(WR,yp(t[++i]));return u_e(r),new _n(r)}ht.str=p4;function GR(t,e){e instanceof _n?t.push(...e._items):e instanceof Nc?t.push(e):t.push(p_e(e))}ht.addCodeArg=GR;function u_e(t){let e=1;for(;e<t.length-1;){if(t[e]===WR){let r=f_e(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function f_e(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Nc||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Nc))return`"${t}${e.slice(1)}`}function d_e(t,e){return e.emptyStr()?t:t.emptyStr()?e:p4`${t}${e}`}ht.strConcat=d_e;function p_e(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:yp(Array.isArray(t)?t.join(","):t)}function h_e(t){return new _n(yp(t))}ht.stringify=h_e;function yp(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}ht.safeStringify=yp;function m_e(t){return typeof t=="string"&&ht.IDENTIFIER.test(t)?new _n(`.${t}`):d4`[${t}]`}ht.getProperty=m_e;function g_e(t){if(typeof t=="string"&&ht.IDENTIFIER.test(t))return new _n(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}ht.getEsmExportName=g_e;function y_e(t){return new _n(t.toString())}ht.regexpCode=y_e});var YR=w(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.ValueScope=Ji.ValueScopeName=Ji.Scope=Ji.varKinds=Ji.UsedValueState=void 0;var Ki=vp(),KR=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Rv;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Rv||(Ji.UsedValueState=Rv={}));Ji.varKinds={const:new Ki.Name("const"),let:new Ki.Name("let"),var:new Ki.Name("var")};var Tv=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof Ki.Name?e:this.name(e)}name(e){return new Ki.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,i;if(!((i=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Ji.Scope=Tv;var $v=class extends Ki.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:i}){this.value=e,this.scopePath=(0,Ki._)`.${new Ki.Name(r)}[${i}]`}};Ji.ValueScopeName=$v;var v_e=(0,Ki._)`\n`,JR=class extends Tv{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?v_e:Ki.nil}}get(){return this._scope}name(e){return new $v(e,this._newName(e))}value(e,r){var i;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:s}=n,o=(i=r.key)!==null&&i!==void 0?i:r.ref,a=this._values[s];if(a){let u=a.get(o);if(u)return u}else a=this._values[s]=new Map;a.set(o,n);let c=this._scope[s]||(this._scope[s]=[]),l=c.length;return c[l]=r.ref,n.setValue(r,{property:s,itemIndex:l}),n}getValue(e,r){let i=this._values[e];if(i)return i.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,Ki._)`${e}${i.scopePath}`})}scopeCode(e=this._values,r,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,i)}_reduceValues(e,r,i={},n){let s=Ki.nil;for(let o in e){let a=e[o];if(!a)continue;let c=i[o]=i[o]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,Rv.Started);let u=r(l);if(u){let f=this.opts.es5?Ji.varKinds.var:Ji.varKinds.const;s=(0,Ki._)`${s}${f} ${l} = ${u};${this.opts._n}`}else if(u=n?.(l))s=(0,Ki._)`${s}${u}${this.opts._n}`;else throw new KR(l);c.set(l,Rv.Completed)})}return s}};Ji.ValueScope=JR});var Ie=w(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.or=Le.and=Le.not=Le.CodeGen=Le.operators=Le.varKinds=Le.ValueScopeName=Le.ValueScope=Le.Scope=Le.Name=Le.regexpCode=Le.stringify=Le.getProperty=Le.nil=Le.strConcat=Le.str=Le._=void 0;var st=vp(),ts=YR(),Ea=vp();Object.defineProperty(Le,"_",{enumerable:!0,get:function(){return Ea._}});Object.defineProperty(Le,"str",{enumerable:!0,get:function(){return Ea.str}});Object.defineProperty(Le,"strConcat",{enumerable:!0,get:function(){return Ea.strConcat}});Object.defineProperty(Le,"nil",{enumerable:!0,get:function(){return Ea.nil}});Object.defineProperty(Le,"getProperty",{enumerable:!0,get:function(){return Ea.getProperty}});Object.defineProperty(Le,"stringify",{enumerable:!0,get:function(){return Ea.stringify}});Object.defineProperty(Le,"regexpCode",{enumerable:!0,get:function(){return Ea.regexpCode}});Object.defineProperty(Le,"Name",{enumerable:!0,get:function(){return Ea.Name}});var Av=YR();Object.defineProperty(Le,"Scope",{enumerable:!0,get:function(){return Av.Scope}});Object.defineProperty(Le,"ValueScope",{enumerable:!0,get:function(){return Av.ValueScope}});Object.defineProperty(Le,"ValueScopeName",{enumerable:!0,get:function(){return Av.ValueScopeName}});Object.defineProperty(Le,"varKinds",{enumerable:!0,get:function(){return Av.varKinds}});Le.operators={GT:new st._Code(">"),GTE:new st._Code(">="),LT:new st._Code("<"),LTE:new st._Code("<="),EQ:new st._Code("==="),NEQ:new st._Code("!=="),NOT:new st._Code("!"),OR:new st._Code("||"),AND:new st._Code("&&"),ADD:new st._Code("+")};var Ro=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},XR=class extends Ro{constructor(e,r,i){super(),this.varKind=e,this.name=r,this.rhs=i}render({es5:e,_n:r}){let i=e?ts.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=_u(this.rhs,e,r)),this}get names(){return this.rhs instanceof st._CodeOrName?this.rhs.names:{}}},Pv=class extends Ro{constructor(e,r,i){super(),this.lhs=e,this.rhs=r,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof st.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=_u(this.rhs,e,r),this}get names(){let e=this.lhs instanceof st.Name?{}:{...this.lhs.names};return kv(e,this.rhs)}},ZR=class extends Pv{constructor(e,r,i,n){super(e,i,n),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},QR=class extends Ro{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},eT=class extends Ro{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},tT=class extends Ro{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},rT=class extends Ro{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=_u(this.code,e,r),this}get names(){return this.code instanceof st._CodeOrName?this.code.names:{}}},bp=class extends Ro{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,i)=>r+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let i=e[r].optimizeNodes();Array.isArray(i)?e.splice(r,1,...i):i?e[r]=i:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:i}=this,n=i.length;for(;n--;){let s=i[n];s.optimizeNames(e,r)||(b_e(e,s.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>qc(e,r.names),{})}},To=class extends bp{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},iT=class extends bp{},bu=class extends To{};bu.kind="else";var Ic=class t extends To{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let i=r.optimizeNodes();r=this.else=Array.isArray(i)?new bu(i):i}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(h4(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var i;if(this.else=(i=this.else)===null||i===void 0?void 0:i.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=_u(this.condition,e,r),this}get names(){let e=super.names;return kv(e,this.condition),this.else&&qc(e,this.else.names),e}};Ic.kind="if";var jc=class extends To{};jc.kind="for";var nT=class extends jc{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=_u(this.iteration,e,r),this}get names(){return qc(super.names,this.iteration.names)}},sT=class extends jc{constructor(e,r,i,n){super(),this.varKind=e,this.name=r,this.from=i,this.to=n}render(e){let r=e.es5?ts.varKinds.var:this.varKind,{name:i,from:n,to:s}=this;return`for(${r} ${i}=${n}; ${i}<${s}; ${i}++)`+super.render(e)}get names(){let e=kv(super.names,this.from);return kv(e,this.to)}},Ov=class extends jc{constructor(e,r,i,n){super(),this.loop=e,this.varKind=r,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=_u(this.iterable,e,r),this}get names(){return qc(super.names,this.iterable.names)}},_p=class extends To{constructor(e,r,i){super(),this.name=e,this.args=r,this.async=i}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};_p.kind="func";var wp=class extends bp{render(e){return"return "+super.render(e)}};wp.kind="return";var oT=class extends To{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var i,n;return super.optimizeNames(e,r),(i=this.catch)===null||i===void 0||i.optimizeNames(e,r),(n=this.finally)===null||n===void 0||n.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&qc(e,this.catch.names),this.finally&&qc(e,this.finally.names),e}},xp=class extends To{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};xp.kind="catch";var Sp=class extends To{render(e){return"finally"+super.render(e)}};Sp.kind="finally";var aT=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new ts.Scope({parent:e}),this._nodes=[new iT]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let i=this._extScope.value(e,r);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,i,n){let s=this._scope.toName(r);return i!==void 0&&n&&(this._constants[s.str]=i),this._leafNode(new XR(e,s,i)),s}const(e,r,i){return this._def(ts.varKinds.const,e,r,i)}let(e,r,i){return this._def(ts.varKinds.let,e,r,i)}var(e,r,i){return this._def(ts.varKinds.var,e,r,i)}assign(e,r,i){return this._leafNode(new Pv(e,r,i))}add(e,r){return this._leafNode(new ZR(e,Le.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==st.nil&&this._leafNode(new rT(e)),this}object(...e){let r=["{"];for(let[i,n]of e)r.length>1&&r.push(","),r.push(i),(i!==n||this.opts.es5)&&(r.push(":"),(0,st.addCodeArg)(r,n));return r.push("}"),new st._Code(r)}if(e,r,i){if(this._blockNode(new Ic(e)),r&&i)this.code(r).else().code(i).endIf();else if(r)this.code(r).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ic(e))}else(){return this._elseNode(new bu)}endIf(){return this._endBlockNode(Ic,bu)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new nT(e),r)}forRange(e,r,i,n,s=this.opts.es5?ts.varKinds.var:ts.varKinds.let){let o=this._scope.toName(e);return this._for(new sT(s,o,r,i),()=>n(o))}forOf(e,r,i,n=ts.varKinds.const){let s=this._scope.toName(e);if(this.opts.es5){let o=r instanceof st.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,st._)`${o}.length`,a=>{this.var(s,(0,st._)`${o}[${a}]`),i(s)})}return this._for(new Ov("of",n,s,r),()=>i(s))}forIn(e,r,i,n=this.opts.es5?ts.varKinds.var:ts.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,st._)`Object.keys(${r})`,i);let s=this._scope.toName(e);return this._for(new Ov("in",n,s,r),()=>i(s))}endFor(){return this._endBlockNode(jc)}label(e){return this._leafNode(new QR(e))}break(e){return this._leafNode(new eT(e))}return(e){let r=new wp;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(wp)}try(e,r,i){if(!r&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new oT;if(this._blockNode(n),this.code(e),r){let s=this.name("e");this._currNode=n.catch=new xp(s),r(s)}return i&&(this._currNode=n.finally=new Sp,this.code(i)),this._endBlockNode(xp,Sp)}throw(e){return this._leafNode(new tT(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-r;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=st.nil,i,n){return this._blockNode(new _p(e,r,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(_p)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let i=this._currNode;if(i instanceof e||r&&i instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ic))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};Le.CodeGen=aT;function qc(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function kv(t,e){return e instanceof st._CodeOrName?qc(t,e.names):t}function _u(t,e,r){if(t instanceof st.Name)return i(t);if(!n(t))return t;return new st._Code(t._items.reduce((s,o)=>(o instanceof st.Name&&(o=i(o)),o instanceof st._Code?s.push(...o._items):s.push(o),s),[]));function i(s){let o=r[s.str];return o===void 0||e[s.str]!==1?s:(delete e[s.str],o)}function n(s){return s instanceof st._Code&&s._items.some(o=>o instanceof st.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function b_e(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function h4(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,st._)`!${cT(t)}`}Le.not=h4;var __e=m4(Le.operators.AND);function w_e(...t){return t.reduce(__e)}Le.and=w_e;var x_e=m4(Le.operators.OR);function S_e(...t){return t.reduce(x_e)}Le.or=S_e;function m4(t){return(e,r)=>e===st.nil?r:r===st.nil?e:(0,st._)`${cT(e)} ${t} ${cT(r)}`}function cT(t){return t instanceof st.Name?t:(0,st._)`(${t})`}});var mt=w(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.checkStrictMode=Be.getErrorPath=Be.Type=Be.useFunc=Be.setEvaluated=Be.evaluatedPropsToName=Be.mergeEvaluated=Be.eachItem=Be.unescapeJsonPointer=Be.escapeJsonPointer=Be.escapeFragment=Be.unescapeFragment=Be.schemaRefOrVal=Be.schemaHasRulesButRef=Be.schemaHasRules=Be.checkUnknownRules=Be.alwaysValidSchema=Be.toHash=void 0;var Vt=Ie(),E_e=vp();function R_e(t){let e={};for(let r of t)e[r]=!0;return e}Be.toHash=R_e;function T_e(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(v4(t,e),!b4(e,t.self.RULES.all))}Be.alwaysValidSchema=T_e;function v4(t,e=t.schema){let{opts:r,self:i}=t;if(!r.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let s in e)n[s]||x4(t,`unknown keyword: "${s}"`)}Be.checkUnknownRules=v4;function b4(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}Be.schemaHasRules=b4;function $_e(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}Be.schemaHasRulesButRef=$_e;function P_e({topSchemaRef:t,schemaPath:e},r,i,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Vt._)`${r}`}return(0,Vt._)`${t}${e}${(0,Vt.getProperty)(i)}`}Be.schemaRefOrVal=P_e;function O_e(t){return _4(decodeURIComponent(t))}Be.unescapeFragment=O_e;function k_e(t){return encodeURIComponent(uT(t))}Be.escapeFragment=k_e;function uT(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}Be.escapeJsonPointer=uT;function _4(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Be.unescapeJsonPointer=_4;function A_e(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}Be.eachItem=A_e;function g4({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:i}){return(n,s,o,a)=>{let c=o===void 0?s:o instanceof Vt.Name?(s instanceof Vt.Name?t(n,s,o):e(n,s,o),o):s instanceof Vt.Name?(e(n,o,s),s):r(s,o);return a===Vt.Name&&!(c instanceof Vt.Name)?i(n,c):c}}Be.mergeEvaluated={props:g4({mergeNames:(t,e,r)=>t.if((0,Vt._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Vt._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Vt._)`${r} || {}`).code((0,Vt._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Vt._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Vt._)`${r} || {}`),fT(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:w4}),items:g4({mergeNames:(t,e,r)=>t.if((0,Vt._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Vt._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Vt._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Vt._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function w4(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Vt._)`{}`);return e!==void 0&&fT(t,r,e),r}Be.evaluatedPropsToName=w4;function fT(t,e,r){Object.keys(r).forEach(i=>t.assign((0,Vt._)`${e}${(0,Vt.getProperty)(i)}`,!0))}Be.setEvaluated=fT;var y4={};function C_e(t,e){return t.scopeValue("func",{ref:e,code:y4[e.code]||(y4[e.code]=new E_e._Code(e.code))})}Be.useFunc=C_e;var lT;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(lT||(Be.Type=lT={}));function N_e(t,e,r){if(t instanceof Vt.Name){let i=e===lT.Num;return r?i?(0,Vt._)`"[" + ${t} + "]"`:(0,Vt._)`"['" + ${t} + "']"`:i?(0,Vt._)`"/" + ${t}`:(0,Vt._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Vt.getProperty)(t).toString():"/"+uT(t)}Be.getErrorPath=N_e;function x4(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}Be.checkStrictMode=x4});var $o=w(dT=>{"use strict";Object.defineProperty(dT,"__esModule",{value:!0});var hi=Ie(),I_e={data:new hi.Name("data"),valCxt:new hi.Name("valCxt"),instancePath:new hi.Name("instancePath"),parentData:new hi.Name("parentData"),parentDataProperty:new hi.Name("parentDataProperty"),rootData:new hi.Name("rootData"),dynamicAnchors:new hi.Name("dynamicAnchors"),vErrors:new hi.Name("vErrors"),errors:new hi.Name("errors"),this:new hi.Name("this"),self:new hi.Name("self"),scope:new hi.Name("scope"),json:new hi.Name("json"),jsonPos:new hi.Name("jsonPos"),jsonLen:new hi.Name("jsonLen"),jsonPart:new hi.Name("jsonPart")};dT.default=I_e});var Ep=w(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.extendErrors=mi.resetErrorsCount=mi.reportExtraError=mi.reportError=mi.keyword$DataError=mi.keywordError=void 0;var ft=Ie(),Cv=mt(),Ci=$o();mi.keywordError={message:({keyword:t})=>(0,ft.str)`must pass "${t}" keyword validation`};mi.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,ft.str)`"${t}" keyword must be ${e} ($data)`:(0,ft.str)`"${t}" keyword is invalid ($data)`};function j_e(t,e=mi.keywordError,r,i){let{it:n}=t,{gen:s,compositeRule:o,allErrors:a}=n,c=R4(t,e,r);i??(o||a)?S4(s,c):E4(n,(0,ft._)`[${c}]`)}mi.reportError=j_e;function q_e(t,e=mi.keywordError,r){let{it:i}=t,{gen:n,compositeRule:s,allErrors:o}=i,a=R4(t,e,r);S4(n,a),s||o||E4(i,Ci.default.vErrors)}mi.reportExtraError=q_e;function M_e(t,e){t.assign(Ci.default.errors,e),t.if((0,ft._)`${Ci.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,ft._)`${Ci.default.vErrors}.length`,e),()=>t.assign(Ci.default.vErrors,null)))}mi.resetErrorsCount=M_e;function D_e({gen:t,keyword:e,schemaValue:r,data:i,errsCount:n,it:s}){if(n===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",n,Ci.default.errors,a=>{t.const(o,(0,ft._)`${Ci.default.vErrors}[${a}]`),t.if((0,ft._)`${o}.instancePath === undefined`,()=>t.assign((0,ft._)`${o}.instancePath`,(0,ft.strConcat)(Ci.default.instancePath,s.errorPath))),t.assign((0,ft._)`${o}.schemaPath`,(0,ft.str)`${s.errSchemaPath}/${e}`),s.opts.verbose&&(t.assign((0,ft._)`${o}.schema`,r),t.assign((0,ft._)`${o}.data`,i))})}mi.extendErrors=D_e;function S4(t,e){let r=t.const("err",e);t.if((0,ft._)`${Ci.default.vErrors} === null`,()=>t.assign(Ci.default.vErrors,(0,ft._)`[${r}]`),(0,ft._)`${Ci.default.vErrors}.push(${r})`),t.code((0,ft._)`${Ci.default.errors}++`)}function E4(t,e){let{gen:r,validateName:i,schemaEnv:n}=t;n.$async?r.throw((0,ft._)`new ${t.ValidationError}(${e})`):(r.assign((0,ft._)`${i}.errors`,e),r.return(!1))}var Mc={keyword:new ft.Name("keyword"),schemaPath:new ft.Name("schemaPath"),params:new ft.Name("params"),propertyName:new ft.Name("propertyName"),message:new ft.Name("message"),schema:new ft.Name("schema"),parentSchema:new ft.Name("parentSchema")};function R4(t,e,r){let{createErrors:i}=t.it;return i===!1?(0,ft._)`{}`:L_e(t,e,r)}function L_e(t,e,r={}){let{gen:i,it:n}=t,s=[F_e(n,r),z_e(t,r)];return U_e(t,e,s),i.object(...s)}function F_e({errorPath:t},{instancePath:e}){let r=e?(0,ft.str)`${t}${(0,Cv.getErrorPath)(e,Cv.Type.Str)}`:t;return[Ci.default.instancePath,(0,ft.strConcat)(Ci.default.instancePath,r)]}function z_e({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:i}){let n=i?e:(0,ft.str)`${e}/${t}`;return r&&(n=(0,ft.str)`${n}${(0,Cv.getErrorPath)(r,Cv.Type.Str)}`),[Mc.schemaPath,n]}function U_e(t,{params:e,message:r},i){let{keyword:n,data:s,schemaValue:o,it:a}=t,{opts:c,propertyName:l,topSchemaRef:u,schemaPath:f}=a;i.push([Mc.keyword,n],[Mc.params,typeof e=="function"?e(t):e||(0,ft._)`{}`]),c.messages&&i.push([Mc.message,typeof r=="function"?r(t):r]),c.verbose&&i.push([Mc.schema,o],[Mc.parentSchema,(0,ft._)`${u}${f}`],[Ci.default.data,s]),l&&i.push([Mc.propertyName,l])}});var $4=w(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.boolOrEmptySchema=wu.topBoolOrEmptySchema=void 0;var H_e=Ep(),B_e=Ie(),V_e=$o(),W_e={message:"boolean schema is false"};function G_e(t){let{gen:e,schema:r,validateName:i}=t;r===!1?T4(t,!1):typeof r=="object"&&r.$async===!0?e.return(V_e.default.data):(e.assign((0,B_e._)`${i}.errors`,null),e.return(!0))}wu.topBoolOrEmptySchema=G_e;function K_e(t,e){let{gen:r,schema:i}=t;i===!1?(r.var(e,!1),T4(t)):r.var(e,!0)}wu.boolOrEmptySchema=K_e;function T4(t,e){let{gen:r,data:i}=t,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,H_e.reportError)(n,W_e,void 0,e)}});var pT=w(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.getRules=xu.isJSONType=void 0;var J_e=["string","number","integer","boolean","null","object","array"],Y_e=new Set(J_e);function X_e(t){return typeof t=="string"&&Y_e.has(t)}xu.isJSONType=X_e;function Z_e(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}xu.getRules=Z_e});var hT=w(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.shouldUseRule=Ra.shouldUseGroup=Ra.schemaHasRulesForType=void 0;function Q_e({schema:t,self:e},r){let i=e.RULES.types[r];return i&&i!==!0&&P4(t,i)}Ra.schemaHasRulesForType=Q_e;function P4(t,e){return e.rules.some(r=>O4(t,r))}Ra.shouldUseGroup=P4;function O4(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(i=>t[i]!==void 0))}Ra.shouldUseRule=O4});var Rp=w(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.reportTypeError=gi.checkDataTypes=gi.checkDataType=gi.coerceAndCheckDataType=gi.getJSONTypes=gi.getSchemaTypes=gi.DataType=void 0;var ewe=pT(),twe=hT(),rwe=Ep(),ke=Ie(),k4=mt(),Su;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Su||(gi.DataType=Su={}));function iwe(t){let e=A4(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}gi.getSchemaTypes=iwe;function A4(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(ewe.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}gi.getJSONTypes=A4;function nwe(t,e){let{gen:r,data:i,opts:n}=t,s=swe(e,n.coerceTypes),o=e.length>0&&!(s.length===0&&e.length===1&&(0,twe.schemaHasRulesForType)(t,e[0]));if(o){let a=gT(e,i,n.strictNumbers,Su.Wrong);r.if(a,()=>{s.length?owe(t,e,s):yT(t)})}return o}gi.coerceAndCheckDataType=nwe;var C4=new Set(["string","number","integer","boolean","null"]);function swe(t,e){return e?t.filter(r=>C4.has(r)||e==="array"&&r==="array"):[]}function owe(t,e,r){let{gen:i,data:n,opts:s}=t,o=i.let("dataType",(0,ke._)`typeof ${n}`),a=i.let("coerced",(0,ke._)`undefined`);s.coerceTypes==="array"&&i.if((0,ke._)`${o} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,ke._)`${n}[0]`).assign(o,(0,ke._)`typeof ${n}`).if(gT(e,n,s.strictNumbers),()=>i.assign(a,n))),i.if((0,ke._)`${a} !== undefined`);for(let l of r)(C4.has(l)||l==="array"&&s.coerceTypes==="array")&&c(l);i.else(),yT(t),i.endIf(),i.if((0,ke._)`${a} !== undefined`,()=>{i.assign(n,a),awe(t,a)});function c(l){switch(l){case"string":i.elseIf((0,ke._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,ke._)`"" + ${n}`).elseIf((0,ke._)`${n} === null`).assign(a,(0,ke._)`""`);return;case"number":i.elseIf((0,ke._)`${o} == "boolean" || ${n} === null
              || (${o} == "string" && ${n} && ${n} == +${n})`).assign(a,(0,ke._)`+${n}`);return;case"integer":i.elseIf((0,ke._)`${o} === "boolean" || ${n} === null
              || (${o} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(a,(0,ke._)`+${n}`);return;case"boolean":i.elseIf((0,ke._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(a,!1).elseIf((0,ke._)`${n} === "true" || ${n} === 1`).assign(a,!0);return;case"null":i.elseIf((0,ke._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(a,null);return;case"array":i.elseIf((0,ke._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${n} === null`).assign(a,(0,ke._)`[${n}]`)}}}function awe({gen:t,parentData:e,parentDataProperty:r},i){t.if((0,ke._)`${e} !== undefined`,()=>t.assign((0,ke._)`${e}[${r}]`,i))}function mT(t,e,r,i=Su.Correct){let n=i===Su.Correct?ke.operators.EQ:ke.operators.NEQ,s;switch(t){case"null":return(0,ke._)`${e} ${n} null`;case"array":s=(0,ke._)`Array.isArray(${e})`;break;case"object":s=(0,ke._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=o((0,ke._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=o();break;default:return(0,ke._)`typeof ${e} ${n} ${t}`}return i===Su.Correct?s:(0,ke.not)(s);function o(a=ke.nil){return(0,ke.and)((0,ke._)`typeof ${e} == "number"`,a,r?(0,ke._)`isFinite(${e})`:ke.nil)}}gi.checkDataType=mT;function gT(t,e,r,i){if(t.length===1)return mT(t[0],e,r,i);let n,s=(0,k4.toHash)(t);if(s.array&&s.object){let o=(0,ke._)`typeof ${e} != "object"`;n=s.null?o:(0,ke._)`!${e} || ${o}`,delete s.null,delete s.array,delete s.object}else n=ke.nil;s.number&&delete s.integer;for(let o in s)n=(0,ke.and)(n,mT(o,e,r,i));return n}gi.checkDataTypes=gT;var cwe={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,ke._)`{type: ${t}}`:(0,ke._)`{type: ${e}}`};function yT(t){let e=lwe(t);(0,rwe.reportError)(e,cwe)}gi.reportTypeError=yT;function lwe(t){let{gen:e,data:r,schema:i}=t,n=(0,k4.schemaRefOrVal)(t,i,"type");return{gen:e,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:t}}});var I4=w(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.assignDefaults=void 0;var Eu=Ie(),uwe=mt();function fwe(t,e){let{properties:r,items:i}=t.schema;if(e==="object"&&r)for(let n in r)N4(t,n,r[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,s)=>N4(t,s,n.default))}Nv.assignDefaults=fwe;function N4(t,e,r){let{gen:i,compositeRule:n,data:s,opts:o}=t;if(r===void 0)return;let a=(0,Eu._)`${s}${(0,Eu.getProperty)(e)}`;if(n){(0,uwe.checkStrictMode)(t,`default is ignored for: ${a}`);return}let c=(0,Eu._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,Eu._)`${c} || ${a} === null || ${a} === ""`),i.if(c,(0,Eu._)`${a} = ${(0,Eu.stringify)(r)}`)}});var wn=w(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.validateUnion=Mt.validateArray=Mt.usePattern=Mt.callValidateCode=Mt.schemaProperties=Mt.allSchemaProperties=Mt.noPropertyInData=Mt.propertyInData=Mt.isOwnProperty=Mt.hasPropFunc=Mt.reportMissingProp=Mt.checkMissingProp=Mt.checkReportMissingProp=void 0;var Qt=Ie(),vT=mt(),Ta=$o(),dwe=mt();function pwe(t,e){let{gen:r,data:i,it:n}=t;r.if(_T(r,i,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Qt._)`${e}`},!0),t.error()})}Mt.checkReportMissingProp=pwe;function hwe({gen:t,data:e,it:{opts:r}},i,n){return(0,Qt.or)(...i.map(s=>(0,Qt.and)(_T(t,e,s,r.ownProperties),(0,Qt._)`${n} = ${s}`)))}Mt.checkMissingProp=hwe;function mwe(t,e){t.setParams({missingProperty:e},!0),t.error()}Mt.reportMissingProp=mwe;function j4(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Qt._)`Object.prototype.hasOwnProperty`})}Mt.hasPropFunc=j4;function bT(t,e,r){return(0,Qt._)`${j4(t)}.call(${e}, ${r})`}Mt.isOwnProperty=bT;function gwe(t,e,r,i){let n=(0,Qt._)`${e}${(0,Qt.getProperty)(r)} !== undefined`;return i?(0,Qt._)`${n} && ${bT(t,e,r)}`:n}Mt.propertyInData=gwe;function _T(t,e,r,i){let n=(0,Qt._)`${e}${(0,Qt.getProperty)(r)} === undefined`;return i?(0,Qt.or)(n,(0,Qt.not)(bT(t,e,r))):n}Mt.noPropertyInData=_T;function q4(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Mt.allSchemaProperties=q4;function ywe(t,e){return q4(e).filter(r=>!(0,vT.alwaysValidSchema)(t,e[r]))}Mt.schemaProperties=ywe;function vwe({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:s},it:o},a,c,l){let u=l?(0,Qt._)`${t}, ${e}, ${i}${n}`:e,f=[[Ta.default.instancePath,(0,Qt.strConcat)(Ta.default.instancePath,s)],[Ta.default.parentData,o.parentData],[Ta.default.parentDataProperty,o.parentDataProperty],[Ta.default.rootData,Ta.default.rootData]];o.opts.dynamicRef&&f.push([Ta.default.dynamicAnchors,Ta.default.dynamicAnchors]);let p=(0,Qt._)`${u}, ${r.object(...f)}`;return c!==Qt.nil?(0,Qt._)`${a}.call(${c}, ${p})`:(0,Qt._)`${a}(${p})`}Mt.callValidateCode=vwe;var bwe=(0,Qt._)`new RegExp`;function _we({gen:t,it:{opts:e}},r){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,s=n(r,i);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Qt._)`${n.code==="new RegExp"?bwe:(0,dwe.useFunc)(t,n)}(${r}, ${i})`})}Mt.usePattern=_we;function wwe(t){let{gen:e,data:r,keyword:i,it:n}=t,s=e.name("valid");if(n.allErrors){let a=e.let("valid",!0);return o(()=>e.assign(a,!1)),a}return e.var(s,!0),o(()=>e.break()),s;function o(a){let c=e.const("len",(0,Qt._)`${r}.length`);e.forRange("i",0,c,l=>{t.subschema({keyword:i,dataProp:l,dataPropType:vT.Type.Num},s),e.if((0,Qt.not)(s),a)})}}Mt.validateArray=wwe;function xwe(t){let{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,vT.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;let o=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((c,l)=>{let u=t.subschema({keyword:i,schemaProp:l,compositeRule:!0},a);e.assign(o,(0,Qt._)`${o} || ${a}`),t.mergeValidEvaluated(u,a)||e.if((0,Qt.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}Mt.validateUnion=xwe});var L4=w(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.validateKeywordUsage=Cs.validSchemaType=Cs.funcKeywordCode=Cs.macroKeywordCode=void 0;var Ni=Ie(),Dc=$o(),Swe=wn(),Ewe=Ep();function Rwe(t,e){let{gen:r,keyword:i,schema:n,parentSchema:s,it:o}=t,a=e.macro.call(o.self,n,s,o),c=D4(r,i,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let l=r.name("valid");t.subschema({schema:a,schemaPath:Ni.nil,errSchemaPath:`${o.errSchemaPath}/${i}`,topSchemaRef:c,compositeRule:!0},l),t.pass(l,()=>t.error(!0))}Cs.macroKeywordCode=Rwe;function Twe(t,e){var r;let{gen:i,keyword:n,schema:s,parentSchema:o,$data:a,it:c}=t;Pwe(c,e);let l=!a&&e.compile?e.compile.call(c.self,s,o,c):e.validate,u=D4(i,n,l),f=i.let("valid");t.block$data(f,p),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function p(){if(e.errors===!1)m(),e.modifying&&M4(t),v(()=>t.error());else{let y=e.async?d():h();e.modifying&&M4(t),v(()=>$we(t,y))}}function d(){let y=i.let("ruleErrs",null);return i.try(()=>m((0,Ni._)`await `),E=>i.assign(f,!1).if((0,Ni._)`${E} instanceof ${c.ValidationError}`,()=>i.assign(y,(0,Ni._)`${E}.errors`),()=>i.throw(E))),y}function h(){let y=(0,Ni._)`${u}.errors`;return i.assign(y,null),m(Ni.nil),y}function m(y=e.async?(0,Ni._)`await `:Ni.nil){let E=c.opts.passContext?Dc.default.this:Dc.default.self,_=!("compile"in e&&!a||e.schema===!1);i.assign(f,(0,Ni._)`${y}${(0,Swe.callValidateCode)(t,u,E,_)}`,e.modifying)}function v(y){var E;i.if((0,Ni.not)((E=e.valid)!==null&&E!==void 0?E:f),y)}}Cs.funcKeywordCode=Twe;function M4(t){let{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,(0,Ni._)`${i.parentData}[${i.parentDataProperty}]`))}function $we(t,e){let{gen:r}=t;r.if((0,Ni._)`Array.isArray(${e})`,()=>{r.assign(Dc.default.vErrors,(0,Ni._)`${Dc.default.vErrors} === null ? ${e} : ${Dc.default.vErrors}.concat(${e})`).assign(Dc.default.errors,(0,Ni._)`${Dc.default.vErrors}.length`),(0,Ewe.extendErrors)(t)},()=>t.error())}function Pwe({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function D4(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ni.stringify)(r)})}function Owe(t,e,r=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||r&&typeof t>"u")}Cs.validSchemaType=Owe;function kwe({schema:t,opts:e,self:r,errSchemaPath:i},n,s){if(Array.isArray(n.keyword)?!n.keyword.includes(s):n.keyword!==s)throw new Error("ajv implementation error");let o=n.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[s])){let c=`keyword "${s}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Cs.validateKeywordUsage=kwe});var z4=w($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.extendSubschemaMode=$a.extendSubschemaData=$a.getSubschema=void 0;var Ns=Ie(),F4=mt();function Awe(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:s,topSchemaRef:o}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,Ns._)`${t.schemaPath}${(0,Ns.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,Ns._)`${t.schemaPath}${(0,Ns.getProperty)(e)}${(0,Ns.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,F4.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}$a.getSubschema=Awe;function Cwe(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:s,propertyName:o}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:l,dataPathArr:u,opts:f}=e,p=a.let("data",(0,Ns._)`${e.data}${(0,Ns.getProperty)(r)}`,!0);c(p),t.errorPath=(0,Ns.str)`${l}${(0,F4.getErrorPath)(r,i,f.jsPropertySyntax)}`,t.parentDataProperty=(0,Ns._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(n!==void 0){let l=n instanceof Ns.Name?n:a.let("data",n,!0);c(l),o!==void 0&&(t.propertyName=o)}s&&(t.dataTypes=s);function c(l){t.data=l,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,l]}}$a.extendSubschemaData=Cwe;function Nwe(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:s}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}$a.extendSubschemaMode=Nwe});var H4=w((Yrt,U4)=>{"use strict";var Pa=U4.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};Iv(e,i,n,t,"",t)};Pa.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Pa.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Pa.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Pa.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Iv(t,e,r,i,n,s,o,a,c,l){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,s,o,a,c,l);for(var u in i){var f=i[u];if(Array.isArray(f)){if(u in Pa.arrayKeywords)for(var p=0;p<f.length;p++)Iv(t,e,r,f[p],n+"/"+u+"/"+p,s,n,u,i,p)}else if(u in Pa.propsKeywords){if(f&&typeof f=="object")for(var d in f)Iv(t,e,r,f[d],n+"/"+u+"/"+Iwe(d),s,n,u,i,d)}else(u in Pa.keywords||t.allKeys&&!(u in Pa.skipKeywords))&&Iv(t,e,r,f,n+"/"+u,s,n,u,i)}r(i,n,s,o,a,c,l)}}function Iwe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Tp=w(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.getSchemaRefs=Yi.resolveUrl=Yi.normalizeId=Yi._getFullPath=Yi.getFullPath=Yi.inlineRef=void 0;var jwe=mt(),qwe=bn(),Mwe=H4(),Dwe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Lwe(t,e=!0){return typeof t=="boolean"?!0:e===!0?!wT(t):e?B4(t)<=e:!1}Yi.inlineRef=Lwe;var Fwe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function wT(t){for(let e in t){if(Fwe.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(wT)||typeof r=="object"&&wT(r))return!0}return!1}function B4(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Dwe.has(r)&&(typeof t[r]=="object"&&(0,jwe.eachItem)(t[r],i=>e+=B4(i)),e===1/0))return 1/0}return e}function V4(t,e="",r){r!==!1&&(e=Ru(e));let i=t.parse(e);return W4(t,i)}Yi.getFullPath=V4;function W4(t,e){return t.serialize(e).split("#")[0]+"#"}Yi._getFullPath=W4;var zwe=/#\/?$/;function Ru(t){return t?t.replace(zwe,""):""}Yi.normalizeId=Ru;function Uwe(t,e,r){return r=Ru(r),t.resolve(e,r)}Yi.resolveUrl=Uwe;var Hwe=/^[a-z_][-a-z0-9._]*$/i;function Bwe(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:i}=this.opts,n=Ru(t[r]||e),s={"":n},o=V4(i,n,!1),a={},c=new Set;return Mwe(t,{allKeys:!0},(f,p,d,h)=>{if(h===void 0)return;let m=o+p,v=s[h];typeof f[r]=="string"&&(v=y.call(this,f[r])),E.call(this,f.$anchor),E.call(this,f.$dynamicAnchor),s[p]=v;function y(_){let b=this.opts.uriResolver.resolve;if(_=Ru(v?b(v,_):_),c.has(_))throw u(_);c.add(_);let $=this.refs[_];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?l(f,$.schema,_):_!==Ru(m)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=m),_}function E(_){if(typeof _=="string"){if(!Hwe.test(_))throw new Error(`invalid anchor "${_}"`);y.call(this,`#${_}`)}}}),a;function l(f,p,d){if(p!==void 0&&!qwe(f,p))throw u(d)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Yi.getSchemaRefs=Bwe});var Op=w(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.getData=Oa.KeywordCxt=Oa.validateFunctionCode=void 0;var X4=$4(),G4=Rp(),ST=hT(),jv=Rp(),Vwe=I4(),Pp=L4(),xT=z4(),me=Ie(),Re=$o(),Wwe=Tp(),Po=mt(),$p=Ep();function Gwe(t){if(eH(t)&&(tH(t),Q4(t))){Ywe(t);return}Z4(t,()=>(0,X4.topBoolOrEmptySchema)(t))}Oa.validateFunctionCode=Gwe;function Z4({gen:t,validateName:e,schema:r,schemaEnv:i,opts:n},s){n.code.es5?t.func(e,(0,me._)`${Re.default.data}, ${Re.default.valCxt}`,i.$async,()=>{t.code((0,me._)`"use strict"; ${K4(r,n)}`),Jwe(t,n),t.code(s)}):t.func(e,(0,me._)`${Re.default.data}, ${Kwe(n)}`,i.$async,()=>t.code(K4(r,n)).code(s))}function Kwe(t){return(0,me._)`{${Re.default.instancePath}="", ${Re.default.parentData}, ${Re.default.parentDataProperty}, ${Re.default.rootData}=${Re.default.data}${t.dynamicRef?(0,me._)`, ${Re.default.dynamicAnchors}={}`:me.nil}}={}`}function Jwe(t,e){t.if(Re.default.valCxt,()=>{t.var(Re.default.instancePath,(0,me._)`${Re.default.valCxt}.${Re.default.instancePath}`),t.var(Re.default.parentData,(0,me._)`${Re.default.valCxt}.${Re.default.parentData}`),t.var(Re.default.parentDataProperty,(0,me._)`${Re.default.valCxt}.${Re.default.parentDataProperty}`),t.var(Re.default.rootData,(0,me._)`${Re.default.valCxt}.${Re.default.rootData}`),e.dynamicRef&&t.var(Re.default.dynamicAnchors,(0,me._)`${Re.default.valCxt}.${Re.default.dynamicAnchors}`)},()=>{t.var(Re.default.instancePath,(0,me._)`""`),t.var(Re.default.parentData,(0,me._)`undefined`),t.var(Re.default.parentDataProperty,(0,me._)`undefined`),t.var(Re.default.rootData,Re.default.data),e.dynamicRef&&t.var(Re.default.dynamicAnchors,(0,me._)`{}`)})}function Ywe(t){let{schema:e,opts:r,gen:i}=t;Z4(t,()=>{r.$comment&&e.$comment&&iH(t),txe(t),i.let(Re.default.vErrors,null),i.let(Re.default.errors,0),r.unevaluated&&Xwe(t),rH(t),nxe(t)})}function Xwe(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,me._)`${r}.evaluated`),e.if((0,me._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,me._)`${t.evaluated}.props`,(0,me._)`undefined`)),e.if((0,me._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,me._)`${t.evaluated}.items`,(0,me._)`undefined`))}function K4(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,me._)`/*# sourceURL=${r} */`:me.nil}function Zwe(t,e){if(eH(t)&&(tH(t),Q4(t))){Qwe(t,e);return}(0,X4.boolOrEmptySchema)(t,e)}function Q4({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function eH(t){return typeof t.schema!="boolean"}function Qwe(t,e){let{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&iH(t),rxe(t),ixe(t);let s=i.const("_errs",Re.default.errors);rH(t,s),i.var(e,(0,me._)`${s} === ${Re.default.errors}`)}function tH(t){(0,Po.checkUnknownRules)(t),exe(t)}function rH(t,e){if(t.opts.jtd)return J4(t,[],!1,e);let r=(0,G4.getSchemaTypes)(t.schema),i=(0,G4.coerceAndCheckDataType)(t,r);J4(t,r,!i,e)}function exe(t){let{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&(0,Po.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function txe(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Po.checkStrictMode)(t,"default is ignored in the schema root")}function rxe(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Wwe.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function ixe(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function iH({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){let s=r.$comment;if(n.$comment===!0)t.code((0,me._)`${Re.default.self}.logger.log(${s})`);else if(typeof n.$comment=="function"){let o=(0,me.str)`${i}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,me._)`${Re.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function nxe(t){let{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:s}=t;r.$async?e.if((0,me._)`${Re.default.errors} === 0`,()=>e.return(Re.default.data),()=>e.throw((0,me._)`new ${n}(${Re.default.vErrors})`)):(e.assign((0,me._)`${i}.errors`,Re.default.vErrors),s.unevaluated&&sxe(t),e.return((0,me._)`${Re.default.errors} === 0`))}function sxe({gen:t,evaluated:e,props:r,items:i}){r instanceof me.Name&&t.assign((0,me._)`${e}.props`,r),i instanceof me.Name&&t.assign((0,me._)`${e}.items`,i)}function J4(t,e,r,i){let{gen:n,schema:s,data:o,allErrors:a,opts:c,self:l}=t,{RULES:u}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,Po.schemaHasRulesButRef)(s,u))){n.block(()=>sH(t,"$ref",u.all.$ref.definition));return}c.jtd||oxe(t,e),n.block(()=>{for(let p of u.rules)f(p);f(u.post)});function f(p){(0,ST.shouldUseGroup)(s,p)&&(p.type?(n.if((0,jv.checkDataType)(p.type,o,c.strictNumbers)),Y4(t,p),e.length===1&&e[0]===p.type&&r&&(n.else(),(0,jv.reportTypeError)(t)),n.endIf()):Y4(t,p),a||n.if((0,me._)`${Re.default.errors} === ${i||0}`))}}function Y4(t,e){let{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&(0,Vwe.assignDefaults)(t,e.type),r.block(()=>{for(let s of e.rules)(0,ST.shouldUseRule)(i,s)&&sH(t,s.keyword,s.definition,e.type)})}function oxe(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(axe(t,e),t.opts.allowUnionTypes||cxe(t,e),lxe(t,t.dataTypes))}function axe(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{nH(t.dataTypes,r)||ET(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),fxe(t,e)}}function cxe(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ET(t,"use allowUnionTypes to allow union type keyword")}function lxe(t,e){let r=t.self.RULES.all;for(let i in r){let n=r[i];if(typeof n=="object"&&(0,ST.shouldUseRule)(t.schema,n)){let{type:s}=n.definition;s.length&&!s.some(o=>uxe(e,o))&&ET(t,`missing type "${s.join(",")}" for keyword "${i}"`)}}}function uxe(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function nH(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function fxe(t,e){let r=[];for(let i of t.dataTypes)nH(e,i)?r.push(i):e.includes("integer")&&i==="number"&&r.push("integer");t.dataTypes=r}function ET(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Po.checkStrictMode)(t,e,t.opts.strictTypes)}var qv=class{constructor(e,r,i){if((0,Pp.validateKeywordUsage)(e,r,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Po.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",oH(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Pp.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Re.default.errors))}result(e,r,i){this.failResult((0,me.not)(e),r,i)}failResult(e,r,i){this.gen.if(e),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,me.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,me._)`${r} !== undefined && (${(0,me.or)(this.invalid$data(),e)})`)}error(e,r,i){if(r){this.setParams(r),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,r){(e?$p.reportExtraError:$p.reportError)(this,this.def.error,r)}$dataError(){(0,$p.reportError)(this,this.def.$dataError||$p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,i=me.nil){this.gen.block(()=>{this.check$data(e,i),r()})}check$data(e=me.nil,r=me.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:s,def:o}=this;i.if((0,me.or)((0,me._)`${n} === undefined`,r)),e!==me.nil&&i.assign(e,!0),(s.length||o.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==me.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:i,def:n,it:s}=this;return(0,me.or)(o(),a());function o(){if(i.length){if(!(r instanceof me.Name))throw new Error("ajv implementation error");let c=Array.isArray(i)?i:[i];return(0,me._)`${(0,jv.checkDataTypes)(c,r,s.opts.strictNumbers,jv.DataType.Wrong)}`}return me.nil}function a(){if(n.validateSchema){let c=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,me._)`!${c}(${r})`}return me.nil}}subschema(e,r){let i=(0,xT.getSubschema)(this.it,e);(0,xT.extendSubschemaData)(i,this.it,e),(0,xT.extendSubschemaMode)(i,e);let n={...this.it,...i,items:void 0,props:void 0};return Zwe(n,r),n}mergeEvaluated(e,r){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=Po.mergeEvaluated.props(n,e.props,i.props,r)),i.items!==!0&&e.items!==void 0&&(i.items=Po.mergeEvaluated.items(n,e.items,i.items,r)))}mergeValidEvaluated(e,r){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,me.Name)),!0}};Oa.KeywordCxt=qv;function sH(t,e,r,i){let n=new qv(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?(0,Pp.funcKeywordCode)(n,r):"macro"in r?(0,Pp.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Pp.funcKeywordCode)(n,r)}var dxe=/^\/(?:[^~]|~0|~1)*$/,pxe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oH(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,s;if(t==="")return Re.default.rootData;if(t[0]==="/"){if(!dxe.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,s=Re.default.rootData}else{let l=pxe.exec(t);if(!l)throw new Error(`Invalid JSON-pointer: ${t}`);let u=+l[1];if(n=l[2],n==="#"){if(u>=e)throw new Error(c("property/index",u));return i[e-u]}if(u>e)throw new Error(c("data",u));if(s=r[e-u],!n)return s}let o=s,a=n.split("/");for(let l of a)l&&(s=(0,me._)`${s}${(0,me.getProperty)((0,Po.unescapeJsonPointer)(l))}`,o=(0,me._)`${o} && ${s}`);return o;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${e}`}}Oa.getData=oH});var Mv=w(TT=>{"use strict";Object.defineProperty(TT,"__esModule",{value:!0});var RT=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};TT.default=RT});var kp=w(OT=>{"use strict";Object.defineProperty(OT,"__esModule",{value:!0});var $T=Tp(),PT=class extends Error{constructor(e,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,$T.resolveUrl)(e,r,i),this.missingSchema=(0,$T.normalizeId)((0,$T.getFullPath)(e,this.missingRef))}};OT.default=PT});var Lv=w(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.resolveSchema=xn.getCompilingSchema=xn.resolveRef=xn.compileSchema=xn.SchemaEnv=void 0;var rs=Ie(),hxe=Mv(),Lc=$o(),is=Tp(),aH=mt(),mxe=Op(),Tu=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,is.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};xn.SchemaEnv=Tu;function AT(t){let e=cH.call(this,t);if(e)return e;let r=(0,is.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,o=new rs.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s}),a;t.$async&&(a=o.scopeValue("Error",{ref:hxe.default,code:(0,rs._)`require("ajv/dist/runtime/validation_error").default`}));let c=o.scopeName("validate");t.validateName=c;let l={gen:o,allErrors:this.opts.allErrors,data:Lc.default.data,parentData:Lc.default.parentData,parentDataProperty:Lc.default.parentDataProperty,dataNames:[Lc.default.data],dataPathArr:[rs.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,rs.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:rs.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,rs._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(t),(0,mxe.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let f=o.toString();u=`${o.scopeRefs(Lc.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,t));let d=new Function(`${Lc.default.self}`,`${Lc.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:d}),d.errors=null,d.schema=t.schema,d.schemaEnv=t,t.$async&&(d.$async=!0),this.opts.code.source===!0&&(d.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){let{props:h,items:m}=l;d.evaluated={props:h instanceof rs.Name?void 0:h,items:m instanceof rs.Name?void 0:m,dynamicProps:h instanceof rs.Name,dynamicItems:m instanceof rs.Name},d.source&&(d.source.evaluated=(0,rs.stringify)(d.evaluated))}return t.validate=d,t}catch(f){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(t)}}xn.compileSchema=AT;function gxe(t,e,r){var i;r=(0,is.resolveUrl)(this.opts.uriResolver,e,r);let n=t.refs[r];if(n)return n;let s=bxe.call(this,t,r);if(s===void 0){let o=(i=t.localRefs)===null||i===void 0?void 0:i[r],{schemaId:a}=this.opts;o&&(s=new Tu({schema:o,schemaId:a,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=yxe.call(this,s)}xn.resolveRef=gxe;function yxe(t){return(0,is.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:AT.call(this,t)}function cH(t){for(let e of this._compilations)if(vxe(e,t))return e}xn.getCompilingSchema=cH;function vxe(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function bxe(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Dv.call(this,t,e)}function Dv(t,e){let r=this.opts.uriResolver.parse(e),i=(0,is._getFullPath)(this.opts.uriResolver,r),n=(0,is.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return kT.call(this,r,t);let s=(0,is.normalizeId)(i),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=Dv.call(this,t,o);return typeof a?.schema!="object"?void 0:kT.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||AT.call(this,o),s===(0,is.normalizeId)(e)){let{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(n=(0,is.resolveUrl)(this.opts.uriResolver,n,l)),new Tu({schema:a,schemaId:c,root:t,baseId:n})}return kT.call(this,r,o)}}xn.resolveSchema=Dv;var _xe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function kT(t,{baseId:e,schema:r,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,aH.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!_xe.has(a)&&l&&(e=(0,is.resolveUrl)(this.opts.uriResolver,e,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,aH.schemaHasRulesButRef)(r,this.RULES)){let a=(0,is.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=Dv.call(this,i,a)}let{schemaId:o}=this.opts;if(s=s||new Tu({schema:r,schemaId:o,root:i,baseId:e}),s.schema!==s.root.schema)return s}});var lH=w((rit,wxe)=>{wxe.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var zv=w((Fv,uH)=>{(function(t,e){typeof Fv=="object"&&typeof uH<"u"?e(Fv):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Fv,function(t){"use strict";function e(){for(var D=arguments.length,q=Array(D),F=0;F<D;F++)q[F]=arguments[F];if(q.length>1){q[0]=q[0].slice(0,-1);for(var U=q.length-1,H=1;H<U;++H)q[H]=q[H].slice(1,-1);return q[U]=q[U].slice(1),q.join("")}else return q[0]}function r(D){return"(?:"+D+")"}function i(D){return D===void 0?"undefined":D===null?"null":Object.prototype.toString.call(D).split(" ").pop().split("]").shift().toLowerCase()}function n(D){return D.toUpperCase()}function s(D){return D!=null?D instanceof Array?D:typeof D.length!="number"||D.split||D.setInterval||D.call?[D]:Array.prototype.slice.call(D):[]}function o(D,q){var F=D;if(q)for(var U in q)F[U]=q[U];return F}function a(D){var q="[A-Za-z]",F="[\\x0D]",U="[0-9]",H="[\\x22]",oe=e(U,"[A-Fa-f]"),de="[\\x0A]",_e="[\\x20]",ut=r(r("%[EFef]"+oe+"%"+oe+oe+"%"+oe+oe)+"|"+r("%[89A-Fa-f]"+oe+"%"+oe+oe)+"|"+r("%"+oe+oe)),dr="[\\:\\/\\?\\#\\[\\]\\@]",Ue="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ut=e(dr,Ue),pr=D?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",qt=D?"[\\uE000-\\uF8FF]":"[]",et=e(q,U,"[\\-\\.\\_\\~]",pr),Ht=r(q+e(q,U,"[\\+\\-\\.]")+"*"),Et=r(r(ut+"|"+e(et,Ue,"[\\:]"))+"*"),Xn=r(r("25[0-5]")+"|"+r("2[0-4]"+U)+"|"+r("1"+U+U)+"|"+r("[1-9]"+U)+"|"+U),Hr=r(r("25[0-5]")+"|"+r("2[0-4]"+U)+"|"+r("1"+U+U)+"|"+r("0?[1-9]"+U)+"|0?0?"+U),li=r(Hr+"\\."+Hr+"\\."+Hr+"\\."+Hr),Pt=r(oe+"{1,4}"),Br=r(r(Pt+"\\:"+Pt)+"|"+li),ui=r(r(Pt+"\\:")+"{6}"+Br),Vi=r("\\:\\:"+r(Pt+"\\:")+"{5}"+Br),Zn=r(r(Pt)+"?\\:\\:"+r(Pt+"\\:")+"{4}"+Br),ln=r(r(r(Pt+"\\:")+"{0,1}"+Pt)+"?\\:\\:"+r(Pt+"\\:")+"{3}"+Br),yo=r(r(r(Pt+"\\:")+"{0,2}"+Pt)+"?\\:\\:"+r(Pt+"\\:")+"{2}"+Br),sy=r(r(r(Pt+"\\:")+"{0,3}"+Pt)+"?\\:\\:"+Pt+"\\:"+Br),oy=r(r(r(Pt+"\\:")+"{0,4}"+Pt)+"?\\:\\:"+Br),Zl=r(r(r(Pt+"\\:")+"{0,5}"+Pt)+"?\\:\\:"+Pt),Ql=r(r(r(Pt+"\\:")+"{0,6}"+Pt)+"?\\:\\:"),vo=r([ui,Vi,Zn,ln,yo,sy,oy,Zl,Ql].join("|")),eu=r(r(et+"|"+ut)+"+"),TS=r(vo+"\\%25"+eu),Sc=r(vo+r("\\%25|\\%(?!"+oe+"{2})")+eu),Pce=r("[vV]"+oe+"+\\."+e(et,Ue,"[\\:]")+"+"),Oce=r("\\["+r(Sc+"|"+vo+"|"+Pce)+"\\]"),RM=r(r(ut+"|"+e(et,Ue))+"*"),zd=r(Oce+"|"+li+"(?!"+RM+")|"+RM),Ud=r(U+"*"),TM=r(r(Et+"@")+"?"+zd+r("\\:"+Ud)+"?"),Hd=r(ut+"|"+e(et,Ue,"[\\:\\@]")),kce=r(Hd+"*"),$M=r(Hd+"+"),Ace=r(r(ut+"|"+e(et,Ue,"[\\@]"))+"+"),bo=r(r("\\/"+kce)+"*"),tu=r("\\/"+r($M+bo)+"?"),$S=r(Ace+bo),ay=r($M+bo),ru="(?!"+Hd+")",cet=r(bo+"|"+tu+"|"+$S+"|"+ay+"|"+ru),iu=r(r(Hd+"|"+e("[\\/\\?]",qt))+"*"),Bd=r(r(Hd+"|[\\/\\?]")+"*"),PM=r(r("\\/\\/"+TM+bo)+"|"+tu+"|"+ay+"|"+ru),Cce=r(Ht+"\\:"+PM+r("\\?"+iu)+"?"+r("\\#"+Bd)+"?"),Nce=r(r("\\/\\/"+TM+bo)+"|"+tu+"|"+$S+"|"+ru),Ice=r(Nce+r("\\?"+iu)+"?"+r("\\#"+Bd)+"?"),uet=r(Cce+"|"+Ice),fet=r(Ht+"\\:"+PM+r("\\?"+iu)+"?"),det="^("+Ht+")\\:"+r(r("\\/\\/("+r("("+Et+")@")+"?("+zd+")"+r("\\:("+Ud+")")+"?)")+"?("+bo+"|"+tu+"|"+ay+"|"+ru+")")+r("\\?("+iu+")")+"?"+r("\\#("+Bd+")")+"?$",pet="^(){0}"+r(r("\\/\\/("+r("("+Et+")@")+"?("+zd+")"+r("\\:("+Ud+")")+"?)")+"?("+bo+"|"+tu+"|"+$S+"|"+ru+")")+r("\\?("+iu+")")+"?"+r("\\#("+Bd+")")+"?$",het="^("+Ht+")\\:"+r(r("\\/\\/("+r("("+Et+")@")+"?("+zd+")"+r("\\:("+Ud+")")+"?)")+"?("+bo+"|"+tu+"|"+ay+"|"+ru+")")+r("\\?("+iu+")")+"?$",met="^"+r("\\#("+Bd+")")+"?$",get="^"+r("("+Et+")@")+"?("+zd+")"+r("\\:("+Ud+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",q,U,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",et,Ue),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",et,Ue),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",et,Ue),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",et,Ue),"g"),NOT_QUERY:new RegExp(e("[^\\%]",et,Ue,"[\\:\\@\\/\\?]",qt),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",et,Ue,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",et,Ue),"g"),UNRESERVED:new RegExp(et,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",et,Ut),"g"),PCT_ENCODED:new RegExp(ut,"g"),IPV4ADDRESS:new RegExp("^("+li+")$"),IPV6ADDRESS:new RegExp("^\\[?("+vo+")"+r(r("\\%25|\\%(?!"+oe+"{2})")+"("+eu+")")+"?\\]?$")}}var c=a(!1),l=a(!0),u=function(){function D(q,F){var U=[],H=!0,oe=!1,de=void 0;try{for(var _e=q[Symbol.iterator](),ut;!(H=(ut=_e.next()).done)&&(U.push(ut.value),!(F&&U.length===F));H=!0);}catch(dr){oe=!0,de=dr}finally{try{!H&&_e.return&&_e.return()}finally{if(oe)throw de}}return U}return function(q,F){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return D(q,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(D){if(Array.isArray(D)){for(var q=0,F=Array(D.length);q<D.length;q++)F[q]=D[q];return F}else return Array.from(D)},p=2147483647,d=36,h=1,m=26,v=38,y=700,E=72,_=128,b="-",$=/^xn--/,k=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=d-h,T=Math.floor,g=String.fromCharCode;function x(D){throw new RangeError(N[D])}function R(D,q){for(var F=[],U=D.length;U--;)F[U]=q(D[U]);return F}function P(D,q){var F=D.split("@"),U="";F.length>1&&(U=F[0]+"@",D=F[1]),D=D.replace(O,".");var H=D.split("."),oe=R(H,q).join(".");return U+oe}function C(D){for(var q=[],F=0,U=D.length;F<U;){var H=D.charCodeAt(F++);if(H>=55296&&H<=56319&&F<U){var oe=D.charCodeAt(F++);(oe&64512)==56320?q.push(((H&1023)<<10)+(oe&1023)+65536):(q.push(H),F--)}else q.push(H)}return q}var j=function(q){return String.fromCodePoint.apply(String,f(q))},M=function(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:d},A=function(q,F){return q+22+75*(q<26)-((F!=0)<<5)},S=function(q,F,U){var H=0;for(q=U?T(q/y):q>>1,q+=T(q/F);q>L*m>>1;H+=d)q=T(q/L);return T(H+(L+1)*q/(q+v))},I=function(q){var F=[],U=q.length,H=0,oe=_,de=E,_e=q.lastIndexOf(b);_e<0&&(_e=0);for(var ut=0;ut<_e;++ut)q.charCodeAt(ut)>=128&&x("not-basic"),F.push(q.charCodeAt(ut));for(var dr=_e>0?_e+1:0;dr<U;){for(var Ue=H,Ut=1,pr=d;;pr+=d){dr>=U&&x("invalid-input");var qt=M(q.charCodeAt(dr++));(qt>=d||qt>T((p-H)/Ut))&&x("overflow"),H+=qt*Ut;var et=pr<=de?h:pr>=de+m?m:pr-de;if(qt<et)break;var Ht=d-et;Ut>T(p/Ht)&&x("overflow"),Ut*=Ht}var Et=F.length+1;de=S(H-Ue,Et,Ue==0),T(H/Et)>p-oe&&x("overflow"),oe+=T(H/Et),H%=Et,F.splice(H++,0,oe)}return String.fromCodePoint.apply(String,F)},ee=function(q){var F=[];q=C(q);var U=q.length,H=_,oe=0,de=E,_e=!0,ut=!1,dr=void 0;try{for(var Ue=q[Symbol.iterator](),Ut;!(_e=(Ut=Ue.next()).done);_e=!0){var pr=Ut.value;pr<128&&F.push(g(pr))}}catch(Sc){ut=!0,dr=Sc}finally{try{!_e&&Ue.return&&Ue.return()}finally{if(ut)throw dr}}var qt=F.length,et=qt;for(qt&&F.push(b);et<U;){var Ht=p,Et=!0,Xn=!1,Hr=void 0;try{for(var li=q[Symbol.iterator](),Pt;!(Et=(Pt=li.next()).done);Et=!0){var Br=Pt.value;Br>=H&&Br<Ht&&(Ht=Br)}}catch(Sc){Xn=!0,Hr=Sc}finally{try{!Et&&li.return&&li.return()}finally{if(Xn)throw Hr}}var ui=et+1;Ht-H>T((p-oe)/ui)&&x("overflow"),oe+=(Ht-H)*ui,H=Ht;var Vi=!0,Zn=!1,ln=void 0;try{for(var yo=q[Symbol.iterator](),sy;!(Vi=(sy=yo.next()).done);Vi=!0){var oy=sy.value;if(oy<H&&++oe>p&&x("overflow"),oy==H){for(var Zl=oe,Ql=d;;Ql+=d){var vo=Ql<=de?h:Ql>=de+m?m:Ql-de;if(Zl<vo)break;var eu=Zl-vo,TS=d-vo;F.push(g(A(vo+eu%TS,0))),Zl=T(eu/TS)}F.push(g(A(Zl,0))),de=S(oe,ui,et==qt),oe=0,++et}}}catch(Sc){Zn=!0,ln=Sc}finally{try{!Vi&&yo.return&&yo.return()}finally{if(Zn)throw ln}}++oe,++H}return F.join("")},Y=function(q){return P(q,function(F){return $.test(F)?I(F.slice(4).toLowerCase()):F})},V=function(q){return P(q,function(F){return k.test(F)?"xn--"+ee(F):F})},Q={version:"2.1.0",ucs2:{decode:C,encode:j},decode:I,encode:ee,toASCII:V,toUnicode:Y},Z={};function se(D){var q=D.charCodeAt(0),F=void 0;return q<16?F="%0"+q.toString(16).toUpperCase():q<128?F="%"+q.toString(16).toUpperCase():q<2048?F="%"+(q>>6|192).toString(16).toUpperCase()+"%"+(q&63|128).toString(16).toUpperCase():F="%"+(q>>12|224).toString(16).toUpperCase()+"%"+(q>>6&63|128).toString(16).toUpperCase()+"%"+(q&63|128).toString(16).toUpperCase(),F}function ve(D){for(var q="",F=0,U=D.length;F<U;){var H=parseInt(D.substr(F+1,2),16);if(H<128)q+=String.fromCharCode(H),F+=3;else if(H>=194&&H<224){if(U-F>=6){var oe=parseInt(D.substr(F+4,2),16);q+=String.fromCharCode((H&31)<<6|oe&63)}else q+=D.substr(F,6);F+=6}else if(H>=224){if(U-F>=9){var de=parseInt(D.substr(F+4,2),16),_e=parseInt(D.substr(F+7,2),16);q+=String.fromCharCode((H&15)<<12|(de&63)<<6|_e&63)}else q+=D.substr(F,9);F+=9}else q+=D.substr(F,3),F+=3}return q}function ue(D,q){function F(U){var H=ve(U);return H.match(q.UNRESERVED)?H:U}return D.scheme&&(D.scheme=String(D.scheme).replace(q.PCT_ENCODED,F).toLowerCase().replace(q.NOT_SCHEME,"")),D.userinfo!==void 0&&(D.userinfo=String(D.userinfo).replace(q.PCT_ENCODED,F).replace(q.NOT_USERINFO,se).replace(q.PCT_ENCODED,n)),D.host!==void 0&&(D.host=String(D.host).replace(q.PCT_ENCODED,F).toLowerCase().replace(q.NOT_HOST,se).replace(q.PCT_ENCODED,n)),D.path!==void 0&&(D.path=String(D.path).replace(q.PCT_ENCODED,F).replace(D.scheme?q.NOT_PATH:q.NOT_PATH_NOSCHEME,se).replace(q.PCT_ENCODED,n)),D.query!==void 0&&(D.query=String(D.query).replace(q.PCT_ENCODED,F).replace(q.NOT_QUERY,se).replace(q.PCT_ENCODED,n)),D.fragment!==void 0&&(D.fragment=String(D.fragment).replace(q.PCT_ENCODED,F).replace(q.NOT_FRAGMENT,se).replace(q.PCT_ENCODED,n)),D}function Se(D){return D.replace(/^0*(.*)/,"$1")||"0"}function it(D,q){var F=D.match(q.IPV4ADDRESS)||[],U=u(F,2),H=U[1];return H?H.split(".").map(Se).join("."):D}function he(D,q){var F=D.match(q.IPV6ADDRESS)||[],U=u(F,3),H=U[1],oe=U[2];if(H){for(var de=H.toLowerCase().split("::").reverse(),_e=u(de,2),ut=_e[0],dr=_e[1],Ue=dr?dr.split(":").map(Se):[],Ut=ut.split(":").map(Se),pr=q.IPV4ADDRESS.test(Ut[Ut.length-1]),qt=pr?7:8,et=Ut.length-qt,Ht=Array(qt),Et=0;Et<qt;++Et)Ht[Et]=Ue[Et]||Ut[et+Et]||"";pr&&(Ht[qt-1]=it(Ht[qt-1],q));var Xn=Ht.reduce(function(ui,Vi,Zn){if(!Vi||Vi==="0"){var ln=ui[ui.length-1];ln&&ln.index+ln.length===Zn?ln.length++:ui.push({index:Zn,length:1})}return ui},[]),Hr=Xn.sort(function(ui,Vi){return Vi.length-ui.length})[0],li=void 0;if(Hr&&Hr.length>1){var Pt=Ht.slice(0,Hr.index),Br=Ht.slice(Hr.index+Hr.length);li=Pt.join(":")+"::"+Br.join(":")}else li=Ht.join(":");return oe&&(li+="%"+oe),li}else return D}var z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,K="".match(/(){0}/)[1]===void 0;function J(D){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F={},U=q.iri!==!1?l:c;q.reference==="suffix"&&(D=(q.scheme?q.scheme+":":"")+"//"+D);var H=D.match(z);if(H){K?(F.scheme=H[1],F.userinfo=H[3],F.host=H[4],F.port=parseInt(H[5],10),F.path=H[6]||"",F.query=H[7],F.fragment=H[8],isNaN(F.port)&&(F.port=H[5])):(F.scheme=H[1]||void 0,F.userinfo=D.indexOf("@")!==-1?H[3]:void 0,F.host=D.indexOf("//")!==-1?H[4]:void 0,F.port=parseInt(H[5],10),F.path=H[6]||"",F.query=D.indexOf("?")!==-1?H[7]:void 0,F.fragment=D.indexOf("#")!==-1?H[8]:void 0,isNaN(F.port)&&(F.port=D.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?H[4]:void 0)),F.host&&(F.host=he(it(F.host,U),U)),F.scheme===void 0&&F.userinfo===void 0&&F.host===void 0&&F.port===void 0&&!F.path&&F.query===void 0?F.reference="same-document":F.scheme===void 0?F.reference="relative":F.fragment===void 0?F.reference="absolute":F.reference="uri",q.reference&&q.reference!=="suffix"&&q.reference!==F.reference&&(F.error=F.error||"URI is not a "+q.reference+" reference.");var oe=Z[(q.scheme||F.scheme||"").toLowerCase()];if(!q.unicodeSupport&&(!oe||!oe.unicodeSupport)){if(F.host&&(q.domainHost||oe&&oe.domainHost))try{F.host=Q.toASCII(F.host.replace(U.PCT_ENCODED,ve).toLowerCase())}catch(de){F.error=F.error||"Host's domain name can not be converted to ASCII via punycode: "+de}ue(F,c)}else ue(F,U);oe&&oe.parse&&oe.parse(F,q)}else F.error=F.error||"URI can not be parsed.";return F}function B(D,q){var F=q.iri!==!1?l:c,U=[];return D.userinfo!==void 0&&(U.push(D.userinfo),U.push("@")),D.host!==void 0&&U.push(he(it(String(D.host),F),F).replace(F.IPV6ADDRESS,function(H,oe,de){return"["+oe+(de?"%25"+de:"")+"]"})),(typeof D.port=="number"||typeof D.port=="string")&&(U.push(":"),U.push(String(D.port))),U.length?U.join(""):void 0}var X=/^\.\.?\//,G=/^\/\.(\/|$)/,re=/^\/\.\.(\/|$)/,wt=/^\/?(?:.|\n)*?(?=\/|$)/;function ne(D){for(var q=[];D.length;)if(D.match(X))D=D.replace(X,"");else if(D.match(G))D=D.replace(G,"/");else if(D.match(re))D=D.replace(re,"/"),q.pop();else if(D==="."||D==="..")D="";else{var F=D.match(wt);if(F){var U=F[0];D=D.slice(U.length),q.push(U)}else throw new Error("Unexpected dot segment condition")}return q.join("")}function ae(D){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=q.iri?l:c,U=[],H=Z[(q.scheme||D.scheme||"").toLowerCase()];if(H&&H.serialize&&H.serialize(D,q),D.host&&!F.IPV6ADDRESS.test(D.host)){if(q.domainHost||H&&H.domainHost)try{D.host=q.iri?Q.toUnicode(D.host):Q.toASCII(D.host.replace(F.PCT_ENCODED,ve).toLowerCase())}catch(_e){D.error=D.error||"Host's domain name can not be converted to "+(q.iri?"Unicode":"ASCII")+" via punycode: "+_e}}ue(D,F),q.reference!=="suffix"&&D.scheme&&(U.push(D.scheme),U.push(":"));var oe=B(D,q);if(oe!==void 0&&(q.reference!=="suffix"&&U.push("//"),U.push(oe),D.path&&D.path.charAt(0)!=="/"&&U.push("/")),D.path!==void 0){var de=D.path;!q.absolutePath&&(!H||!H.absolutePath)&&(de=ne(de)),oe===void 0&&(de=de.replace(/^\/\//,"/%2F")),U.push(de)}return D.query!==void 0&&(U.push("?"),U.push(D.query)),D.fragment!==void 0&&(U.push("#"),U.push(D.fragment)),U.join("")}function Rt(D,q){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=arguments[3],H={};return U||(D=J(ae(D,F),F),q=J(ae(q,F),F)),F=F||{},!F.tolerant&&q.scheme?(H.scheme=q.scheme,H.userinfo=q.userinfo,H.host=q.host,H.port=q.port,H.path=ne(q.path||""),H.query=q.query):(q.userinfo!==void 0||q.host!==void 0||q.port!==void 0?(H.userinfo=q.userinfo,H.host=q.host,H.port=q.port,H.path=ne(q.path||""),H.query=q.query):(q.path?(q.path.charAt(0)==="/"?H.path=ne(q.path):((D.userinfo!==void 0||D.host!==void 0||D.port!==void 0)&&!D.path?H.path="/"+q.path:D.path?H.path=D.path.slice(0,D.path.lastIndexOf("/")+1)+q.path:H.path=q.path,H.path=ne(H.path)),H.query=q.query):(H.path=D.path,q.query!==void 0?H.query=q.query:H.query=D.query),H.userinfo=D.userinfo,H.host=D.host,H.port=D.port),H.scheme=D.scheme),H.fragment=q.fragment,H}function fe(D,q,F){var U=o({scheme:"null"},F);return ae(Rt(J(D,U),J(q,U),U,!0),U)}function we(D,q){return typeof D=="string"?D=ae(J(D,q),q):i(D)==="object"&&(D=J(ae(D,q),q)),D}function cn(D,q,F){return typeof D=="string"?D=ae(J(D,F),F):i(D)==="object"&&(D=ae(D,F)),typeof q=="string"?q=ae(J(q,F),F):i(q)==="object"&&(q=ae(q,F)),D===q}function Tt(D,q){return D&&D.toString().replace(!q||!q.iri?c.ESCAPE:l.ESCAPE,se)}function xt(D,q){return D&&D.toString().replace(!q||!q.iri?c.PCT_ENCODED:l.PCT_ENCODED,ve)}var ha={scheme:"http",domainHost:!0,parse:function(q,F){return q.host||(q.error=q.error||"HTTP URIs must have a host."),q},serialize:function(q,F){var U=String(q.scheme).toLowerCase()==="https";return(q.port===(U?443:80)||q.port==="")&&(q.port=void 0),q.path||(q.path="/"),q}},Ye={scheme:"https",domainHost:ha.domainHost,parse:ha.parse,serialize:ha.serialize};function Xt(D){return typeof D.secure=="boolean"?D.secure:String(D.scheme).toLowerCase()==="wss"}var Yn={scheme:"ws",domainHost:!0,parse:function(q,F){var U=q;return U.secure=Xt(U),U.resourceName=(U.path||"/")+(U.query?"?"+U.query:""),U.path=void 0,U.query=void 0,U},serialize:function(q,F){if((q.port===(Xt(q)?443:80)||q.port==="")&&(q.port=void 0),typeof q.secure=="boolean"&&(q.scheme=q.secure?"wss":"ws",q.secure=void 0),q.resourceName){var U=q.resourceName.split("?"),H=u(U,2),oe=H[0],de=H[1];q.path=oe&&oe!=="/"?oe:void 0,q.query=de,q.resourceName=void 0}return q.fragment=void 0,q}},Ee={scheme:"wss",domainHost:Yn.domainHost,parse:Yn.parse,serialize:Yn.serialize},ct={},ry=!0,lt="[A-Za-z0-9\\-\\.\\_\\~"+(ry?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",De="[0-9A-Fa-f]",iy=r(r("%[EFef]"+De+"%"+De+De+"%"+De+De)+"|"+r("%[89A-Fa-f]"+De+"%"+De+De)+"|"+r("%"+De+De)),Xe="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",fr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ny=e(fr,'[\\"\\\\]'),Oe="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",jt=new RegExp(lt,"g"),go=new RegExp(iy,"g"),St=new RegExp(e("[^]",Xe,"[\\.]",'[\\"]',ny),"g"),nt=new RegExp(e("[^]",lt,Oe),"g"),wc=nt;function $t(D){var q=ve(D);return q.match(jt)?q:D}var It={scheme:"mailto",parse:function(q,F){var U=q,H=U.to=U.path?U.path.split(","):[];if(U.path=void 0,U.query){for(var oe=!1,de={},_e=U.query.split("&"),ut=0,dr=_e.length;ut<dr;++ut){var Ue=_e[ut].split("=");switch(Ue[0]){case"to":for(var Ut=Ue[1].split(","),pr=0,qt=Ut.length;pr<qt;++pr)H.push(Ut[pr]);break;case"subject":U.subject=xt(Ue[1],F);break;case"body":U.body=xt(Ue[1],F);break;default:oe=!0,de[xt(Ue[0],F)]=xt(Ue[1],F);break}}oe&&(U.headers=de)}U.query=void 0;for(var et=0,Ht=H.length;et<Ht;++et){var Et=H[et].split("@");if(Et[0]=xt(Et[0]),F.unicodeSupport)Et[1]=xt(Et[1],F).toLowerCase();else try{Et[1]=Q.toASCII(xt(Et[1],F).toLowerCase())}catch(Xn){U.error=U.error||"Email address's domain name can not be converted to ASCII via punycode: "+Xn}H[et]=Et.join("@")}return U},serialize:function(q,F){var U=q,H=s(q.to);if(H){for(var oe=0,de=H.length;oe<de;++oe){var _e=String(H[oe]),ut=_e.lastIndexOf("@"),dr=_e.slice(0,ut).replace(go,$t).replace(go,n).replace(St,se),Ue=_e.slice(ut+1);try{Ue=F.iri?Q.toUnicode(Ue):Q.toASCII(xt(Ue,F).toLowerCase())}catch(et){U.error=U.error||"Email address's domain name can not be converted to "+(F.iri?"Unicode":"ASCII")+" via punycode: "+et}H[oe]=dr+"@"+Ue}U.path=H.join(",")}var Ut=q.headers=q.headers||{};q.subject&&(Ut.subject=q.subject),q.body&&(Ut.body=q.body);var pr=[];for(var qt in Ut)Ut[qt]!==ct[qt]&&pr.push(qt.replace(go,$t).replace(go,n).replace(nt,se)+"="+Ut[qt].replace(go,$t).replace(go,n).replace(wc,se));return pr.length&&(U.query=pr.join("&")),U}},xc=/^([^\:]+)\:(.*)/,Ct={scheme:"urn",parse:function(q,F){var U=q.path&&q.path.match(xc),H=q;if(U){var oe=F.scheme||H.scheme||"urn",de=U[1].toLowerCase(),_e=U[2],ut=oe+":"+(F.nid||de),dr=Z[ut];H.nid=de,H.nss=_e,H.path=void 0,dr&&(H=dr.parse(H,F))}else H.error=H.error||"URN can not be parsed.";return H},serialize:function(q,F){var U=F.scheme||q.scheme||"urn",H=q.nid,oe=U+":"+(F.nid||H),de=Z[oe];de&&(q=de.serialize(q,F));var _e=q,ut=q.nss;return _e.path=(H||F.nid)+":"+ut,_e}},vr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Fd={scheme:"urn:uuid",parse:function(q,F){var U=q;return U.uuid=U.nss,U.nss=void 0,!F.tolerant&&(!U.uuid||!U.uuid.match(vr))&&(U.error=U.error||"UUID is not valid."),U},serialize:function(q,F){var U=q;return U.nss=(q.uuid||"").toLowerCase(),U}};Z[ha.scheme]=ha,Z[Ye.scheme]=Ye,Z[Yn.scheme]=Yn,Z[Ee.scheme]=Ee,Z[It.scheme]=It,Z[Ct.scheme]=Ct,Z[Fd.scheme]=Fd,t.SCHEMES=Z,t.pctEncChar=se,t.pctDecChars=ve,t.parse=J,t.removeDotSegments=ne,t.serialize=ae,t.resolveComponents=Rt,t.resolve=fe,t.normalize=we,t.equal=cn,t.escapeComponent=Tt,t.unescapeComponent=xt,Object.defineProperty(t,"__esModule",{value:!0})})});var dH=w(CT=>{"use strict";Object.defineProperty(CT,"__esModule",{value:!0});var fH=zv();fH.code='require("ajv/dist/runtime/uri").default';CT.default=fH});var _H=w(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.CodeGen=Kr.Name=Kr.nil=Kr.stringify=Kr.str=Kr._=Kr.KeywordCxt=void 0;var xxe=Op();Object.defineProperty(Kr,"KeywordCxt",{enumerable:!0,get:function(){return xxe.KeywordCxt}});var $u=Ie();Object.defineProperty(Kr,"_",{enumerable:!0,get:function(){return $u._}});Object.defineProperty(Kr,"str",{enumerable:!0,get:function(){return $u.str}});Object.defineProperty(Kr,"stringify",{enumerable:!0,get:function(){return $u.stringify}});Object.defineProperty(Kr,"nil",{enumerable:!0,get:function(){return $u.nil}});Object.defineProperty(Kr,"Name",{enumerable:!0,get:function(){return $u.Name}});Object.defineProperty(Kr,"CodeGen",{enumerable:!0,get:function(){return $u.CodeGen}});var Sxe=Mv(),yH=kp(),Exe=pT(),Ap=Lv(),Rxe=Ie(),Cp=Tp(),Uv=Rp(),IT=mt(),pH=lH(),Txe=dH(),vH=(t,e)=>new RegExp(t,e);vH.code="new RegExp";var $xe=["removeAdditional","useDefaults","coerceTypes"],Pxe=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Oxe={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},kxe={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},hH=200;function Axe(t){var e,r,i,n,s,o,a,c,l,u,f,p,d,h,m,v,y,E,_,b,$,k,O,N,L;let T=t.strict,g=(e=t.code)===null||e===void 0?void 0:e.optimize,x=g===!0||g===void 0?1:g||0,R=(i=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&i!==void 0?i:vH,P=(n=t.uriResolver)!==null&&n!==void 0?n:Txe.default;return{strictSchema:(o=(s=t.strictSchema)!==null&&s!==void 0?s:T)!==null&&o!==void 0?o:!0,strictNumbers:(c=(a=t.strictNumbers)!==null&&a!==void 0?a:T)!==null&&c!==void 0?c:!0,strictTypes:(u=(l=t.strictTypes)!==null&&l!==void 0?l:T)!==null&&u!==void 0?u:"log",strictTuples:(p=(f=t.strictTuples)!==null&&f!==void 0?f:T)!==null&&p!==void 0?p:"log",strictRequired:(h=(d=t.strictRequired)!==null&&d!==void 0?d:T)!==null&&h!==void 0?h:!1,code:t.code?{...t.code,optimize:x,regExp:R}:{optimize:x,regExp:R},loopRequired:(m=t.loopRequired)!==null&&m!==void 0?m:hH,loopEnum:(v=t.loopEnum)!==null&&v!==void 0?v:hH,meta:(y=t.meta)!==null&&y!==void 0?y:!0,messages:(E=t.messages)!==null&&E!==void 0?E:!0,inlineRefs:(_=t.inlineRefs)!==null&&_!==void 0?_:!0,schemaId:(b=t.schemaId)!==null&&b!==void 0?b:"$id",addUsedSchema:($=t.addUsedSchema)!==null&&$!==void 0?$:!0,validateSchema:(k=t.validateSchema)!==null&&k!==void 0?k:!0,validateFormats:(O=t.validateFormats)!==null&&O!==void 0?O:!0,unicodeRegExp:(N=t.unicodeRegExp)!==null&&N!==void 0?N:!0,int32range:(L=t.int32range)!==null&&L!==void 0?L:!0,uriResolver:P}}var Np=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...Axe(e)};let{es5:r,lines:i}=this.opts.code;this.scope=new Rxe.ValueScope({scope:{},prefixes:Pxe,es5:r,lines:i}),this.logger=Mxe(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Exe.getRules)(),mH.call(this,Oxe,e,"NOT SUPPORTED"),mH.call(this,kxe,e,"DEPRECATED","warn"),this._metaOpts=jxe.call(this),e.formats&&Nxe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Ixe.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Cxe.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:i}=this.opts,n=pH;i==="id"&&(n={...pH},n.id=n.$id,delete n.$id),r&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(r);return"$async"in i||(this.errors=i.errors),n}compile(e,r){let i=this._addSchema(e,r);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,r);async function n(u,f){await s.call(this,u.$schema);let p=this._addSchema(u,f);return p.validate||o.call(this,p)}async function s(u){u&&!this.getSchema(u)&&await n.call(this,{$ref:u},!0)}async function o(u){try{return this._compileSchemaEnv(u)}catch(f){if(!(f instanceof yH.default))throw f;return a.call(this,f),await c.call(this,f.missingSchema),o.call(this,u)}}function a({missingSchema:u,missingRef:f}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${f} cannot be resolved`)}async function c(u){let f=await l.call(this,u);this.refs[u]||await s.call(this,f.$schema),this.refs[u]||this.addSchema(f,u,r)}async function l(u){let f=this._loading[u];if(f)return f;try{return await(this._loading[u]=i(u))}finally{delete this._loading[u]}}}addSchema(e,r,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,i,n);return this}let s;if(typeof e=="object"){let{schemaId:o}=this.opts;if(s=e[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,Cp.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(e,i,r,n,!0),this}addMetaSchema(e,r,i=this.opts.validateSchema){return this.addSchema(e,r,!0,i),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return n}getSchema(e){let r;for(;typeof(r=gH.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:i}=this.opts,n=new Ap.SchemaEnv({schema:{},schemaId:i});if(r=Ap.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=gH.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let i=e[this.opts.schemaId];return i&&(i=(0,Cp.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let i;if(typeof e=="string")i=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=i);else if(typeof e=="object"&&r===void 0){if(r=e,i=r.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Lxe.call(this,i,r),!r)return(0,IT.eachItem)(i,s=>NT.call(this,s)),this;zxe.call(this,r);let n={...r,type:(0,Uv.getJSONTypes)(r.type),schemaType:(0,Uv.getJSONTypes)(r.schemaType)};return(0,IT.eachItem)(i,n.type.length===0?s=>NT.call(this,s,n):s=>n.type.forEach(o=>NT.call(this,s,n,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let i of r.rules){let n=i.rules.findIndex(s=>s.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,s)=>n+r+s)}$dataMetaSchema(e,r){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of r){let s=n.split("/").slice(1),o=e;for(let a of s)o=o[a];for(let a in i){let c=i[a];if(typeof c!="object")continue;let{$data:l}=c.definition,u=o[a];l&&u&&(o[a]=bH(u))}}return e}_removeAllSchemas(e,r){for(let i in e){let n=e[i];(!r||r.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,r,i,n=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof e=="object")o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;i=(0,Cp.normalizeId)(o||i);let l=Cp.getSchemaRefs.call(this,e,i);return c=new Ap.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:i,localRefs:l}),this._cache.set(c.schema,c),s&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=c),n&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Ap.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Ap.compileSchema.call(this,e)}finally{this.opts=r}}};Np.ValidationError=Sxe.default;Np.MissingRefError=yH.default;Kr.default=Np;function mH(t,e,r,i="error"){for(let n in t){let s=n;s in e&&this.logger[i](`${r}: option ${n}. ${t[s]}`)}}function gH(t){return t=(0,Cp.normalizeId)(t),this.schemas[t]||this.refs[t]}function Cxe(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Nxe(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Ixe(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function jxe(){let t={...this.opts};for(let e of $xe)delete t[e];return t}var qxe={log(){},warn(){},error(){}};function Mxe(t){if(t===!1)return qxe;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Dxe=/^[a-z_$][a-z0-9_$:-]*$/i;function Lxe(t,e){let{RULES:r}=this;if((0,IT.eachItem)(t,i=>{if(r.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!Dxe.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function NT(t,e,r){var i;let n=e?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=n?s.post:s.rules.find(({type:c})=>c===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,Uv.getJSONTypes)(e.type),schemaType:(0,Uv.getJSONTypes)(e.schemaType)}};e.before?Fxe.call(this,o,a,e.before):o.rules.push(a),s.all[t]=a,(i=e.implements)===null||i===void 0||i.forEach(c=>this.addKeyword(c))}function Fxe(t,e,r){let i=t.rules.findIndex(n=>n.keyword===r);i>=0?t.rules.splice(i,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function zxe(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=bH(e)),t.validateSchema=this.compile(e,!0))}var Uxe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function bH(t){return{anyOf:[t,Uxe]}}});var wH=w(jT=>{"use strict";Object.defineProperty(jT,"__esModule",{value:!0});var Hxe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};jT.default=Hxe});var RH=w(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.callRef=Fc.getValidate=void 0;var Bxe=kp(),xH=wn(),Xi=Ie(),Pu=$o(),SH=Lv(),Hv=mt(),Vxe={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:i}=t,{baseId:n,schemaEnv:s,validateName:o,opts:a,self:c}=i,{root:l}=s;if((r==="#"||r==="#/")&&n===l.baseId)return f();let u=SH.resolveRef.call(c,l,n,r);if(u===void 0)throw new Bxe.default(i.opts.uriResolver,n,r);if(u instanceof SH.SchemaEnv)return p(u);return d(u);function f(){if(s===l)return Bv(t,o,s,s.$async);let h=e.scopeValue("root",{ref:l});return Bv(t,(0,Xi._)`${h}.validate`,l,l.$async)}function p(h){let m=EH(t,h);Bv(t,m,h,h.$async)}function d(h){let m=e.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,Xi.stringify)(h)}:{ref:h}),v=e.name("valid"),y=t.subschema({schema:h,dataTypes:[],schemaPath:Xi.nil,topSchemaRef:m,errSchemaPath:r},v);t.mergeEvaluated(y),t.ok(v)}}};function EH(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Xi._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Fc.getValidate=EH;function Bv(t,e,r,i){let{gen:n,it:s}=t,{allErrors:o,schemaEnv:a,opts:c}=s,l=c.passContext?Pu.default.this:Xi.nil;i?u():f();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=n.let("valid");n.try(()=>{n.code((0,Xi._)`await ${(0,xH.callValidateCode)(t,e,l)}`),d(e),o||n.assign(h,!0)},m=>{n.if((0,Xi._)`!(${m} instanceof ${s.ValidationError})`,()=>n.throw(m)),p(m),o||n.assign(h,!1)}),t.ok(h)}function f(){t.result((0,xH.callValidateCode)(t,e,l),()=>d(e),()=>p(e))}function p(h){let m=(0,Xi._)`${h}.errors`;n.assign(Pu.default.vErrors,(0,Xi._)`${Pu.default.vErrors} === null ? ${m} : ${Pu.default.vErrors}.concat(${m})`),n.assign(Pu.default.errors,(0,Xi._)`${Pu.default.vErrors}.length`)}function d(h){var m;if(!s.opts.unevaluated)return;let v=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Hv.mergeEvaluated.props(n,v.props,s.props));else{let y=n.var("props",(0,Xi._)`${h}.evaluated.props`);s.props=Hv.mergeEvaluated.props(n,y,s.props,Xi.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Hv.mergeEvaluated.items(n,v.items,s.items));else{let y=n.var("items",(0,Xi._)`${h}.evaluated.items`);s.items=Hv.mergeEvaluated.items(n,y,s.items,Xi.Name)}}}Fc.callRef=Bv;Fc.default=Vxe});var TH=w(qT=>{"use strict";Object.defineProperty(qT,"__esModule",{value:!0});var Wxe=wH(),Gxe=RH(),Kxe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Wxe.default,Gxe.default];qT.default=Kxe});var $H=w(MT=>{"use strict";Object.defineProperty(MT,"__esModule",{value:!0});var Vv=Ie(),ka=Vv.operators,Wv={maximum:{okStr:"<=",ok:ka.LTE,fail:ka.GT},minimum:{okStr:">=",ok:ka.GTE,fail:ka.LT},exclusiveMaximum:{okStr:"<",ok:ka.LT,fail:ka.GTE},exclusiveMinimum:{okStr:">",ok:ka.GT,fail:ka.LTE}},Jxe={message:({keyword:t,schemaCode:e})=>(0,Vv.str)`must be ${Wv[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Vv._)`{comparison: ${Wv[t].okStr}, limit: ${e}}`},Yxe={keyword:Object.keys(Wv),type:"number",schemaType:"number",$data:!0,error:Jxe,code(t){let{keyword:e,data:r,schemaCode:i}=t;t.fail$data((0,Vv._)`${r} ${Wv[e].fail} ${i} || isNaN(${r})`)}};MT.default=Yxe});var PH=w(DT=>{"use strict";Object.defineProperty(DT,"__esModule",{value:!0});var Ip=Ie(),Xxe={message:({schemaCode:t})=>(0,Ip.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Ip._)`{multipleOf: ${t}}`},Zxe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Xxe,code(t){let{gen:e,data:r,schemaCode:i,it:n}=t,s=n.opts.multipleOfPrecision,o=e.let("res"),a=s?(0,Ip._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Ip._)`${o} !== parseInt(${o})`;t.fail$data((0,Ip._)`(${i} === 0 || (${o} = ${r}/${i}, ${a}))`)}};DT.default=Zxe});var kH=w(LT=>{"use strict";Object.defineProperty(LT,"__esModule",{value:!0});function OH(t){let e=t.length,r=0,i=0,n;for(;i<e;)r++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return r}LT.default=OH;OH.code='require("ajv/dist/runtime/ucs2length").default'});var AH=w(FT=>{"use strict";Object.defineProperty(FT,"__esModule",{value:!0});var zc=Ie(),Qxe=mt(),eSe=kH(),tSe={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,zc.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,zc._)`{limit: ${t}}`},rSe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:tSe,code(t){let{keyword:e,data:r,schemaCode:i,it:n}=t,s=e==="maxLength"?zc.operators.GT:zc.operators.LT,o=n.opts.unicode===!1?(0,zc._)`${r}.length`:(0,zc._)`${(0,Qxe.useFunc)(t.gen,eSe.default)}(${r})`;t.fail$data((0,zc._)`${o} ${s} ${i}`)}};FT.default=rSe});var CH=w(zT=>{"use strict";Object.defineProperty(zT,"__esModule",{value:!0});var iSe=wn(),Gv=Ie(),nSe={message:({schemaCode:t})=>(0,Gv.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Gv._)`{pattern: ${t}}`},sSe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:nSe,code(t){let{data:e,$data:r,schema:i,schemaCode:n,it:s}=t,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Gv._)`(new RegExp(${n}, ${o}))`:(0,iSe.usePattern)(t,i);t.fail$data((0,Gv._)`!${a}.test(${e})`)}};zT.default=sSe});var NH=w(UT=>{"use strict";Object.defineProperty(UT,"__esModule",{value:!0});var jp=Ie(),oSe={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,jp.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,jp._)`{limit: ${t}}`},aSe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:oSe,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxProperties"?jp.operators.GT:jp.operators.LT;t.fail$data((0,jp._)`Object.keys(${r}).length ${n} ${i}`)}};UT.default=aSe});var IH=w(HT=>{"use strict";Object.defineProperty(HT,"__esModule",{value:!0});var qp=wn(),Mp=Ie(),cSe=mt(),lSe={message:({params:{missingProperty:t}})=>(0,Mp.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Mp._)`{missingProperty: ${t}}`},uSe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:lSe,code(t){let{gen:e,schema:r,schemaCode:i,data:n,$data:s,it:o}=t,{opts:a}=o;if(!s&&r.length===0)return;let c=r.length>=a.loopRequired;if(o.allErrors?l():u(),a.strictRequired){let d=t.parentSchema.properties,{definedProperties:h}=t.it;for(let m of r)if(d?.[m]===void 0&&!h.has(m)){let v=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${m}" is not defined at "${v}" (strictRequired)`;(0,cSe.checkStrictMode)(o,y,o.opts.strictRequired)}}function l(){if(c||s)t.block$data(Mp.nil,f);else for(let d of r)(0,qp.checkReportMissingProp)(t,d)}function u(){let d=e.let("missing");if(c||s){let h=e.let("valid",!0);t.block$data(h,()=>p(d,h)),t.ok(h)}else e.if((0,qp.checkMissingProp)(t,r,d)),(0,qp.reportMissingProp)(t,d),e.else()}function f(){e.forOf("prop",i,d=>{t.setParams({missingProperty:d}),e.if((0,qp.noPropertyInData)(e,n,d,a.ownProperties),()=>t.error())})}function p(d,h){t.setParams({missingProperty:d}),e.forOf(d,i,()=>{e.assign(h,(0,qp.propertyInData)(e,n,d,a.ownProperties)),e.if((0,Mp.not)(h),()=>{t.error(),e.break()})},Mp.nil)}}};HT.default=uSe});var jH=w(BT=>{"use strict";Object.defineProperty(BT,"__esModule",{value:!0});var Dp=Ie(),fSe={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Dp.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Dp._)`{limit: ${t}}`},dSe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:fSe,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxItems"?Dp.operators.GT:Dp.operators.LT;t.fail$data((0,Dp._)`${r}.length ${n} ${i}`)}};BT.default=dSe});var Lp=w(VT=>{"use strict";Object.defineProperty(VT,"__esModule",{value:!0});var qH=bn();qH.code='require("ajv/dist/runtime/equal").default';VT.default=qH});var MH=w(GT=>{"use strict";Object.defineProperty(GT,"__esModule",{value:!0});var WT=Rp(),Jr=Ie(),pSe=mt(),hSe=Lp(),mSe={message:({params:{i:t,j:e}})=>(0,Jr.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Jr._)`{i: ${t}, j: ${e}}`},gSe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:mSe,code(t){let{gen:e,data:r,$data:i,schema:n,parentSchema:s,schemaCode:o,it:a}=t;if(!i&&!n)return;let c=e.let("valid"),l=s.items?(0,WT.getSchemaTypes)(s.items):[];t.block$data(c,u,(0,Jr._)`${o} === false`),t.ok(c);function u(){let h=e.let("i",(0,Jr._)`${r}.length`),m=e.let("j");t.setParams({i:h,j:m}),e.assign(c,!0),e.if((0,Jr._)`${h} > 1`,()=>(f()?p:d)(h,m))}function f(){return l.length>0&&!l.some(h=>h==="object"||h==="array")}function p(h,m){let v=e.name("item"),y=(0,WT.checkDataTypes)(l,v,a.opts.strictNumbers,WT.DataType.Wrong),E=e.const("indices",(0,Jr._)`{}`);e.for((0,Jr._)`;${h}--;`,()=>{e.let(v,(0,Jr._)`${r}[${h}]`),e.if(y,(0,Jr._)`continue`),l.length>1&&e.if((0,Jr._)`typeof ${v} == "string"`,(0,Jr._)`${v} += "_"`),e.if((0,Jr._)`typeof ${E}[${v}] == "number"`,()=>{e.assign(m,(0,Jr._)`${E}[${v}]`),t.error(),e.assign(c,!1).break()}).code((0,Jr._)`${E}[${v}] = ${h}`)})}function d(h,m){let v=(0,pSe.useFunc)(e,hSe.default),y=e.name("outer");e.label(y).for((0,Jr._)`;${h}--;`,()=>e.for((0,Jr._)`${m} = ${h}; ${m}--;`,()=>e.if((0,Jr._)`${v}(${r}[${h}], ${r}[${m}])`,()=>{t.error(),e.assign(c,!1).break(y)})))}}};GT.default=gSe});var DH=w(JT=>{"use strict";Object.defineProperty(JT,"__esModule",{value:!0});var KT=Ie(),ySe=mt(),vSe=Lp(),bSe={message:"must be equal to constant",params:({schemaCode:t})=>(0,KT._)`{allowedValue: ${t}}`},_Se={keyword:"const",$data:!0,error:bSe,code(t){let{gen:e,data:r,$data:i,schemaCode:n,schema:s}=t;i||s&&typeof s=="object"?t.fail$data((0,KT._)`!${(0,ySe.useFunc)(e,vSe.default)}(${r}, ${n})`):t.fail((0,KT._)`${s} !== ${r}`)}};JT.default=_Se});var LH=w(YT=>{"use strict";Object.defineProperty(YT,"__esModule",{value:!0});var Fp=Ie(),wSe=mt(),xSe=Lp(),SSe={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Fp._)`{allowedValues: ${t}}`},ESe={keyword:"enum",schemaType:"array",$data:!0,error:SSe,code(t){let{gen:e,data:r,$data:i,schema:n,schemaCode:s,it:o}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let a=n.length>=o.opts.loopEnum,c,l=()=>c??(c=(0,wSe.useFunc)(e,xSe.default)),u;if(a||i)u=e.let("valid"),t.block$data(u,f);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let d=e.const("vSchema",s);u=(0,Fp.or)(...n.map((h,m)=>p(d,m)))}t.pass(u);function f(){e.assign(u,!1),e.forOf("v",s,d=>e.if((0,Fp._)`${l()}(${r}, ${d})`,()=>e.assign(u,!0).break()))}function p(d,h){let m=n[h];return typeof m=="object"&&m!==null?(0,Fp._)`${l()}(${r}, ${d}[${h}])`:(0,Fp._)`${r} === ${m}`}}};YT.default=ESe});var FH=w(XT=>{"use strict";Object.defineProperty(XT,"__esModule",{value:!0});var RSe=$H(),TSe=PH(),$Se=AH(),PSe=CH(),OSe=NH(),kSe=IH(),ASe=jH(),CSe=MH(),NSe=DH(),ISe=LH(),jSe=[RSe.default,TSe.default,$Se.default,PSe.default,OSe.default,kSe.default,ASe.default,CSe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},NSe.default,ISe.default];XT.default=jSe});var QT=w(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.validateAdditionalItems=void 0;var Uc=Ie(),ZT=mt(),qSe={message:({params:{len:t}})=>(0,Uc.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Uc._)`{limit: ${t}}`},MSe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:qSe,code(t){let{parentSchema:e,it:r}=t,{items:i}=e;if(!Array.isArray(i)){(0,ZT.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}zH(t,i)}};function zH(t,e){let{gen:r,schema:i,data:n,keyword:s,it:o}=t;o.items=!0;let a=r.const("len",(0,Uc._)`${n}.length`);if(i===!1)t.setParams({len:e.length}),t.pass((0,Uc._)`${a} <= ${e.length}`);else if(typeof i=="object"&&!(0,ZT.alwaysValidSchema)(o,i)){let l=r.var("valid",(0,Uc._)`${a} <= ${e.length}`);r.if((0,Uc.not)(l),()=>c(l)),t.ok(l)}function c(l){r.forRange("i",e.length,a,u=>{t.subschema({keyword:s,dataProp:u,dataPropType:ZT.Type.Num},l),o.allErrors||r.if((0,Uc.not)(l),()=>r.break())})}}zp.validateAdditionalItems=zH;zp.default=MSe});var e1=w(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.validateTuple=void 0;var UH=Ie(),Kv=mt(),DSe=wn(),LSe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return HH(t,"additionalItems",e);r.items=!0,!(0,Kv.alwaysValidSchema)(r,e)&&t.ok((0,DSe.validateArray)(t))}};function HH(t,e,r=t.schema){let{gen:i,parentSchema:n,data:s,keyword:o,it:a}=t;u(n),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Kv.mergeEvaluated.items(i,r.length,a.items));let c=i.name("valid"),l=i.const("len",(0,UH._)`${s}.length`);r.forEach((f,p)=>{(0,Kv.alwaysValidSchema)(a,f)||(i.if((0,UH._)`${l} > ${p}`,()=>t.subschema({keyword:o,schemaProp:p,dataProp:p},c)),t.ok(c))});function u(f){let{opts:p,errSchemaPath:d}=a,h=r.length,m=h===f.minItems&&(h===f.maxItems||f[e]===!1);if(p.strictTuples&&!m){let v=`"${o}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${d}"`;(0,Kv.checkStrictMode)(a,v,p.strictTuples)}}}Up.validateTuple=HH;Up.default=LSe});var BH=w(t1=>{"use strict";Object.defineProperty(t1,"__esModule",{value:!0});var FSe=e1(),zSe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,FSe.validateTuple)(t,"items")};t1.default=zSe});var WH=w(r1=>{"use strict";Object.defineProperty(r1,"__esModule",{value:!0});var VH=Ie(),USe=mt(),HSe=wn(),BSe=QT(),VSe={message:({params:{len:t}})=>(0,VH.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,VH._)`{limit: ${t}}`},WSe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:VSe,code(t){let{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,!(0,USe.alwaysValidSchema)(i,e)&&(n?(0,BSe.validateAdditionalItems)(t,n):t.ok((0,HSe.validateArray)(t)))}};r1.default=WSe});var GH=w(i1=>{"use strict";Object.defineProperty(i1,"__esModule",{value:!0});var Sn=Ie(),Jv=mt(),GSe={message:({params:{min:t,max:e}})=>e===void 0?(0,Sn.str)`must contain at least ${t} valid item(s)`:(0,Sn.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Sn._)`{minContains: ${t}}`:(0,Sn._)`{minContains: ${t}, maxContains: ${e}}`},KSe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:GSe,code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:s}=t,o,a,{minContains:c,maxContains:l}=i;s.opts.next?(o=c===void 0?1:c,a=l):o=1;let u=e.const("len",(0,Sn._)`${n}.length`);if(t.setParams({min:o,max:a}),a===void 0&&o===0){(0,Jv.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Jv.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Jv.alwaysValidSchema)(s,r)){let m=(0,Sn._)`${u} >= ${o}`;a!==void 0&&(m=(0,Sn._)`${m} && ${u} <= ${a}`),t.pass(m);return}s.items=!0;let f=e.name("valid");a===void 0&&o===1?d(f,()=>e.if(f,()=>e.break())):o===0?(e.let(f,!0),a!==void 0&&e.if((0,Sn._)`${n}.length > 0`,p)):(e.let(f,!1),p()),t.result(f,()=>t.reset());function p(){let m=e.name("_valid"),v=e.let("count",0);d(m,()=>e.if(m,()=>h(v)))}function d(m,v){e.forRange("i",0,u,y=>{t.subschema({keyword:"contains",dataProp:y,dataPropType:Jv.Type.Num,compositeRule:!0},m),v()})}function h(m){e.code((0,Sn._)`${m}++`),a===void 0?e.if((0,Sn._)`${m} >= ${o}`,()=>e.assign(f,!0).break()):(e.if((0,Sn._)`${m} > ${a}`,()=>e.assign(f,!1).break()),o===1?e.assign(f,!0):e.if((0,Sn._)`${m} >= ${o}`,()=>e.assign(f,!0)))}}};i1.default=KSe});var YH=w(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.validateSchemaDeps=Is.validatePropertyDeps=Is.error=void 0;var n1=Ie(),JSe=mt(),Hp=wn();Is.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let i=e===1?"property":"properties";return(0,n1.str)`must have ${i} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:i}})=>(0,n1._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${r}}`};var YSe={keyword:"dependencies",type:"object",schemaType:"object",error:Is.error,code(t){let[e,r]=XSe(t);KH(t,e),JH(t,r)}};function XSe({schema:t}){let e={},r={};for(let i in t){if(i==="__proto__")continue;let n=Array.isArray(t[i])?e:r;n[i]=t[i]}return[e,r]}function KH(t,e=t.schema){let{gen:r,data:i,it:n}=t;if(Object.keys(e).length===0)return;let s=r.let("missing");for(let o in e){let a=e[o];if(a.length===0)continue;let c=(0,Hp.propertyInData)(r,i,o,n.opts.ownProperties);t.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),n.allErrors?r.if(c,()=>{for(let l of a)(0,Hp.checkReportMissingProp)(t,l)}):(r.if((0,n1._)`${c} && (${(0,Hp.checkMissingProp)(t,a,s)})`),(0,Hp.reportMissingProp)(t,s),r.else())}}Is.validatePropertyDeps=KH;function JH(t,e=t.schema){let{gen:r,data:i,keyword:n,it:s}=t,o=r.name("valid");for(let a in e)(0,JSe.alwaysValidSchema)(s,e[a])||(r.if((0,Hp.propertyInData)(r,i,a,s.opts.ownProperties),()=>{let c=t.subschema({keyword:n,schemaProp:a},o);t.mergeValidEvaluated(c,o)},()=>r.var(o,!0)),t.ok(o))}Is.validateSchemaDeps=JH;Is.default=YSe});var ZH=w(s1=>{"use strict";Object.defineProperty(s1,"__esModule",{value:!0});var XH=Ie(),ZSe=mt(),QSe={message:"property name must be valid",params:({params:t})=>(0,XH._)`{propertyName: ${t.propertyName}}`},eEe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:QSe,code(t){let{gen:e,schema:r,data:i,it:n}=t;if((0,ZSe.alwaysValidSchema)(n,r))return;let s=e.name("valid");e.forIn("key",i,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),e.if((0,XH.not)(s),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(s)}};s1.default=eEe});var a1=w(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});var Yv=wn(),ns=Ie(),tEe=$o(),Xv=mt(),rEe={message:"must NOT have additional properties",params:({params:t})=>(0,ns._)`{additionalProperty: ${t.additionalProperty}}`},iEe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:rEe,code(t){let{gen:e,schema:r,parentSchema:i,data:n,errsCount:s,it:o}=t;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Xv.alwaysValidSchema)(o,r))return;let l=(0,Yv.allSchemaProperties)(i.properties),u=(0,Yv.allSchemaProperties)(i.patternProperties);f(),t.ok((0,ns._)`${s} === ${tEe.default.errors}`);function f(){e.forIn("key",n,v=>{!l.length&&!u.length?h(v):e.if(p(v),()=>h(v))})}function p(v){let y;if(l.length>8){let E=(0,Xv.schemaRefOrVal)(o,i.properties,"properties");y=(0,Yv.isOwnProperty)(e,E,v)}else l.length?y=(0,ns.or)(...l.map(E=>(0,ns._)`${v} === ${E}`)):y=ns.nil;return u.length&&(y=(0,ns.or)(y,...u.map(E=>(0,ns._)`${(0,Yv.usePattern)(t,E)}.test(${v})`))),(0,ns.not)(y)}function d(v){e.code((0,ns._)`delete ${n}[${v}]`)}function h(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){d(v);return}if(r===!1){t.setParams({additionalProperty:v}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,Xv.alwaysValidSchema)(o,r)){let y=e.name("valid");c.removeAdditional==="failing"?(m(v,y,!1),e.if((0,ns.not)(y),()=>{t.reset(),d(v)})):(m(v,y),a||e.if((0,ns.not)(y),()=>e.break()))}}function m(v,y,E){let _={keyword:"additionalProperties",dataProp:v,dataPropType:Xv.Type.Str};E===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(_,y)}}};o1.default=iEe});var tB=w(l1=>{"use strict";Object.defineProperty(l1,"__esModule",{value:!0});var nEe=Op(),QH=wn(),c1=mt(),eB=a1(),sEe={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:s}=t;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&eB.default.code(new nEe.KeywordCxt(s,eB.default,"additionalProperties"));let o=(0,QH.allSchemaProperties)(r);for(let f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=c1.mergeEvaluated.props(e,(0,c1.toHash)(o),s.props));let a=o.filter(f=>!(0,c1.alwaysValidSchema)(s,r[f]));if(a.length===0)return;let c=e.name("valid");for(let f of a)l(f)?u(f):(e.if((0,QH.propertyInData)(e,n,f,s.opts.ownProperties)),u(f),s.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(c);function l(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};l1.default=sEe});var sB=w(u1=>{"use strict";Object.defineProperty(u1,"__esModule",{value:!0});var rB=wn(),Zv=Ie(),iB=mt(),nB=mt(),oEe={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:i,parentSchema:n,it:s}=t,{opts:o}=s,a=(0,rB.allSchemaProperties)(r),c=a.filter(m=>(0,iB.alwaysValidSchema)(s,r[m]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&n.properties,u=e.name("valid");s.props!==!0&&!(s.props instanceof Zv.Name)&&(s.props=(0,nB.evaluatedPropsToName)(e,s.props));let{props:f}=s;p();function p(){for(let m of a)l&&d(m),s.allErrors?h(m):(e.var(u,!0),h(m),e.if(u))}function d(m){for(let v in l)new RegExp(m).test(v)&&(0,iB.checkStrictMode)(s,`property ${v} matches pattern ${m} (use allowMatchingProperties)`)}function h(m){e.forIn("key",i,v=>{e.if((0,Zv._)`${(0,rB.usePattern)(t,m)}.test(${v})`,()=>{let y=c.includes(m);y||t.subschema({keyword:"patternProperties",schemaProp:m,dataProp:v,dataPropType:nB.Type.Str},u),s.opts.unevaluated&&f!==!0?e.assign((0,Zv._)`${f}[${v}]`,!0):!y&&!s.allErrors&&e.if((0,Zv.not)(u),()=>e.break())})})}}};u1.default=oEe});var oB=w(f1=>{"use strict";Object.defineProperty(f1,"__esModule",{value:!0});var aEe=mt(),cEe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:i}=t;if((0,aEe.alwaysValidSchema)(i,r)){t.fail();return}let n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};f1.default=cEe});var aB=w(d1=>{"use strict";Object.defineProperty(d1,"__esModule",{value:!0});var lEe=wn(),uEe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:lEe.validateUnion,error:{message:"must match a schema in anyOf"}};d1.default=uEe});var cB=w(p1=>{"use strict";Object.defineProperty(p1,"__esModule",{value:!0});var Qv=Ie(),fEe=mt(),dEe={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Qv._)`{passingSchemas: ${t.passing}}`},pEe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:dEe,code(t){let{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let s=r,o=e.let("valid",!1),a=e.let("passing",null),c=e.name("_valid");t.setParams({passing:a}),e.block(l),t.result(o,()=>t.reset(),()=>t.error(!0));function l(){s.forEach((u,f)=>{let p;(0,fEe.alwaysValidSchema)(n,u)?e.var(c,!0):p=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&e.if((0,Qv._)`${c} && ${o}`).assign(o,!1).assign(a,(0,Qv._)`[${a}, ${f}]`).else(),e.if(c,()=>{e.assign(o,!0),e.assign(a,f),p&&t.mergeEvaluated(p,Qv.Name)})})}}};p1.default=pEe});var lB=w(h1=>{"use strict";Object.defineProperty(h1,"__esModule",{value:!0});var hEe=mt(),mEe={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=e.name("valid");r.forEach((s,o)=>{if((0,hEe.alwaysValidSchema)(i,s))return;let a=t.subschema({keyword:"allOf",schemaProp:o},n);t.ok(n),t.mergeEvaluated(a)})}};h1.default=mEe});var dB=w(m1=>{"use strict";Object.defineProperty(m1,"__esModule",{value:!0});var e0=Ie(),fB=mt(),gEe={message:({params:t})=>(0,e0.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,e0._)`{failingKeyword: ${t.ifClause}}`},yEe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:gEe,code(t){let{gen:e,parentSchema:r,it:i}=t;r.then===void 0&&r.else===void 0&&(0,fB.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=uB(i,"then"),s=uB(i,"else");if(!n&&!s)return;let o=e.let("valid",!0),a=e.name("_valid");if(c(),t.reset(),n&&s){let u=e.let("ifClause");t.setParams({ifClause:u}),e.if(a,l("then",u),l("else",u))}else n?e.if(a,l("then")):e.if((0,e0.not)(a),l("else"));t.pass(o,()=>t.error(!0));function c(){let u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(u)}function l(u,f){return()=>{let p=t.subschema({keyword:u},a);e.assign(o,a),t.mergeValidEvaluated(p,o),f?e.assign(f,(0,e0._)`${u}`):t.setParams({ifClause:u})}}}};function uB(t,e){let r=t.schema[e];return r!==void 0&&!(0,fB.alwaysValidSchema)(t,r)}m1.default=yEe});var pB=w(g1=>{"use strict";Object.defineProperty(g1,"__esModule",{value:!0});var vEe=mt(),bEe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,vEe.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};g1.default=bEe});var hB=w(y1=>{"use strict";Object.defineProperty(y1,"__esModule",{value:!0});var _Ee=QT(),wEe=BH(),xEe=e1(),SEe=WH(),EEe=GH(),REe=YH(),TEe=ZH(),$Ee=a1(),PEe=tB(),OEe=sB(),kEe=oB(),AEe=aB(),CEe=cB(),NEe=lB(),IEe=dB(),jEe=pB();function qEe(t=!1){let e=[kEe.default,AEe.default,CEe.default,NEe.default,IEe.default,jEe.default,TEe.default,$Ee.default,REe.default,PEe.default,OEe.default];return t?e.push(wEe.default,SEe.default):e.push(_Ee.default,xEe.default),e.push(EEe.default),e}y1.default=qEe});var mB=w(v1=>{"use strict";Object.defineProperty(v1,"__esModule",{value:!0});var Rr=Ie(),MEe={message:({schemaCode:t})=>(0,Rr.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Rr._)`{format: ${t}}`},DEe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:MEe,code(t,e){let{gen:r,data:i,$data:n,schema:s,schemaCode:o,it:a}=t,{opts:c,errSchemaPath:l,schemaEnv:u,self:f}=a;if(!c.validateFormats)return;n?p():d();function p(){let h=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),m=r.const("fDef",(0,Rr._)`${h}[${o}]`),v=r.let("fType"),y=r.let("format");r.if((0,Rr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(v,(0,Rr._)`${m}.type || "string"`).assign(y,(0,Rr._)`${m}.validate`),()=>r.assign(v,(0,Rr._)`"string"`).assign(y,m)),t.fail$data((0,Rr.or)(E(),_()));function E(){return c.strictSchema===!1?Rr.nil:(0,Rr._)`${o} && !${y}`}function _(){let b=u.$async?(0,Rr._)`(${m}.async ? await ${y}(${i}) : ${y}(${i}))`:(0,Rr._)`${y}(${i})`,$=(0,Rr._)`(typeof ${y} == "function" ? ${b} : ${y}.test(${i}))`;return(0,Rr._)`${y} && ${y} !== true && ${v} === ${e} && !${$}`}}function d(){let h=f.formats[s];if(!h){E();return}if(h===!0)return;let[m,v,y]=_(h);m===e&&t.pass(b());function E(){if(c.strictSchema===!1){f.logger.warn($());return}throw new Error($());function $(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _($){let k=$ instanceof RegExp?(0,Rr.regexpCode)($):c.code.formats?(0,Rr._)`${c.code.formats}${(0,Rr.getProperty)(s)}`:void 0,O=r.scopeValue("formats",{key:s,ref:$,code:k});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,Rr._)`${O}.validate`]:["string",$,O]}function b(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Rr._)`await ${y}(${i})`}return typeof v=="function"?(0,Rr._)`${y}(${i})`:(0,Rr._)`${y}.test(${i})`}}}};v1.default=DEe});var gB=w(b1=>{"use strict";Object.defineProperty(b1,"__esModule",{value:!0});var LEe=mB(),FEe=[LEe.default];b1.default=FEe});var yB=w(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.contentVocabulary=Ou.metadataVocabulary=void 0;Ou.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ou.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var bB=w(_1=>{"use strict";Object.defineProperty(_1,"__esModule",{value:!0});var zEe=TH(),UEe=FH(),HEe=hB(),BEe=gB(),vB=yB(),VEe=[zEe.default,UEe.default,(0,HEe.default)(),BEe.default,vB.metadataVocabulary,vB.contentVocabulary];_1.default=VEe});var wB=w(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});t0.DiscrError=void 0;var _B;(function(t){t.Tag="tag",t.Mapping="mapping"})(_B||(t0.DiscrError=_B={}))});var SB=w(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});var ku=Ie(),w1=wB(),xB=Lv(),WEe=kp(),GEe=mt(),KEe={message:({params:{discrError:t,tagName:e}})=>t===w1.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,ku._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},JEe={keyword:"discriminator",type:"object",schemaType:"object",error:KEe,code(t){let{gen:e,data:r,schema:i,parentSchema:n,it:s}=t,{oneOf:o}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=i.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),l=e.const("tag",(0,ku._)`${r}${(0,ku.getProperty)(a)}`);e.if((0,ku._)`typeof ${l} == "string"`,()=>u(),()=>t.error(!1,{discrError:w1.DiscrError.Tag,tag:l,tagName:a})),t.ok(c);function u(){let d=p();e.if(!1);for(let h in d)e.elseIf((0,ku._)`${l} === ${h}`),e.assign(c,f(d[h]));e.else(),t.error(!1,{discrError:w1.DiscrError.Mapping,tag:l,tagName:a}),e.endIf()}function f(d){let h=e.name("valid"),m=t.subschema({keyword:"oneOf",schemaProp:d},h);return t.mergeEvaluated(m,ku.Name),h}function p(){var d;let h={},m=y(n),v=!0;for(let b=0;b<o.length;b++){let $=o[b];if($?.$ref&&!(0,GEe.schemaHasRulesButRef)($,s.self.RULES)){let O=$.$ref;if($=xB.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,O),$ instanceof xB.SchemaEnv&&($=$.schema),$===void 0)throw new WEe.default(s.opts.uriResolver,s.baseId,O)}let k=(d=$?.properties)===null||d===void 0?void 0:d[a];if(typeof k!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(m||y($)),E(k,b)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return h;function y({required:b}){return Array.isArray(b)&&b.includes(a)}function E(b,$){if(b.const)_(b.const,$);else if(b.enum)for(let k of b.enum)_(k,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(b,$){if(typeof b!="string"||b in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[b]=$}}}};x1.default=JEe});var EB=w((Bit,YEe)=>{YEe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var E1=w((er,S1)=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.MissingRefError=er.ValidationError=er.CodeGen=er.Name=er.nil=er.stringify=er.str=er._=er.KeywordCxt=er.Ajv=void 0;var XEe=_H(),ZEe=bB(),QEe=SB(),RB=EB(),eRe=["/properties"],r0="http://json-schema.org/draft-07/schema",Au=class extends XEe.default{_addVocabularies(){super._addVocabularies(),ZEe.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(QEe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(RB,eRe):RB;this.addMetaSchema(e,r0,!1),this.refs["http://json-schema.org/schema"]=r0}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(r0)?r0:void 0)}};er.Ajv=Au;S1.exports=er=Au;S1.exports.Ajv=Au;Object.defineProperty(er,"__esModule",{value:!0});er.default=Au;var tRe=Op();Object.defineProperty(er,"KeywordCxt",{enumerable:!0,get:function(){return tRe.KeywordCxt}});var Cu=Ie();Object.defineProperty(er,"_",{enumerable:!0,get:function(){return Cu._}});Object.defineProperty(er,"str",{enumerable:!0,get:function(){return Cu.str}});Object.defineProperty(er,"stringify",{enumerable:!0,get:function(){return Cu.stringify}});Object.defineProperty(er,"nil",{enumerable:!0,get:function(){return Cu.nil}});Object.defineProperty(er,"Name",{enumerable:!0,get:function(){return Cu.Name}});Object.defineProperty(er,"CodeGen",{enumerable:!0,get:function(){return Cu.CodeGen}});var rRe=Mv();Object.defineProperty(er,"ValidationError",{enumerable:!0,get:function(){return rRe.default}});var iRe=kp();Object.defineProperty(er,"MissingRefError",{enumerable:!0,get:function(){return iRe.default}})});var $B=w((Vit,TB)=>{"use strict";var nRe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};TB.exports={HEX:nRe}});var jB=w((Wit,IB)=>{"use strict";var{HEX:sRe}=$B();function AB(t){if(NB(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(/^(\b[01]?\d{1,2}|\b2[0-4]\d|\b25[0-5])(\.([01]?\d{1,2}|2[0-4]\d|25[0-5])){3}$/u)||[],[r]=e;return r?{host:aRe(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function R1(t){let e="",r=!0;for(let i of t){if(i!=="0"&&r===!0&&(r=!1),sRe[i]===void 0)return;r||(e+=i)}return e}function oRe(t){let e=0,r={error:!1,address:"",zone:""},i=[],n=[],s=!1,o=!1,a=!1;function c(){if(n.length){if(s===!1){let l=R1(n.join(""));if(l!==void 0)i.push(l);else return r.error=!0,!1}n.length=0}return!0}for(let l=0;l<t.length;l++){let u=t[l];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(a=!0),!c())break;if(e++,i.push(":"),e>7){r.error=!0;break}l-1>=0&&t[l-1]===":"&&(o=!0);continue}else if(u==="%"){if(!c())break;s=!0}else{n.push(u);continue}}return n.length&&(s?r.zone=n.join(""):a?i.push(n.join("")):i.push(R1(n.join("")))),r.address=i.join(""),r}function CB(t,e={}){if(NB(t,":")<2)return{host:t,isIPV6:!1};let r=oRe(t);if(r.error)return{host:t,isIPV6:!1};{let i=r.address,n=r.address;return r.zone&&(i+="%"+r.zone,n+="%25"+r.zone),{host:i,escapedHost:n,isIPV6:!0}}}function aRe(t,e){let r="",i=!0,n=t.length;for(let s=0;s<n;s++){let o=t[s];o==="0"&&i?(s+1<=n&&t[s+1]===e||s+1===n)&&(r+=o,i=!1):(o===e?i=!0:i=!1,r+=o)}return r}function NB(t,e){let r=0;for(let i=0;i<t.length;i++)t[i]===e&&r++;return r}var PB=/^\.\.?\//u,OB=/^\/\.(?:\/|$)/u,kB=/^\/\.\.(?:\/|$)/u,cRe=/^\/?(?:.|\n)*?(?=\/|$)/u;function lRe(t){let e=[];for(;t.length;)if(t.match(PB))t=t.replace(PB,"");else if(t.match(OB))t=t.replace(OB,"/");else if(t.match(kB))t=t.replace(kB,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(cRe);if(r){let i=r[0];t=t.slice(i.length),e.push(i)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function uRe(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function fRe(t,e){let r=[];if(t.userinfo!==void 0&&(r.push(t.userinfo),r.push("@")),t.host!==void 0){let i=unescape(t.host),n=AB(i);if(n.isIPV4)i=n.host;else{let s=CB(n.host,{isIPV4:!1});s.isIPV6===!0?i=`[${s.escapedHost}]`:i=t.host}r.push(i)}return(typeof t.port=="number"||typeof t.port=="string")&&(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}IB.exports={recomposeAuthority:fRe,normalizeComponentEncoding:uRe,removeDotSegments:lRe,normalizeIPv4:AB,normalizeIPv6:CB,stringToHexStripped:R1}});var zB=w((Git,FB)=>{"use strict";var dRe=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,pRe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function qB(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function MB(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function DB(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function hRe(t){return t.secure=qB(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function mRe(t){if((t.port===(qB(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function gRe(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(pRe);if(r){let i=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let n=`${i}:${e.nid||t.nid}`,s=T1[n];t.path=void 0,s&&(t=s.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function yRe(t,e){let r=e.scheme||t.scheme||"urn",i=t.nid.toLowerCase(),n=`${r}:${e.nid||i}`,s=T1[n];s&&(t=s.serialize(t,e));let o=t,a=t.nss;return o.path=`${i||e.nid}:${a}`,e.skipEscape=!0,o}function vRe(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!dRe.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function bRe(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var LB={scheme:"http",domainHost:!0,parse:MB,serialize:DB},_Re={scheme:"https",domainHost:LB.domainHost,parse:MB,serialize:DB},i0={scheme:"ws",domainHost:!0,parse:hRe,serialize:mRe},wRe={scheme:"wss",domainHost:i0.domainHost,parse:i0.parse,serialize:i0.serialize},xRe={scheme:"urn",parse:gRe,serialize:yRe,skipNormalize:!0},SRe={scheme:"urn:uuid",parse:vRe,serialize:bRe,skipNormalize:!0},T1={http:LB,https:_Re,ws:i0,wss:wRe,urn:xRe,"urn:uuid":SRe};FB.exports=T1});var P1=w((Kit,s0)=>{"use strict";var{normalizeIPv6:ERe,normalizeIPv4:RRe,removeDotSegments:Bp,recomposeAuthority:TRe,normalizeComponentEncoding:n0}=jB(),UB=zB();function $Re(t,e){return typeof t=="string"?t=js(Oo(t,e),e):typeof t=="object"&&(t=Oo(js(t,e),e)),t}function PRe(t,e,r){let i=Object.assign({scheme:"null"},r),n=HB(Oo(t,i),Oo(e,i),i,!0);return js(n,{...i,skipEscape:!0})}function HB(t,e,r,i){let n={};return i||(t=Oo(js(t,r),r),e=Oo(js(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(n.scheme=e.scheme,n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=Bp(e.path||""),n.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=Bp(e.path||""),n.query=e.query):(e.path?(e.path.charAt(0)==="/"?n.path=Bp(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?n.path="/"+e.path:t.path?n.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:n.path=e.path,n.path=Bp(n.path)),n.query=e.query):(n.path=t.path,e.query!==void 0?n.query=e.query:n.query=t.query),n.userinfo=t.userinfo,n.host=t.host,n.port=t.port),n.scheme=t.scheme),n.fragment=e.fragment,n}function ORe(t,e,r){return typeof t=="string"?(t=unescape(t),t=js(n0(Oo(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=js(n0(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=js(n0(Oo(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=js(n0(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function js(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},i=Object.assign({},e),n=[],s=UB[(i.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,i),r.path!==void 0&&(i.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),i.reference!=="suffix"&&r.scheme&&(n.push(r.scheme),n.push(":"));let o=TRe(r,i);if(o!==void 0&&(i.reference!=="suffix"&&n.push("//"),n.push(o),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){let a=r.path;!i.absolutePath&&(!s||!s.absolutePath)&&(a=Bp(a)),o===void 0&&(a=a.replace(/^\/\//u,"/%2F")),n.push(a)}return r.query!==void 0&&(n.push("?"),n.push(r.query)),r.fragment!==void 0&&(n.push("#"),n.push(r.fragment)),n.join("")}var kRe=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function ARe(t){let e=0;for(let r=0,i=t.length;r<i;++r)if(e=t.charCodeAt(r),e>126||kRe[e])return!0;return!1}var CRe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Oo(t,e){let r=Object.assign({},e),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=t.indexOf("%")!==-1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let s=t.match(CRe);if(s){if(i.scheme=s[1],i.userinfo=s[3],i.host=s[4],i.port=parseInt(s[5],10),i.path=s[6]||"",i.query=s[7],i.fragment=s[8],isNaN(i.port)&&(i.port=s[5]),i.host){let a=RRe(i.host);a.isIPV4===!1?i.host=ERe(a.host,{isIPV4:!1}).host.toLowerCase():i.host=a.host}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&!i.path&&i.query===void 0?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==i.reference&&(i.error=i.error||"URI is not a "+r.reference+" reference.");let o=UB[(r.scheme||i.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&i.host&&(r.domainHost||o&&o.domainHost)&&ARe(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(a){i.error=i.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(n&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),n&&i.userinfo!==void 0&&(i.userinfo=unescape(i.userinfo)),n&&i.host!==void 0&&(i.host=unescape(i.host)),i.path!==void 0&&i.path.length&&(i.path=escape(unescape(i.path))),i.fragment!==void 0&&i.fragment.length&&(i.fragment=encodeURI(decodeURI(i.fragment)))),o&&o.parse&&o.parse(i,r)}else i.error=i.error||"URI can not be parsed.";return i}var $1={normalize:$Re,resolve:PRe,resolveComponents:HB,equal:ORe,serialize:js,parse:Oo};s0.exports=$1;s0.exports.default=$1;s0.exports.fastUri=$1});var o0=w(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.formatNames=Ms.fastFormats=Ms.fullFormats=void 0;function qs(t,e){return{validate:t,compare:e}}Ms.fullFormats={date:qs(GB,C1),time:qs(k1(!0),N1),"date-time":qs(BB(!0),JB),"iso-time":qs(k1(),KB),"iso-date-time":qs(BB(),YB),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:DRe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:VRe,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:LRe,int32:{type:"number",validate:URe},int64:{type:"number",validate:HRe},float:{type:"number",validate:WB},double:{type:"number",validate:WB},password:!0,binary:!0};Ms.fastFormats={...Ms.fullFormats,date:qs(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,C1),time:qs(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,N1),"date-time":qs(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,JB),"iso-time":qs(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,KB),"iso-date-time":qs(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,YB),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Ms.formatNames=Object.keys(Ms.fullFormats);function NRe(t){return t%4===0&&(t%100!==0||t%400===0)}var IRe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,jRe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function GB(t){let e=IRe.exec(t);if(!e)return!1;let r=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&NRe(r)?29:jRe[i])}function C1(t,e){if(t&&e)return t>e?1:t<e?-1:0}var O1=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function k1(t){return function(r){let i=O1.exec(r);if(!i)return!1;let n=+i[1],s=+i[2],o=+i[3],a=i[4],c=i[5]==="-"?-1:1,l=+(i[6]||0),u=+(i[7]||0);if(l>23||u>59||t&&!a)return!1;if(n<=23&&s<=59&&o<60)return!0;let f=s-u*c,p=n-l*c-(f<0?1:0);return(p===23||p===-1)&&(f===59||f===-1)&&o<61}}function N1(t,e){if(!(t&&e))return;let r=new Date("2020-01-01T"+t).valueOf(),i=new Date("2020-01-01T"+e).valueOf();if(r&&i)return r-i}function KB(t,e){if(!(t&&e))return;let r=O1.exec(t),i=O1.exec(e);if(r&&i)return t=r[1]+r[2]+r[3],e=i[1]+i[2]+i[3],t>e?1:t<e?-1:0}var A1=/t|\s/i;function BB(t){let e=k1(t);return function(i){let n=i.split(A1);return n.length===2&&GB(n[0])&&e(n[1])}}function JB(t,e){if(!(t&&e))return;let r=new Date(t).valueOf(),i=new Date(e).valueOf();if(r&&i)return r-i}function YB(t,e){if(!(t&&e))return;let[r,i]=t.split(A1),[n,s]=e.split(A1),o=C1(r,n);if(o!==void 0)return o||N1(i,s)}var qRe=/\/|:/,MRe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function DRe(t){return qRe.test(t)&&MRe.test(t)}var VB=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function LRe(t){return VB.lastIndex=0,VB.test(t)}var FRe=-(2**31),zRe=2**31-1;function URe(t){return Number.isInteger(t)&&t<=zRe&&t>=FRe}function HRe(t){return Number.isInteger(t)}function WB(){return!0}var BRe=/[^\\]\\Z/;function VRe(t){if(BRe.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var XB=w(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.formatLimitDefinition=void 0;var WRe=E1(),ss=Ie(),Aa=ss.operators,a0={formatMaximum:{okStr:"<=",ok:Aa.LTE,fail:Aa.GT},formatMinimum:{okStr:">=",ok:Aa.GTE,fail:Aa.LT},formatExclusiveMaximum:{okStr:"<",ok:Aa.LT,fail:Aa.GTE},formatExclusiveMinimum:{okStr:">",ok:Aa.GT,fail:Aa.LTE}},GRe={message:({keyword:t,schemaCode:e})=>(0,ss.str)`should be ${a0[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,ss._)`{comparison: ${a0[t].okStr}, limit: ${e}}`};Nu.formatLimitDefinition={keyword:Object.keys(a0),type:"string",schemaType:"string",$data:!0,error:GRe,code(t){let{gen:e,data:r,schemaCode:i,keyword:n,it:s}=t,{opts:o,self:a}=s;if(!o.validateFormats)return;let c=new WRe.KeywordCxt(s,a.RULES.all.format.definition,"format");c.$data?l():u();function l(){let p=e.scopeValue("formats",{ref:a.formats,code:o.code.formats}),d=e.const("fmt",(0,ss._)`${p}[${c.schemaCode}]`);t.fail$data((0,ss.or)((0,ss._)`typeof ${d} != "object"`,(0,ss._)`${d} instanceof RegExp`,(0,ss._)`typeof ${d}.compare != "function"`,f(d)))}function u(){let p=c.schema,d=a.formats[p];if(!d||d===!0)return;if(typeof d!="object"||d instanceof RegExp||typeof d.compare!="function")throw new Error(`"${n}": format "${p}" does not define "compare" function`);let h=e.scopeValue("formats",{key:p,ref:d,code:o.code.formats?(0,ss._)`${o.code.formats}${(0,ss.getProperty)(p)}`:void 0});t.fail$data(f(h))}function f(p){return(0,ss._)`${p}.compare(${r}, ${i}) ${a0[n].fail} 0`}},dependencies:["format"]};var KRe=t=>(t.addKeyword(Nu.formatLimitDefinition),t);Nu.default=KRe});var t3=w((Vp,e3)=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});var Iu=o0(),JRe=XB(),I1=Ie(),ZB=new I1.Name("fullFormats"),YRe=new I1.Name("fastFormats"),j1=(t,e={keywords:!0})=>{if(Array.isArray(e))return QB(t,e,Iu.fullFormats,ZB),t;let[r,i]=e.mode==="fast"?[Iu.fastFormats,YRe]:[Iu.fullFormats,ZB],n=e.formats||Iu.formatNames;return QB(t,n,r,i),e.keywords&&(0,JRe.default)(t),t};j1.get=(t,e="full")=>{let i=(e==="fast"?Iu.fastFormats:Iu.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function QB(t,e,r,i){var n,s;(n=(s=t.opts.code).formats)!==null&&n!==void 0||(s.formats=(0,I1._)`require("ajv-formats/dist/formats").${i}`);for(let o of e)t.addFormat(o,r[o])}e3.exports=Vp=j1;Object.defineProperty(Vp,"__esModule",{value:!0});Vp.default=j1});var M1=w((Xit,r3)=>{"use strict";var XRe=E1(),ZRe=P1(),QRe=t3(),eTe=Hy()({proto:!0}),q1=class t{constructor(e){this.ajv=new XRe({...e,strictSchema:!1,validateSchema:!1,allowUnionTypes:!0,uriResolver:ZRe}),QRe(this.ajv),this.ajv.addKeyword({keyword:"fjs_type",type:"object",errors:!1,validate:(r,i)=>i instanceof Date}),this._ajvSchemas={},this._ajvOptions=e||{}}addSchema(e,r){let i=e.$id||r;if(e.$id!==void 0&&e.$id[0]==="#"&&(i=r+e.$id),this.ajv.refs[i]===void 0&&this.ajv.schemas[i]===void 0){let n=eTe(e);this.convertSchemaToAjvFormat(n),this.ajv.addSchema(n,i),this._ajvSchemas[i]=e}}validate(e,r){return this.ajv.validate(e,r)}convertSchemaToAjvFormat(e){if(e!==null){e.type==="string"?(e.fjs_type="string",e.type=["string","object"]):Array.isArray(e.type)&&e.type.includes("string")&&!e.type.includes("object")&&(e.fjs_type="string",e.type.push("object"));for(let r in e)typeof e[r]=="object"&&this.convertSchemaToAjvFormat(e[r])}}getState(){return{ajvOptions:this._ajvOptions,ajvSchemas:this._ajvSchemas}}static restoreFromState(e){let r=new t(e.ajvOptions);for(let[i,n]of Object.entries(e.ajvSchemas))r.ajv.addSchema(n,i);return r}};r3.exports=q1});var n3=w((Zit,i3)=>{"use strict";var D1=class t{constructor(e,r,i="#"){this.schema=e,this.schemaId=r,this.jsonPointer=i}getPropertyLocation(e){return new t(this.schema[e],this.schemaId,this.jsonPointer+"/"+e)}getSchemaRef(){return this.schemaId+this.jsonPointer}};i3.exports=D1});var l3=w((Qit,F1)=>{"use strict";F1.exports=te;F1.exports.default=te;var tTe={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},s3={enum:["array","boolean","integer","null","number","object","string"]},o3=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,rTe=o0().fullFormats.uri,a3=o0().fullFormats.regex;function En(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0,a=o;return typeof t=="number"&&!(t%1)&&!isNaN(t)&&isFinite(t)?o===a&&typeof t=="number"&&isFinite(t)&&(t<0||isNaN(t))?(En.errors=[{instancePath:e,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(En.errors=s,o===0):(En.errors=[{instancePath:e,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}var L1={validate:te};function Ii(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(Array.isArray(t)){if(t.length<1)return Ii.errors=[{instancePath:e,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var a=!0;let c=t.length;for(let l=0;l<c;l++){let u=o;L1.validate(t[l],{instancePath:e+"/"+l,parentData:t,parentDataProperty:l,rootData:n})||(s=s===null?L1.validate.errors:s.concat(L1.validate.errors),o=s.length);var a=u===o;if(!a)break}}}else return Ii.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return Ii.errors=s,o===0}var c3=Lp().default;function te(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(!(t&&typeof t=="object"&&!Array.isArray(t))&&typeof t!="boolean")return te.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:tTe.type},message:"must be object,boolean"}],!1;if(o===0&&t&&typeof t=="object"&&!Array.isArray(t)){if(t.$id!==void 0){let _=t.$id,b=o;if(o===b&&o===b)if(typeof _=="string"){if(!o3.test(_))return te.errors=[{instancePath:e+"/$id",schemaPath:"#/properties/%24id/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return te.errors=[{instancePath:e+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(t.$schema!==void 0){let _=t.$schema,b=o;if(o===b&&o===b)if(typeof _=="string"){if(!rTe(_))return te.errors=[{instancePath:e+"/$schema",schemaPath:"#/properties/%24schema/format",keyword:"format",params:{format:"uri"},message:'must match format "uri"'}],!1}else return te.errors=[{instancePath:e+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(t.$ref!==void 0){let _=t.$ref,b=o;if(o===b&&o===b)if(typeof _=="string"){if(!o3.test(_))return te.errors=[{instancePath:e+"/$ref",schemaPath:"#/properties/%24ref/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return te.errors=[{instancePath:e+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(t.$comment!==void 0){let _=o;if(typeof t.$comment!="string")return te.errors=[{instancePath:e+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(t.title!==void 0){let _=o;if(typeof t.title!="string")return te.errors=[{instancePath:e+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(t.description!==void 0){let _=o;if(typeof t.description!="string")return te.errors=[{instancePath:e+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(t.readOnly!==void 0){let _=o;if(typeof t.readOnly!="boolean")return te.errors=[{instancePath:e+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=_===o}else var a=!0;if(a){if(t.examples!==void 0){let _=o;if(o===_&&!Array.isArray(t.examples))return te.errors=[{instancePath:e+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=_===o}else var a=!0;if(a){if(t.multipleOf!==void 0){let _=t.multipleOf,b=o;if(o===b)if(typeof _=="number"&&isFinite(_)){if(_<=0||isNaN(_))return te.errors=[{instancePath:e+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return te.errors=[{instancePath:e+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.maximum!==void 0){let _=t.maximum,b=o;if(!(typeof _=="number"&&isFinite(_)))return te.errors=[{instancePath:e+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.exclusiveMaximum!==void 0){let _=t.exclusiveMaximum,b=o;if(!(typeof _=="number"&&isFinite(_)))return te.errors=[{instancePath:e+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.minimum!==void 0){let _=t.minimum,b=o;if(!(typeof _=="number"&&isFinite(_)))return te.errors=[{instancePath:e+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.exclusiveMinimum!==void 0){let _=t.exclusiveMinimum,b=o;if(!(typeof _=="number"&&isFinite(_)))return te.errors=[{instancePath:e+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.maxLength!==void 0){let _=t.maxLength,b=o,$=o;if(!(typeof _=="number"&&!(_%1)&&!isNaN(_)&&isFinite(_)))return te.errors=[{instancePath:e+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===$&&typeof _=="number"&&isFinite(_)&&(_<0||isNaN(_)))return te.errors=[{instancePath:e+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=b===o}else var a=!0;if(a){if(t.minLength!==void 0){let _=o;En(t.minLength,{instancePath:e+"/minLength",parentData:t,parentDataProperty:"minLength",rootData:n})||(s=s===null?En.errors:s.concat(En.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.pattern!==void 0){let _=t.pattern,b=o;if(o===b&&o===b)if(typeof _=="string"){if(!a3(_))return te.errors=[{instancePath:e+"/pattern",schemaPath:"#/properties/pattern/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"'}],!1}else return te.errors=[{instancePath:e+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(t.additionalItems!==void 0){let _=o;te(t.additionalItems,{instancePath:e+"/additionalItems",parentData:t,parentDataProperty:"additionalItems",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.items!==void 0){let _=t.items,b=o,$=o,k=!1,O=o;te(_,{instancePath:e+"/items",parentData:t,parentDataProperty:"items",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var c=O===o;if(k=k||c,!k){let L=o;Ii(_,{instancePath:e+"/items",parentData:t,parentDataProperty:"items",rootData:n})||(s=s===null?Ii.errors:s.concat(Ii.errors),o=s.length);var c=L===o;k=k||c}if(k)o=$,s!==null&&($?s.length=$:s=null);else{let L={instancePath:e+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[L]:s.push(L),o++,te.errors=s,!1}var a=b===o}else var a=!0;if(a){if(t.maxItems!==void 0){let _=t.maxItems,b=o,$=o;if(!(typeof _=="number"&&!(_%1)&&!isNaN(_)&&isFinite(_)))return te.errors=[{instancePath:e+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===$&&typeof _=="number"&&isFinite(_)&&(_<0||isNaN(_)))return te.errors=[{instancePath:e+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=b===o}else var a=!0;if(a){if(t.minItems!==void 0){let _=o;En(t.minItems,{instancePath:e+"/minItems",parentData:t,parentDataProperty:"minItems",rootData:n})||(s=s===null?En.errors:s.concat(En.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.uniqueItems!==void 0){let _=o;if(typeof t.uniqueItems!="boolean")return te.errors=[{instancePath:e+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=_===o}else var a=!0;if(a){if(t.contains!==void 0){let _=o;te(t.contains,{instancePath:e+"/contains",parentData:t,parentDataProperty:"contains",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.maxProperties!==void 0){let _=t.maxProperties,b=o,$=o;if(!(typeof _=="number"&&!(_%1)&&!isNaN(_)&&isFinite(_)))return te.errors=[{instancePath:e+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===$&&typeof _=="number"&&isFinite(_)&&(_<0||isNaN(_)))return te.errors=[{instancePath:e+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=b===o}else var a=!0;if(a){if(t.minProperties!==void 0){let _=o;En(t.minProperties,{instancePath:e+"/minProperties",parentData:t,parentDataProperty:"minProperties",rootData:n})||(s=s===null?En.errors:s.concat(En.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.required!==void 0){let _=t.required,b=o;if(o===o)if(Array.isArray(_)){var l=!0;let O=_.length;for(let N=0;N<O;N++){let L=o;if(typeof _[N]!="string")return te.errors=[{instancePath:e+"/required/"+N,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=L===o;if(!l)break}if(l){let N=_.length,L;if(N>1){let T={};for(;N--;){let g=_[N];if(typeof g=="string"){if(typeof T[g]=="number"){return L=T[g],te.errors=[{instancePath:e+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:N,j:L},message:"must NOT have duplicate items (items ## "+L+" and "+N+" are identical)"}],!1;break}T[g]=N}}}}}else return te.errors=[{instancePath:e+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=b===o}else var a=!0;if(a){if(t.additionalProperties!==void 0){let _=o;te(t.additionalProperties,{instancePath:e+"/additionalProperties",parentData:t,parentDataProperty:"additionalProperties",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.definitions!==void 0){let _=t.definitions,b=o;if(o===b)if(_&&typeof _=="object"&&!Array.isArray(_))for(let k in _){let O=o;te(_[k],{instancePath:e+"/definitions/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:_,parentDataProperty:k,rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var u=O===o;if(!u)break}else return te.errors=[{instancePath:e+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=b===o}else var a=!0;if(a){if(t.properties!==void 0){let _=t.properties,b=o;if(o===b)if(_&&typeof _=="object"&&!Array.isArray(_))for(let k in _){let O=o;te(_[k],{instancePath:e+"/properties/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:_,parentDataProperty:k,rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var f=O===o;if(!f)break}else return te.errors=[{instancePath:e+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=b===o}else var a=!0;if(a){if(t.patternProperties!==void 0){let _=t.patternProperties,b=o;if(o===b)if(_&&typeof _=="object"&&!Array.isArray(_)){for(let k in _){let O=o;if(o===O&&typeof k=="string"&&!a3(k)){let N={instancePath:e+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"',propertyName:k};s===null?s=[N]:s.push(N),o++}var p=O===o;if(!p){let N={instancePath:e+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:k},message:"property name must be valid"};return s===null?s=[N]:s.push(N),o++,te.errors=s,!1;break}}if(p)for(let k in _){let O=o;te(_[k],{instancePath:e+"/patternProperties/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:_,parentDataProperty:k,rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var d=O===o;if(!d)break}}else return te.errors=[{instancePath:e+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=b===o}else var a=!0;if(a){if(t.dependencies!==void 0){let _=t.dependencies,b=o;if(o===b)if(_&&typeof _=="object"&&!Array.isArray(_))for(let k in _){let O=_[k],N=o,L=o,T=!1,g=o;te(O,{instancePath:e+"/dependencies/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:_,parentDataProperty:k,rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var h=g===o;if(T=T||h,!T){let x=o;if(o===o)if(Array.isArray(O)){var m=!0;let C=O.length;for(let j=0;j<C;j++){let M=o;if(typeof O[j]!="string"){let S={instancePath:e+"/dependencies/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+j,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[S]:s.push(S),o++}var m=M===o;if(!m)break}if(m){let j=O.length,M;if(j>1){let A={};for(;j--;){let S=O[j];if(typeof S=="string"){if(typeof A[S]=="number"){M=A[S];let I={instancePath:e+"/dependencies/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:j,j:M},message:"must NOT have duplicate items (items ## "+M+" and "+j+" are identical)"};s===null?s=[I]:s.push(I),o++;break}A[S]=j}}}}}else{let C={instancePath:e+"/dependencies/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[C]:s.push(C),o++}var h=x===o;T=T||h}if(T)o=L,s!==null&&(L?s.length=L:s=null);else{let x={instancePath:e+"/dependencies/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[x]:s.push(x),o++,te.errors=s,!1}var v=N===o;if(!v)break}else return te.errors=[{instancePath:e+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=b===o}else var a=!0;if(a){if(t.propertyNames!==void 0){let _=o;te(t.propertyNames,{instancePath:e+"/propertyNames",parentData:t,parentDataProperty:"propertyNames",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.enum!==void 0){let _=t.enum,b=o;if(o===b)if(Array.isArray(_)){if(_.length<1)return te.errors=[{instancePath:e+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let k=_.length,O;if(k>1){e:for(;k--;)for(O=k;O--;)if(c3(_[k],_[O])){return te.errors=[{instancePath:e+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:k,j:O},message:"must NOT have duplicate items (items ## "+O+" and "+k+" are identical)"}],!1;break e}}}}else return te.errors=[{instancePath:e+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=b===o}else var a=!0;if(a){if(t.type!==void 0){let _=t.type,b=o,$=o,k=!1,O=o;if(!(_==="array"||_==="boolean"||_==="integer"||_==="null"||_==="number"||_==="object"||_==="string")){let L={instancePath:e+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:s3.enum},message:"must be equal to one of the allowed values"};s===null?s=[L]:s.push(L),o++}var y=O===o;if(k=k||y,!k){let L=o;if(o===L)if(Array.isArray(_))if(_.length<1){let g={instancePath:e+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};s===null?s=[g]:s.push(g),o++}else{var E=!0;let g=_.length;for(let x=0;x<g;x++){let R=_[x],P=o;if(!(R==="array"||R==="boolean"||R==="integer"||R==="null"||R==="number"||R==="object"||R==="string")){let j={instancePath:e+"/type/"+x,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:s3.enum},message:"must be equal to one of the allowed values"};s===null?s=[j]:s.push(j),o++}var E=P===o;if(!E)break}if(E){let x=_.length,R;if(x>1){e:for(;x--;)for(R=x;R--;)if(c3(_[x],_[R])){let P={instancePath:e+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:x,j:R},message:"must NOT have duplicate items (items ## "+R+" and "+x+" are identical)"};s===null?s=[P]:s.push(P),o++;break e}}}}else{let g={instancePath:e+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[g]:s.push(g),o++}var y=L===o;k=k||y}if(k)o=$,s!==null&&($?s.length=$:s=null);else{let L={instancePath:e+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[L]:s.push(L),o++,te.errors=s,!1}var a=b===o}else var a=!0;if(a){if(t.format!==void 0){let _=o;if(typeof t.format!="string")return te.errors=[{instancePath:e+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(t.contentMediaType!==void 0){let _=o;if(typeof t.contentMediaType!="string")return te.errors=[{instancePath:e+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(t.contentEncoding!==void 0){let _=o;if(typeof t.contentEncoding!="string")return te.errors=[{instancePath:e+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(t.if!==void 0){let _=o;te(t.if,{instancePath:e+"/if",parentData:t,parentDataProperty:"if",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.then!==void 0){let _=o;te(t.then,{instancePath:e+"/then",parentData:t,parentDataProperty:"then",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.else!==void 0){let _=o;te(t.else,{instancePath:e+"/else",parentData:t,parentDataProperty:"else",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.allOf!==void 0){let _=o;Ii(t.allOf,{instancePath:e+"/allOf",parentData:t,parentDataProperty:"allOf",rootData:n})||(s=s===null?Ii.errors:s.concat(Ii.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.anyOf!==void 0){let _=o;Ii(t.anyOf,{instancePath:e+"/anyOf",parentData:t,parentDataProperty:"anyOf",rootData:n})||(s=s===null?Ii.errors:s.concat(Ii.errors),o=s.length);var a=_===o}else var a=!0;if(a){if(t.oneOf!==void 0){let _=o;Ii(t.oneOf,{instancePath:e+"/oneOf",parentData:t,parentDataProperty:"oneOf",rootData:n})||(s=s===null?Ii.errors:s.concat(Ii.errors),o=s.length);var a=_===o}else var a=!0;if(a)if(t.not!==void 0){let _=o;te(t.not,{instancePath:e+"/not",parentData:t,parentDataProperty:"not",rootData:n})||(s=s===null?te.errors:s.concat(te.errors),o=s.length);var a=_===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return te.errors=s,o===0}});var B1=w((ent,u3)=>{"use strict";var z1=class extends Error{constructor(e,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Failed to merge "${e}" keyword schemas.`,this.schemas=r}},U1=class extends Error{constructor(e,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Resolver for "${e}" keyword not found.`,this.schemas=r}},H1=class extends Error{constructor(e){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Invalid "onConflict" option: "${e}".`}};u3.exports={MergeError:z1,ResolverNotFoundError:U1,InvalidOnConflictOptionError:H1}});var p3=w((tnt,d3)=>{"use strict";var iTe=bn(),{MergeError:V1}=B1();function f3(t){let e=t[0];for(let r=1;r<t.length;r++)e=e.filter(i=>t[r].includes(i));return e}function nTe(t,e,r){let i=f3(e);if(i.length===0)throw new V1(t,e);r[t]=i}function sTe(t,e,r){for(let n=0;n<e.length;n++)Array.isArray(e[n])||(e[n]=[e[n]]);let i=f3(e);if(i.length===0)throw new V1(t,e);i.length===1?r[t]=i[0]:r[t]=i}function oTe(t,e,r){let i=[];for(let n of e)for(let s of n)i.includes(s)||i.push(s);r[t]=i}function aTe(t,e,r){r[t]=Math.min(...e)}function cTe(t,e,r){r[t]=Math.max(...e)}function lTe(t,e,r){let i=(a,c)=>c?i(c,a%c):a,n=(a,c)=>a*c/i(a,c),s=1;for(let a of e)for(;a*s%1!==0;)s*=10;let o=e[0]*s;for(let a of e)o=n(o,a*s);r[t]=o/s}function uTe(t,e,r){let i=e[0];for(let n=1;n<e.length;n++)if(!iTe(e[n],i))throw new V1(t,e);r[t]=i}function fTe(){}function dTe(t,e,r){for(let i of e)if(i===!1){r[t]=!1;return}r[t]=!0}function pTe(t,e,r){for(let i of e)if(i===!0){r[t]=!0;return}r[t]=!1}d3.exports={arraysIntersection:nTe,hybridArraysIntersection:sTe,arraysUnion:oTe,minNumber:aTe,maxNumber:cTe,commonMultiple:lTe,allEqual:uTe,booleanAnd:dTe,booleanOr:pTe,skip:fTe}});var b3=w((rnt,v3)=>{"use strict";var hTe=bn(),hr=p3(),u0=B1(),g3={$id:hr.skip,type:hr.hybridArraysIntersection,enum:hr.arraysIntersection,minLength:hr.maxNumber,maxLength:hr.minNumber,minimum:hr.maxNumber,maximum:hr.minNumber,multipleOf:hr.commonMultiple,exclusiveMinimum:hr.maxNumber,exclusiveMaximum:hr.minNumber,minItems:hr.maxNumber,maxItems:hr.minNumber,maxProperties:hr.minNumber,minProperties:hr.maxNumber,const:hr.allEqual,default:hr.allEqual,format:hr.allEqual,required:hr.arraysUnion,properties:_Te,patternProperties:l0,additionalProperties:c0,items:yTe,additionalItems:vTe,definitions:l0,$defs:l0,nullable:hr.booleanAnd,oneOf:h3,anyOf:h3,allOf:hr.arraysUnion,not:c0,if:wTe,then:hr.skip,else:hr.skip,dependencies:m3,dependentRequired:m3,dependentSchemas:l0,propertyNames:c0,uniqueItems:hr.booleanOr,contains:c0};function c0(t,e,r,i,n){r[t]=os(e,n)}function mTe(t){let e=[[]];for(let r of t){let i=[];for(let n of e)for(let s of r)i.push([...n,s]);e=i}return e}function h3(t,e,r,i,n){if(e.length===1){r[t]=e[0];return}let s=mTe(e),o=[];for(let a of s)try{let c=os(a,n);c!==void 0&&o.push(c)}catch(c){if(c instanceof u0.MergeError)continue;throw c}r[t]=o}function gTe(t,e){let{items:r,additionalItems:i}=t;return Array.isArray(r)?e<r.length?r[e]:i:r!==void 0?r:i}function yTe(t,e,r,i,n){let s=0;for(let a of e)Array.isArray(a)&&(s=Math.max(s,a.length));if(s===0){r[t]=os(e,n);return}let o=[];for(let a=0;a<s;a++){let c=[];for(let l of i){let u=gTe(l,a);u!==void 0&&c.push(u)}o[a]=os(c,n)}r[t]=o}function vTe(t,e,r,i,n){let s=!1;for(let a of i)if(Array.isArray(a.items)){s=!0;break}if(!s){r[t]=os(e,n);return}let o=[];for(let a of i){let c=a.additionalItems;c===void 0&&!Array.isArray(a.items)&&(c=a.items),c!==void 0&&o.push(c)}r[t]=os(o,n)}function bTe(t,e){let{properties:r,patternProperties:i,additionalProperties:n}=t;if(r?.[e]!==void 0)return r[e];for(let s of Object.keys(i??{}))if(new RegExp(s).test(e))return i[s];return n}function _Te(t,e,r,i,n){let s={};for(let a of i){let c=a.properties??{};for(let l of Object.keys(c)){if(s[l]!==void 0)continue;let u=c[l];s[l]=[u];for(let f of i){if(a===f)continue;let p=bTe(f,l);p!==void 0&&s[l].push(p)}}}let o={};for(let a of Object.keys(s)){let c=s[a];o[a]=os(c,n)}r[t]=o}function l0(t,e,r,i,n){let s={};for(let a of e)for(let c of Object.keys(a))s[c]===void 0&&(s[c]=[]),s[c].push(a[c]);let o={};for(let a of Object.keys(s)){let c=s[a],l=os(c,n);o[a]=l}r[t]=o}function wTe(t,e,r,i,n){for(let s=0;s<i.length;s++){let o={if:i[s].if,then:i[s].then,else:i[s].else};if(o.if!==void 0){if(r.if===void 0){r.if=o.if,o.then!==void 0&&(r.then=o.then),o.else!==void 0&&(r.else=o.else);continue}r.then!==void 0&&(r.then=os([r.then,o],n)),r.else!==void 0&&(r.else=os([r.else,o],n))}}}function m3(t,e,r){let i={};for(let n of e)for(let s of Object.keys(n)){i[s]===void 0&&(i[s]=[]);let o=i[s];for(let a of n[s])o.includes(a)||o.push(a)}r[t]=i}function os(t,e){if(t.length===0)return{};if(t.length===1)return t[0];let r={},i={},n=!0;for(let s of t){if(s===!1)return!1;if(s!==!0){n=!1;for(let o of Object.keys(s))i[o]===void 0&&(i[o]=[]),i[o].push(s[o])}}if(n)return!0;for(let s of Object.keys(i)){let o=i[s];(e.resolvers[s]??e.defaultResolver)(s,o,r,t,e)}return r}function y3(t,e,r,i,n){let s=n.onConflict??"throw";if(e.length===1||s==="first"){r[t]=e[0];return}let o=!0;for(let a=1;a<e.length;a++)if(!hTe(e[a],e[0])){o=!1;break}if(o){r[t]=e[0];return}if(s==="throw")throw new u0.ResolverNotFoundError(t,e);if(s!=="skip")throw new u0.InvalidOnConflictOptionError(s)}function xTe(t,e={}){return e.defaultResolver===void 0&&(e.defaultResolver=y3),e.resolvers={...g3,...e.resolvers},os(t,e)}v3.exports={mergeSchemas:xTe,keywordsResolvers:g3,defaultResolver:y3,...u0}});var w3=w((int,_3)=>{"use strict";var{mergeSchemas:STe}=b3();function ETe(t){return STe(t,{onConflict:"skip"})}_3.exports=ETe});var x3=w((nnt,W1)=>{"use strict";function RTe(t,e,r,i){let n="";e.validatorSchemasIds.size>0?(n+=`const Validator = require('fast-json-stringify/lib/validator')
`,n+=`const validatorState = ${JSON.stringify(i.getState())}
`,n+=`const validator = Validator.restoreFromState(validatorState)
`):n+=`const validator = null
`;let{schema:s,...o}=r.getState();return`
  'use strict'

  const Serializer = require('fast-json-stringify/lib/serializer')
  const serializerState = ${JSON.stringify(o)}
  const serializer = Serializer.restoreFromState(serializerState)

  ${n}

  module.exports = ${t.toString()}(validator, serializer)`}W1.exports=RTe;W1.exports.dependencies={Serializer:Vy(),Validator:M1()}});var A3=w((snt,ju)=>{"use strict";var{RefResolver:TTe}=f4(),$Te=Vy(),PTe=M1(),Hc=n3(),S3=l3(),OTe=w3(),kTe=/'/g,f0=2e4,R3="default",ATe=["floor","ceil","round","trunc"],T3=["default","json-stringify"],Wp=0;function G1(t,e){if(!S3(t)){e?e=`"${e}" `:e="";let r=S3.errors[0],i=new Error(`${e}schema is invalid: data${r.instancePath} ${r.message}`);throw i.errors=G1.errors,i}}function Gp(t,e){let r=e.schema.$ref,i=r.indexOf("#");i===-1&&(i=r.length);let n=r.slice(0,i)||e.schemaId,s=r.slice(i)||"#",o=t.refResolver.getSchema(n,s);if(o===null)throw new Error(`Cannot find reference "${r}"`);let a=new Hc(o,n,s);return o.$ref!==void 0?Gp(t,a):a}function d0(t,e){let r=t.refResolver.getSchema(e,"#");return new Hc(r,e,"#")}function E3(t,e){return t.$id&&t.$id.charAt(0)!=="#"?t.$id:e}function K1(t,e){G1(t),e=e||{};let r={functions:[],functionsCounter:0,functionsNamesBySchema:new Map,options:e,refResolver:new TTe,rootSchemaId:t.$id||`__fjs_root_${Wp++}`,validatorSchemasIds:new Set,mergedSchemasIds:new Map},i=E3(t,r.rootSchemaId);if(r.refResolver.hasSchema(i)||r.refResolver.addSchema(t,r.rootSchemaId),e.schema)for(let u in e.schema){let f=e.schema[u],p=E3(f,u);r.refResolver.hasSchema(p)||(G1(f,u),r.refResolver.addSchema(f,u))}if(e.rounding&&!ATe.includes(e.rounding))throw new Error(`Unsupported integer rounding method ${e.rounding}`);if(e.largeArrayMechanism)if(T3.includes(e.largeArrayMechanism))R3=e.largeArrayMechanism;else throw new Error(`Unsupported large array mechanism ${e.largeArrayMechanism}`);if(e.largeArraySize)if(typeof e.largeArraySize=="string"&&Number.isFinite(Number.parseInt(e.largeArraySize,10)))f0=Number.parseInt(e.largeArraySize,10);else if(typeof e.largeArraySize=="number"&&Number.isInteger(e.largeArraySize))f0=e.largeArraySize;else if(typeof e.largeArraySize=="bigint")f0=Number(e.largeArraySize);else throw new Error(`Unsupported large array size. Expected integer-like, got ${typeof e.largeArraySize} with value ${e.largeArraySize}`);let n=new Hc(t,r.rootSchemaId),s=un(r,n,"input"),o=`
    const JSON_STR_BEGIN_OBJECT = '{'
    const JSON_STR_END_OBJECT = '}'
    const JSON_STR_BEGIN_ARRAY = '['
    const JSON_STR_END_ARRAY = ']'
    const JSON_STR_COMMA = ','
    const JSON_STR_COLONS = ':'
    const JSON_STR_QUOTE = '"'
    const JSON_STR_EMPTY_OBJECT = JSON_STR_BEGIN_OBJECT + JSON_STR_END_OBJECT
    const JSON_STR_EMPTY_ARRAY = JSON_STR_BEGIN_ARRAY + JSON_STR_END_ARRAY
    const JSON_STR_EMPTY_STRING = JSON_STR_QUOTE + JSON_STR_QUOTE
    const JSON_STR_NULL = 'null'
  `;s==="json += anonymous0(input)"?o+=`
    ${r.functions.join(`
`)}
    const main = anonymous0
    return main
    `:o+=`
    function main (input) {
      let json = ''
      ${s}
      return json
    }
    ${r.functions.join(`
`)}
    return main
    `;let a=new $Te(e),c=new PTe(e.ajv);for(let u of r.validatorSchemasIds){let f=r.refResolver.getSchema(u);c.addSchema(f,u);let p=r.refResolver.getSchemaDependencies(u);for(let[d,h]of Object.entries(p))c.addSchema(h,d)}if(e.debugMode&&(e.mode="debug"),e.mode==="debug")return{validator:c,serializer:a,code:`validator
serializer
${o}`,ajv:c.ajv};let l=new Function("validator","serializer",o);return e.mode==="standalone"?x3()(l,r,a,c):l(c,a)}var CTe=["properties","required","additionalProperties","patternProperties","maxProperties","minProperties","dependencies"],NTe=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],ITe=["maxLength","minLength","pattern"],jTe=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function qTe(t){for(var e of CTe)if(e in t)return"object";for(var e of NTe)if(e in t)return"array";for(var e of ITe)if(e in t)return"string";for(var e of jTe)if(e in t)return"number";return t.type}function MTe(t,e,r){let i=e.schema,n=Object.keys(i.properties||{}),s=`
    const propertiesKeys = ${JSON.stringify(n)}
    for (const [key, value] of Object.entries(obj)) {
      if (
        propertiesKeys.includes(key) ||
        value === undefined ||
        typeof value === 'function' ||
        typeof value === 'symbol'
      ) continue
  `,o=e.getPropertyLocation("patternProperties"),a=o.schema;if(a!==void 0)for(let u in a){let f=o.getPropertyLocation(u);s+=`
        if (/${u.replace(/\\*\//g,"\\/")}/.test(key)) {
          ${r}
          json += serializer.asString(key) + JSON_STR_COLONS
          ${un(t,f,"value")}
          continue
        }
      `}let l=e.getPropertyLocation("additionalProperties").schema;if(l!==void 0)if(l===!0)s+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS + JSON.stringify(value)
      `;else{let u=e.getPropertyLocation("additionalProperties");s+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS
        ${un(t,u,"value")}
      `}return s+=`
    }
  `,s}function DTe(t,e){let r=e.schema,i=e.getPropertyLocation("properties"),n=r.required||[],s=Object.keys(r.properties||{}).sort((l,u)=>{let f=n.includes(l),p=n.includes(u);return f===p?0:f?-1:1}),o=n.includes(s[0]),a=`let value
`;for(let l of n)if(!s.includes(l)){let u=JSON.stringify(l);a+=`if (obj[${u}] === undefined) throw new Error('${u.replace(/'/g,"\\'")} is required!')
`}a+=`let json = JSON_STR_BEGIN_OBJECT
`;let c="";o||(a+=`let addComma = false
`,c="!addComma && (addComma = true) || (json += JSON_STR_COMMA)");for(let l of s){let u=i.getPropertyLocation(l);u.schema.$ref&&(u=Gp(t,u));let f=JSON.stringify(l),p=u.schema.default,d=n.includes(l);a+=`
      value = obj[${f}]
      if (value !== undefined) {
        ${c}
        json += ${JSON.stringify(f+":")}
        ${un(t,u,"value")}
      }`,p!==void 0?a+=` else {
        ${c}
        json += ${JSON.stringify(f+":"+JSON.stringify(p))}
      }
      `:d?a+=` else {
        throw new Error('${f.replace(/'/g,"\\'")} is required!')
      }
      `:a+=`
`,o&&(c="json += ','")}return(r.patternProperties||r.additionalProperties)&&(a+=MTe(t,e,c)),a+=`
    return json + JSON_STR_END_OBJECT
  `,a}function p0(t,e,r){for(let o=0;o<r.length;o++){let a=r[o];a.schema.$ref&&(r[o]=Gp(t,a))}let i=[];for(let o of r){let a=$3(t,o.schema,o.schemaId);delete a.$id,i.push(a)}let n=OTe(i),s=new Hc(n,e);return t.refResolver.addSchema(n,e),s}function $3(t,e,r){let i=Array.isArray(e)?[]:{};e.$id!==void 0&&e.$id.charAt(0)!=="#"&&(r=e.$id);let n=t.mergedSchemasIds.get(e);n&&t.mergedSchemasIds.set(i,n);for(let s in e){let o=e[s];s==="$ref"&&typeof o=="string"&&o.charAt(0)==="#"&&(o=r+o),typeof o=="object"&&o!==null&&(o=$3(t,o,r)),i[s]=o}return i}function LTe(t){return`(${t} && typeof ${t}.toJSON === 'function')
    ? ${t}.toJSON()
    : ${t}
  `}function FTe(t,e){let r=e.schema;if(t.functionsNamesBySchema.has(r))return t.functionsNamesBySchema.get(r);let i=O3(t);t.functionsNamesBySchema.set(r,i);let n=e.getSchemaRef();n.startsWith(t.rootSchemaId)&&(n=n.replace(t.rootSchemaId,""));let s=`
  `,o=r.nullable===!0;return s+=`
    // ${n}
    function ${i} (input) {
      const obj = ${LTe("input")}
      ${o?"":"if (obj === null) return JSON_STR_EMPTY_OBJECT"}

      ${DTe(t,e)}
    }
  `,t.functions.push(s),i}function zTe(t,e){let r=e.schema,i=e.getPropertyLocation("items");i.schema=i.schema||{},i.schema.$ref&&(i=Gp(t,i));let n=i.schema;if(t.functionsNamesBySchema.has(r))return t.functionsNamesBySchema.get(r);let s=O3(t);t.functionsNamesBySchema.set(r,s);let o=e.getSchemaRef();o.startsWith(t.rootSchemaId)&&(o=o.replace(t.rootSchemaId,""));let a=`
    function ${s} (obj) {
      // ${o}
  `,c=r.nullable===!0;if(a+=`
    ${c?"":"if (obj === null) return JSON_STR_EMPTY_ARRAY"}
    if (!Array.isArray(obj)) {
      throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
    }
    const arrayLength = obj.length
  `,!r.additionalItems&&Array.isArray(n)&&(a+=`
      if (arrayLength > ${n.length}) {
        throw new Error(\`Item at ${n.length} does not match schema definition.\`)
      }
    `),R3==="json-stringify"&&(a+=`if (arrayLength >= ${f0}) return JSON.stringify(obj)
`),a+=`
    const arrayEnd = arrayLength - 1
    let value
    let json = ''
  `,Array.isArray(n)){for(let l=0;l<n.length;l++){let u=n[l];a+=`value = obj[${l}]`;let f=un(t,i.getPropertyLocation(l),"value");a+=`
        if (${l} < arrayLength) {
          if (${P3(u.type,`[${l}]`)}) {
            ${f}
            if (${l} < arrayEnd) {
              json += JSON_STR_COMMA
            }
          } else {
            throw new Error(\`Item at ${l} does not match schema definition.\`)
          }
        }
        `}r.additionalItems&&(a+=`
        for (let i = ${n.length}; i < arrayLength; i++) {
          json += JSON.stringify(obj[i])
          if (i < arrayEnd) {
            json += JSON_STR_COMMA
          }
        }`)}else{let l=un(t,i,"obj[i]");a+=`
      for (let i = 0; i < arrayLength; i++) {
        ${l}
        if (i < arrayEnd) {
          json += JSON_STR_COMMA
        }
      }`}return a+=`
    return JSON_STR_BEGIN_ARRAY + json + JSON_STR_END_ARRAY
  }`,t.functions.push(a),s}function P3(t,e){let r;switch(t){case"null":r="value === null";break;case"string":r=`typeof value === 'string' ||
      value === null ||
      value instanceof Date ||
      value instanceof RegExp ||
      (
        typeof value === "object" &&
        typeof value.toString === "function" &&
        value.toString !== Object.prototype.toString
      )`;break;case"integer":r="Number.isInteger(value)";break;case"number":r="Number.isFinite(value)";break;case"boolean":r="typeof value === 'boolean'";break;case"object":r="value && typeof value === 'object' && value.constructor === Object";break;case"array":r="Array.isArray(value)";break;default:Array.isArray(t)&&(r=`(${t.map(n=>P3(n,e)).join(" || ")})`)}return r}function O3(t){return"anonymous"+t.functionsCounter++}function UTe(t,e,r){let n=e.schema.type.sort(a=>a==="null"?-1:1),s="";n.forEach((a,c)=>{e.schema={...e.schema,type:a};let l=k3(t,e,r),u=c===0?"if":"else if";switch(a){case"null":s+=`
          ${u} (${r} === null)
            ${l}
          `;break;case"string":{s+=`
          ${u}(
            typeof ${r} === "string" ||
            ${r} === null ||
            ${r} instanceof Date ||
            ${r} instanceof RegExp ||
            (
              typeof ${r} === "object" &&
              typeof ${r}.toString === "function" &&
              ${r}.toString !== Object.prototype.toString
            )
          )
            ${l}
        `;break}case"array":{s+=`
          ${u}(Array.isArray(${r}))
            ${l}
        `;break}case"integer":{s+=`
          ${u}(Number.isInteger(${r}) || ${r} === null)
            ${l}
        `;break}default:{s+=`
          ${u}(typeof ${r} === "${a}" || ${r} === null)
            ${l}
        `;break}}});let o=e.getSchemaRef();return o.startsWith(t.rootSchemaId)&&(o=o.replace(t.rootSchemaId,"")),s+=`
    else throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
  `,s}function k3(t,e,r){let i=e.schema;switch(i.type){case"null":return"json += JSON_STR_NULL";case"string":return i.format==="date-time"?`json += serializer.asDateTime(${r})`:i.format==="date"?`json += serializer.asDate(${r})`:i.format==="time"?`json += serializer.asTime(${r})`:i.format==="unsafe"?`json += serializer.asUnsafeString(${r})`:`
        if (typeof ${r} !== 'string') {
          if (${r} === null) {
            json += JSON_STR_EMPTY_STRING
          } else if (${r} instanceof Date) {
            json += JSON_STR_QUOTE + ${r}.toISOString() + JSON_STR_QUOTE
          } else if (${r} instanceof RegExp) {
            json += serializer.asString(${r}.source)
          } else {
            json += serializer.asString(${r}.toString())
          }
        } else {
          json += serializer.asString(${r})
        }
        `;case"integer":return`json += serializer.asInteger(${r})`;case"number":return`json += serializer.asNumber(${r})`;case"boolean":return`json += serializer.asBoolean(${r})`;case"object":return`json += ${FTe(t,e)}(${r})`;case"array":return`json += ${zTe(t,e)}(${r})`;case void 0:return`json += JSON.stringify(${r})`;default:throw new Error(`${i.type} unsupported`)}}function HTe(t,e){let r=t.schema,i=r.type,n=Array.isArray(i)&&i.includes("null"),s="";return n&&(s+=`
      if (${e} === null) {
        json += JSON_STR_NULL
      } else {
    `),s+=`json += '${JSON.stringify(r.const).replace(kTe,"\\'")}'`,n&&(s+=`
      }
    `),s}function BTe(t,e,r){let i=e.schema,n=t.mergedSchemasIds.get(i);if(n){let u=d0(t,n);return un(t,u,r)}n=`__fjs_merged_${Wp++}`,t.mergedSchemasIds.set(i,n);let{allOf:s,...o}=e.schema,a=[new Hc(o,e.schemaId,e.jsonPointer)],c=e.getPropertyLocation("allOf");for(let u=0;u<s.length;u++)a.push(c.getPropertyLocation(u));let l=p0(t,n,a);return un(t,l,r)}function VTe(t,e,r){t.validatorSchemasIds.add(e.schemaId);let n=e.schema.anyOf?"anyOf":"oneOf",{[n]:s,...o}=e.schema,a=new Hc(o,e.schemaId,e.jsonPointer),c=e.getPropertyLocation(n),l="";for(let f=0;f<s.length;f++){let p=c.getPropertyLocation(f),d=p.schema,h=t.mergedSchemasIds.get(d),m=null;h?m=d0(t,h):(h=`__fjs_merged_${Wp++}`,t.mergedSchemasIds.set(d,h),m=p0(t,h,[a,p]));let v=un(t,m,r),y=p.getSchemaRef();l+=`
      ${f===0?"if":"else if"}(validator.validate("${y}", ${r}))
        ${v}
    `}let u=e.getSchemaRef();return u.startsWith(t.rootSchemaId)&&(u=u.replace(t.rootSchemaId,"")),l+=`
    else throw new TypeError(\`The value of '${u}' does not match schema definition.\`)
  `,l}function WTe(t,e,r){t.validatorSchemasIds.add(e.schemaId);let{if:i,then:n,else:s,...o}=e.schema,a=new Hc(o,e.schemaId,e.jsonPointer),l=e.getPropertyLocation("if").getSchemaRef(),u=e.getPropertyLocation("then"),f=t.mergedSchemasIds.get(n),p=null;if(f?p=d0(t,f):(f=`__fjs_merged_${Wp++}`,t.mergedSchemasIds.set(n,f),p=p0(t,f,[a,u])),!s)return`
      if (validator.validate("${l}", ${r})) {
        ${un(t,p,r)}
      } else {
        ${un(t,a,r)}
      }
    `;let d=e.getPropertyLocation("else"),h=t.mergedSchemasIds.get(s),m=null;return h?m=d0(t,h):(h=`__fjs_merged_${Wp++}`,t.mergedSchemasIds.set(s,h),m=p0(t,h,[a,d])),`
    if (validator.validate("${l}", ${r})) {
      ${un(t,p,r)}
    } else {
      ${un(t,m,r)}
    }
  `}function un(t,e,r){let i=e.schema;if(typeof i=="boolean")return`json += JSON.stringify(${r})`;if(i.$ref&&(e=Gp(t,e),i=e.schema),i.allOf)return BTe(t,e,r);if(i.anyOf||i.oneOf)return VTe(t,e,r);if(i.if&&i.then)return WTe(t,e,r);if(i.type===void 0){let a=qTe(i);a&&(i.type=a)}let n="",s=i.type,o=i.nullable===!0;return o&&(n+=`
      if (${r} === null) {
        json += JSON_STR_NULL
      } else {
    `),i.const!==void 0?n+=HTe(e,r):Array.isArray(s)?n+=UTe(t,e,r):n+=k3(t,e,r),o&&(n+=`
      }
    `),n}ju.exports=K1;ju.exports.default=K1;ju.exports.build=K1;ju.exports.validLargeArrayMechanisms=T3;ju.exports.restore=function({code:t,validator:e,serializer:r}){return Function.apply(null,["validator","serializer",t]).apply(null,[e,r])}});var N3=w((ont,J1)=>{"use strict";var GTe=Y1();function C3(t={readMode:!0}){if(t.readMode===!0&&typeof t.restoreFunction!="function")throw new Error("You must provide a function for the restoreFunction-option when readMode ON");if(t.readMode!==!0&&typeof t.storeFunction!="function")throw new Error("You must provide a function for the storeFunction-option when readMode OFF");if(t.readMode===!0)return function(){return function(i){return t.restoreFunction(i)}};let e=GTe();return function(i,n={}){n.mode="standalone";let s=e(i,n);return function(o){let a=s(o);return t.storeFunction(o,a),new Function(a)}}}J1.exports=C3;J1.exports.default=C3});var Y1=w((ant,Kp)=>{"use strict";var KTe=A3();function X1(){return function(e,r){let i=Object.assign({},r,{schema:e});return JTe.bind(null,i)}}function JTe(t,{schema:e}){return t.schema&&e.$id&&t.schema[e.$id]&&(t.schema={...t.schema},delete t.schema[e.$id]),KTe(e,t)}Kp.exports=X1;Kp.exports.default=X1;Kp.exports.SerializerSelector=X1;Kp.exports.StandaloneSerializer=N3()});var qu=w(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.regexpCode=gt.getEsmExportName=gt.getProperty=gt.safeStringify=gt.stringify=gt.strConcat=gt.addCodeArg=gt.str=gt._=gt.nil=gt._Code=gt.Name=gt.IDENTIFIER=gt._CodeOrName=void 0;var Jp=class{};gt._CodeOrName=Jp;gt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Bc=class extends Jp{constructor(e){if(super(),!gt.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};gt.Name=Bc;var Rn=class extends Jp{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,i)=>`${r}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,i)=>(i instanceof Bc&&(r[i.str]=(r[i.str]||0)+1),r),{})}};gt._Code=Rn;gt.nil=new Rn("");function I3(t,...e){let r=[t[0]],i=0;for(;i<e.length;)Q1(r,e[i]),r.push(t[++i]);return new Rn(r)}gt._=I3;var Z1=new Rn("+");function j3(t,...e){let r=[Yp(t[0])],i=0;for(;i<e.length;)r.push(Z1),Q1(r,e[i]),r.push(Z1,Yp(t[++i]));return YTe(r),new Rn(r)}gt.str=j3;function Q1(t,e){e instanceof Rn?t.push(...e._items):e instanceof Bc?t.push(e):t.push(QTe(e))}gt.addCodeArg=Q1;function YTe(t){let e=1;for(;e<t.length-1;){if(t[e]===Z1){let r=XTe(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function XTe(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Bc||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Bc))return`"${t}${e.slice(1)}`}function ZTe(t,e){return e.emptyStr()?t:t.emptyStr()?e:j3`${t}${e}`}gt.strConcat=ZTe;function QTe(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Yp(Array.isArray(t)?t.join(","):t)}function e1e(t){return new Rn(Yp(t))}gt.stringify=e1e;function Yp(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}gt.safeStringify=Yp;function t1e(t){return typeof t=="string"&&gt.IDENTIFIER.test(t)?new Rn(`.${t}`):I3`[${t}]`}gt.getProperty=t1e;function r1e(t){if(typeof t=="string"&&gt.IDENTIFIER.test(t))return new Rn(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}gt.getEsmExportName=r1e;function i1e(t){return new Rn(t.toString())}gt.regexpCode=i1e});var y0=w(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.ValueScope=Qi.ValueScopeName=Qi.Scope=Qi.varKinds=Qi.UsedValueState=void 0;var Zi=qu(),e$=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},h0;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(h0||(Qi.UsedValueState=h0={}));Qi.varKinds={const:new Zi.Name("const"),let:new Zi.Name("let"),var:new Zi.Name("var")};var m0=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof Zi.Name?e:this.name(e)}name(e){return new Zi.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,i;if(!((i=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Qi.Scope=m0;var g0=class extends Zi.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:i}){this.value=e,this.scopePath=(0,Zi._)`.${new Zi.Name(r)}[${i}]`}};Qi.ValueScopeName=g0;var n1e=(0,Zi._)`\n`,t$=class extends m0{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?n1e:Zi.nil}}get(){return this._scope}name(e){return new g0(e,this._newName(e))}value(e,r){var i;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:s}=n,o=(i=r.key)!==null&&i!==void 0?i:r.ref,a=this._values[s];if(a){let u=a.get(o);if(u)return u}else a=this._values[s]=new Map;a.set(o,n);let c=this._scope[s]||(this._scope[s]=[]),l=c.length;return c[l]=r.ref,n.setValue(r,{property:s,itemIndex:l}),n}getValue(e,r){let i=this._values[e];if(i)return i.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,Zi._)`${e}${i.scopePath}`})}scopeCode(e=this._values,r,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,i)}_reduceValues(e,r,i={},n){let s=Zi.nil;for(let o in e){let a=e[o];if(!a)continue;let c=i[o]=i[o]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,h0.Started);let u=r(l);if(u){let f=this.opts.es5?Qi.varKinds.var:Qi.varKinds.const;s=(0,Zi._)`${s}${f} ${l} = ${u};${this.opts._n}`}else if(u=n?.(l))s=(0,Zi._)`${s}${u}${this.opts._n}`;else throw new e$(l);c.set(l,h0.Completed)})}return s}};Qi.ValueScope=t$});var xe=w(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.or=Fe.and=Fe.not=Fe.CodeGen=Fe.operators=Fe.varKinds=Fe.ValueScopeName=Fe.ValueScope=Fe.Scope=Fe.Name=Fe.regexpCode=Fe.stringify=Fe.getProperty=Fe.nil=Fe.strConcat=Fe.str=Fe._=void 0;var ot=qu(),as=y0(),Ca=qu();Object.defineProperty(Fe,"_",{enumerable:!0,get:function(){return Ca._}});Object.defineProperty(Fe,"str",{enumerable:!0,get:function(){return Ca.str}});Object.defineProperty(Fe,"strConcat",{enumerable:!0,get:function(){return Ca.strConcat}});Object.defineProperty(Fe,"nil",{enumerable:!0,get:function(){return Ca.nil}});Object.defineProperty(Fe,"getProperty",{enumerable:!0,get:function(){return Ca.getProperty}});Object.defineProperty(Fe,"stringify",{enumerable:!0,get:function(){return Ca.stringify}});Object.defineProperty(Fe,"regexpCode",{enumerable:!0,get:function(){return Ca.regexpCode}});Object.defineProperty(Fe,"Name",{enumerable:!0,get:function(){return Ca.Name}});var w0=y0();Object.defineProperty(Fe,"Scope",{enumerable:!0,get:function(){return w0.Scope}});Object.defineProperty(Fe,"ValueScope",{enumerable:!0,get:function(){return w0.ValueScope}});Object.defineProperty(Fe,"ValueScopeName",{enumerable:!0,get:function(){return w0.ValueScopeName}});Object.defineProperty(Fe,"varKinds",{enumerable:!0,get:function(){return w0.varKinds}});Fe.operators={GT:new ot._Code(">"),GTE:new ot._Code(">="),LT:new ot._Code("<"),LTE:new ot._Code("<="),EQ:new ot._Code("==="),NEQ:new ot._Code("!=="),NOT:new ot._Code("!"),OR:new ot._Code("||"),AND:new ot._Code("&&"),ADD:new ot._Code("+")};var ko=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},r$=class extends ko{constructor(e,r,i){super(),this.varKind=e,this.name=r,this.rhs=i}render({es5:e,_n:r}){let i=e?as.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=Du(this.rhs,e,r)),this}get names(){return this.rhs instanceof ot._CodeOrName?this.rhs.names:{}}},v0=class extends ko{constructor(e,r,i){super(),this.lhs=e,this.rhs=r,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof ot.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Du(this.rhs,e,r),this}get names(){let e=this.lhs instanceof ot.Name?{}:{...this.lhs.names};return _0(e,this.rhs)}},i$=class extends v0{constructor(e,r,i,n){super(e,i,n),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},n$=class extends ko{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},s$=class extends ko{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},o$=class extends ko{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},a$=class extends ko{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Du(this.code,e,r),this}get names(){return this.code instanceof ot._CodeOrName?this.code.names:{}}},Xp=class extends ko{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,i)=>r+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let i=e[r].optimizeNodes();Array.isArray(i)?e.splice(r,1,...i):i?e[r]=i:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:i}=this,n=i.length;for(;n--;){let s=i[n];s.optimizeNames(e,r)||(s1e(e,s.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>Gc(e,r.names),{})}},Ao=class extends Xp{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},c$=class extends Xp{},Mu=class extends Ao{};Mu.kind="else";var Vc=class t extends Ao{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let i=r.optimizeNodes();r=this.else=Array.isArray(i)?new Mu(i):i}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(q3(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var i;if(this.else=(i=this.else)===null||i===void 0?void 0:i.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Du(this.condition,e,r),this}get names(){let e=super.names;return _0(e,this.condition),this.else&&Gc(e,this.else.names),e}};Vc.kind="if";var Wc=class extends Ao{};Wc.kind="for";var l$=class extends Wc{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=Du(this.iteration,e,r),this}get names(){return Gc(super.names,this.iteration.names)}},u$=class extends Wc{constructor(e,r,i,n){super(),this.varKind=e,this.name=r,this.from=i,this.to=n}render(e){let r=e.es5?as.varKinds.var:this.varKind,{name:i,from:n,to:s}=this;return`for(${r} ${i}=${n}; ${i}<${s}; ${i}++)`+super.render(e)}get names(){let e=_0(super.names,this.from);return _0(e,this.to)}},b0=class extends Wc{constructor(e,r,i,n){super(),this.loop=e,this.varKind=r,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=Du(this.iterable,e,r),this}get names(){return Gc(super.names,this.iterable.names)}},Zp=class extends Ao{constructor(e,r,i){super(),this.name=e,this.args=r,this.async=i}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Zp.kind="func";var Qp=class extends Xp{render(e){return"return "+super.render(e)}};Qp.kind="return";var f$=class extends Ao{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var i,n;return super.optimizeNames(e,r),(i=this.catch)===null||i===void 0||i.optimizeNames(e,r),(n=this.finally)===null||n===void 0||n.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&Gc(e,this.catch.names),this.finally&&Gc(e,this.finally.names),e}},eh=class extends Ao{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};eh.kind="catch";var th=class extends Ao{render(e){return"finally"+super.render(e)}};th.kind="finally";var d$=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new as.Scope({parent:e}),this._nodes=[new c$]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let i=this._extScope.value(e,r);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,i,n){let s=this._scope.toName(r);return i!==void 0&&n&&(this._constants[s.str]=i),this._leafNode(new r$(e,s,i)),s}const(e,r,i){return this._def(as.varKinds.const,e,r,i)}let(e,r,i){return this._def(as.varKinds.let,e,r,i)}var(e,r,i){return this._def(as.varKinds.var,e,r,i)}assign(e,r,i){return this._leafNode(new v0(e,r,i))}add(e,r){return this._leafNode(new i$(e,Fe.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==ot.nil&&this._leafNode(new a$(e)),this}object(...e){let r=["{"];for(let[i,n]of e)r.length>1&&r.push(","),r.push(i),(i!==n||this.opts.es5)&&(r.push(":"),(0,ot.addCodeArg)(r,n));return r.push("}"),new ot._Code(r)}if(e,r,i){if(this._blockNode(new Vc(e)),r&&i)this.code(r).else().code(i).endIf();else if(r)this.code(r).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Vc(e))}else(){return this._elseNode(new Mu)}endIf(){return this._endBlockNode(Vc,Mu)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new l$(e),r)}forRange(e,r,i,n,s=this.opts.es5?as.varKinds.var:as.varKinds.let){let o=this._scope.toName(e);return this._for(new u$(s,o,r,i),()=>n(o))}forOf(e,r,i,n=as.varKinds.const){let s=this._scope.toName(e);if(this.opts.es5){let o=r instanceof ot.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,ot._)`${o}.length`,a=>{this.var(s,(0,ot._)`${o}[${a}]`),i(s)})}return this._for(new b0("of",n,s,r),()=>i(s))}forIn(e,r,i,n=this.opts.es5?as.varKinds.var:as.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,ot._)`Object.keys(${r})`,i);let s=this._scope.toName(e);return this._for(new b0("in",n,s,r),()=>i(s))}endFor(){return this._endBlockNode(Wc)}label(e){return this._leafNode(new n$(e))}break(e){return this._leafNode(new s$(e))}return(e){let r=new Qp;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Qp)}try(e,r,i){if(!r&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new f$;if(this._blockNode(n),this.code(e),r){let s=this.name("e");this._currNode=n.catch=new eh(s),r(s)}return i&&(this._currNode=n.finally=new th,this.code(i)),this._endBlockNode(eh,th)}throw(e){return this._leafNode(new o$(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-r;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=ot.nil,i,n){return this._blockNode(new Zp(e,r,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(Zp)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let i=this._currNode;if(i instanceof e||r&&i instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Vc))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};Fe.CodeGen=d$;function Gc(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function _0(t,e){return e instanceof ot._CodeOrName?Gc(t,e.names):t}function Du(t,e,r){if(t instanceof ot.Name)return i(t);if(!n(t))return t;return new ot._Code(t._items.reduce((s,o)=>(o instanceof ot.Name&&(o=i(o)),o instanceof ot._Code?s.push(...o._items):s.push(o),s),[]));function i(s){let o=r[s.str];return o===void 0||e[s.str]!==1?s:(delete e[s.str],o)}function n(s){return s instanceof ot._Code&&s._items.some(o=>o instanceof ot.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function s1e(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function q3(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,ot._)`!${p$(t)}`}Fe.not=q3;var o1e=M3(Fe.operators.AND);function a1e(...t){return t.reduce(o1e)}Fe.and=a1e;var c1e=M3(Fe.operators.OR);function l1e(...t){return t.reduce(c1e)}Fe.or=l1e;function M3(t){return(e,r)=>e===ot.nil?r:r===ot.nil?e:(0,ot._)`${p$(e)} ${t} ${p$(r)}`}function p$(t){return t instanceof ot.Name?t:(0,ot._)`(${t})`}});var je=w(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.checkStrictMode=Ve.getErrorPath=Ve.Type=Ve.useFunc=Ve.setEvaluated=Ve.evaluatedPropsToName=Ve.mergeEvaluated=Ve.eachItem=Ve.unescapeJsonPointer=Ve.escapeJsonPointer=Ve.escapeFragment=Ve.unescapeFragment=Ve.schemaRefOrVal=Ve.schemaHasRulesButRef=Ve.schemaHasRules=Ve.checkUnknownRules=Ve.alwaysValidSchema=Ve.toHash=void 0;var Wt=xe(),u1e=qu();function f1e(t){let e={};for(let r of t)e[r]=!0;return e}Ve.toHash=f1e;function d1e(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(F3(t,e),!z3(e,t.self.RULES.all))}Ve.alwaysValidSchema=d1e;function F3(t,e=t.schema){let{opts:r,self:i}=t;if(!r.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let s in e)n[s]||B3(t,`unknown keyword: "${s}"`)}Ve.checkUnknownRules=F3;function z3(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}Ve.schemaHasRules=z3;function p1e(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}Ve.schemaHasRulesButRef=p1e;function h1e({topSchemaRef:t,schemaPath:e},r,i,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Wt._)`${r}`}return(0,Wt._)`${t}${e}${(0,Wt.getProperty)(i)}`}Ve.schemaRefOrVal=h1e;function m1e(t){return U3(decodeURIComponent(t))}Ve.unescapeFragment=m1e;function g1e(t){return encodeURIComponent(m$(t))}Ve.escapeFragment=g1e;function m$(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}Ve.escapeJsonPointer=m$;function U3(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Ve.unescapeJsonPointer=U3;function y1e(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}Ve.eachItem=y1e;function D3({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:i}){return(n,s,o,a)=>{let c=o===void 0?s:o instanceof Wt.Name?(s instanceof Wt.Name?t(n,s,o):e(n,s,o),o):s instanceof Wt.Name?(e(n,o,s),s):r(s,o);return a===Wt.Name&&!(c instanceof Wt.Name)?i(n,c):c}}Ve.mergeEvaluated={props:D3({mergeNames:(t,e,r)=>t.if((0,Wt._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Wt._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Wt._)`${r} || {}`).code((0,Wt._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Wt._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Wt._)`${r} || {}`),g$(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:H3}),items:D3({mergeNames:(t,e,r)=>t.if((0,Wt._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Wt._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Wt._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Wt._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function H3(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Wt._)`{}`);return e!==void 0&&g$(t,r,e),r}Ve.evaluatedPropsToName=H3;function g$(t,e,r){Object.keys(r).forEach(i=>t.assign((0,Wt._)`${e}${(0,Wt.getProperty)(i)}`,!0))}Ve.setEvaluated=g$;var L3={};function v1e(t,e){return t.scopeValue("func",{ref:e,code:L3[e.code]||(L3[e.code]=new u1e._Code(e.code))})}Ve.useFunc=v1e;var h$;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(h$||(Ve.Type=h$={}));function b1e(t,e,r){if(t instanceof Wt.Name){let i=e===h$.Num;return r?i?(0,Wt._)`"[" + ${t} + "]"`:(0,Wt._)`"['" + ${t} + "']"`:i?(0,Wt._)`"/" + ${t}`:(0,Wt._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Wt.getProperty)(t).toString():"/"+m$(t)}Ve.getErrorPath=b1e;function B3(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}Ve.checkStrictMode=B3});var Tn=w(y$=>{"use strict";Object.defineProperty(y$,"__esModule",{value:!0});var yi=xe(),_1e={data:new yi.Name("data"),valCxt:new yi.Name("valCxt"),instancePath:new yi.Name("instancePath"),parentData:new yi.Name("parentData"),parentDataProperty:new yi.Name("parentDataProperty"),rootData:new yi.Name("rootData"),dynamicAnchors:new yi.Name("dynamicAnchors"),vErrors:new yi.Name("vErrors"),errors:new yi.Name("errors"),this:new yi.Name("this"),self:new yi.Name("self"),scope:new yi.Name("scope"),json:new yi.Name("json"),jsonPos:new yi.Name("jsonPos"),jsonLen:new yi.Name("jsonLen"),jsonPart:new yi.Name("jsonPart")};y$.default=_1e});var rh=w(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.extendErrors=vi.resetErrorsCount=vi.reportExtraError=vi.reportError=vi.keyword$DataError=vi.keywordError=void 0;var dt=xe(),x0=je(),ji=Tn();vi.keywordError={message:({keyword:t})=>(0,dt.str)`must pass "${t}" keyword validation`};vi.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,dt.str)`"${t}" keyword must be ${e} ($data)`:(0,dt.str)`"${t}" keyword is invalid ($data)`};function w1e(t,e=vi.keywordError,r,i){let{it:n}=t,{gen:s,compositeRule:o,allErrors:a}=n,c=G3(t,e,r);i??(o||a)?V3(s,c):W3(n,(0,dt._)`[${c}]`)}vi.reportError=w1e;function x1e(t,e=vi.keywordError,r){let{it:i}=t,{gen:n,compositeRule:s,allErrors:o}=i,a=G3(t,e,r);V3(n,a),s||o||W3(i,ji.default.vErrors)}vi.reportExtraError=x1e;function S1e(t,e){t.assign(ji.default.errors,e),t.if((0,dt._)`${ji.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,dt._)`${ji.default.vErrors}.length`,e),()=>t.assign(ji.default.vErrors,null)))}vi.resetErrorsCount=S1e;function E1e({gen:t,keyword:e,schemaValue:r,data:i,errsCount:n,it:s}){if(n===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",n,ji.default.errors,a=>{t.const(o,(0,dt._)`${ji.default.vErrors}[${a}]`),t.if((0,dt._)`${o}.instancePath === undefined`,()=>t.assign((0,dt._)`${o}.instancePath`,(0,dt.strConcat)(ji.default.instancePath,s.errorPath))),t.assign((0,dt._)`${o}.schemaPath`,(0,dt.str)`${s.errSchemaPath}/${e}`),s.opts.verbose&&(t.assign((0,dt._)`${o}.schema`,r),t.assign((0,dt._)`${o}.data`,i))})}vi.extendErrors=E1e;function V3(t,e){let r=t.const("err",e);t.if((0,dt._)`${ji.default.vErrors} === null`,()=>t.assign(ji.default.vErrors,(0,dt._)`[${r}]`),(0,dt._)`${ji.default.vErrors}.push(${r})`),t.code((0,dt._)`${ji.default.errors}++`)}function W3(t,e){let{gen:r,validateName:i,schemaEnv:n}=t;n.$async?r.throw((0,dt._)`new ${t.ValidationError}(${e})`):(r.assign((0,dt._)`${i}.errors`,e),r.return(!1))}var Kc={keyword:new dt.Name("keyword"),schemaPath:new dt.Name("schemaPath"),params:new dt.Name("params"),propertyName:new dt.Name("propertyName"),message:new dt.Name("message"),schema:new dt.Name("schema"),parentSchema:new dt.Name("parentSchema")};function G3(t,e,r){let{createErrors:i}=t.it;return i===!1?(0,dt._)`{}`:R1e(t,e,r)}function R1e(t,e,r={}){let{gen:i,it:n}=t,s=[T1e(n,r),$1e(t,r)];return P1e(t,e,s),i.object(...s)}function T1e({errorPath:t},{instancePath:e}){let r=e?(0,dt.str)`${t}${(0,x0.getErrorPath)(e,x0.Type.Str)}`:t;return[ji.default.instancePath,(0,dt.strConcat)(ji.default.instancePath,r)]}function $1e({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:i}){let n=i?e:(0,dt.str)`${e}/${t}`;return r&&(n=(0,dt.str)`${n}${(0,x0.getErrorPath)(r,x0.Type.Str)}`),[Kc.schemaPath,n]}function P1e(t,{params:e,message:r},i){let{keyword:n,data:s,schemaValue:o,it:a}=t,{opts:c,propertyName:l,topSchemaRef:u,schemaPath:f}=a;i.push([Kc.keyword,n],[Kc.params,typeof e=="function"?e(t):e||(0,dt._)`{}`]),c.messages&&i.push([Kc.message,typeof r=="function"?r(t):r]),c.verbose&&i.push([Kc.schema,o],[Kc.parentSchema,(0,dt._)`${u}${f}`],[ji.default.data,s]),l&&i.push([Kc.propertyName,l])}});var J3=w(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.boolOrEmptySchema=Lu.topBoolOrEmptySchema=void 0;var O1e=rh(),k1e=xe(),A1e=Tn(),C1e={message:"boolean schema is false"};function N1e(t){let{gen:e,schema:r,validateName:i}=t;r===!1?K3(t,!1):typeof r=="object"&&r.$async===!0?e.return(A1e.default.data):(e.assign((0,k1e._)`${i}.errors`,null),e.return(!0))}Lu.topBoolOrEmptySchema=N1e;function I1e(t,e){let{gen:r,schema:i}=t;i===!1?(r.var(e,!1),K3(t)):r.var(e,!0)}Lu.boolOrEmptySchema=I1e;function K3(t,e){let{gen:r,data:i}=t,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,O1e.reportError)(n,C1e,void 0,e)}});var v$=w(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.getRules=Fu.isJSONType=void 0;var j1e=["string","number","integer","boolean","null","object","array"],q1e=new Set(j1e);function M1e(t){return typeof t=="string"&&q1e.has(t)}Fu.isJSONType=M1e;function D1e(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Fu.getRules=D1e});var b$=w(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.shouldUseRule=Na.shouldUseGroup=Na.schemaHasRulesForType=void 0;function L1e({schema:t,self:e},r){let i=e.RULES.types[r];return i&&i!==!0&&Y3(t,i)}Na.schemaHasRulesForType=L1e;function Y3(t,e){return e.rules.some(r=>X3(t,r))}Na.shouldUseGroup=Y3;function X3(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(i=>t[i]!==void 0))}Na.shouldUseRule=X3});var ih=w(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.reportTypeError=bi.checkDataTypes=bi.checkDataType=bi.coerceAndCheckDataType=bi.getJSONTypes=bi.getSchemaTypes=bi.DataType=void 0;var F1e=v$(),z1e=b$(),U1e=rh(),Ae=xe(),Z3=je(),zu;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(zu||(bi.DataType=zu={}));function H1e(t){let e=Q3(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}bi.getSchemaTypes=H1e;function Q3(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(F1e.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}bi.getJSONTypes=Q3;function B1e(t,e){let{gen:r,data:i,opts:n}=t,s=V1e(e,n.coerceTypes),o=e.length>0&&!(s.length===0&&e.length===1&&(0,z1e.schemaHasRulesForType)(t,e[0]));if(o){let a=w$(e,i,n.strictNumbers,zu.Wrong);r.if(a,()=>{s.length?W1e(t,e,s):x$(t)})}return o}bi.coerceAndCheckDataType=B1e;var eV=new Set(["string","number","integer","boolean","null"]);function V1e(t,e){return e?t.filter(r=>eV.has(r)||e==="array"&&r==="array"):[]}function W1e(t,e,r){let{gen:i,data:n,opts:s}=t,o=i.let("dataType",(0,Ae._)`typeof ${n}`),a=i.let("coerced",(0,Ae._)`undefined`);s.coerceTypes==="array"&&i.if((0,Ae._)`${o} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,Ae._)`${n}[0]`).assign(o,(0,Ae._)`typeof ${n}`).if(w$(e,n,s.strictNumbers),()=>i.assign(a,n))),i.if((0,Ae._)`${a} !== undefined`);for(let l of r)(eV.has(l)||l==="array"&&s.coerceTypes==="array")&&c(l);i.else(),x$(t),i.endIf(),i.if((0,Ae._)`${a} !== undefined`,()=>{i.assign(n,a),G1e(t,a)});function c(l){switch(l){case"string":i.elseIf((0,Ae._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,Ae._)`"" + ${n}`).elseIf((0,Ae._)`${n} === null`).assign(a,(0,Ae._)`""`);return;case"number":i.elseIf((0,Ae._)`${o} == "boolean" || ${n} === null
              || (${o} == "string" && ${n} && ${n} == +${n})`).assign(a,(0,Ae._)`+${n}`);return;case"integer":i.elseIf((0,Ae._)`${o} === "boolean" || ${n} === null
              || (${o} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(a,(0,Ae._)`+${n}`);return;case"boolean":i.elseIf((0,Ae._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(a,!1).elseIf((0,Ae._)`${n} === "true" || ${n} === 1`).assign(a,!0);return;case"null":i.elseIf((0,Ae._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(a,null);return;case"array":i.elseIf((0,Ae._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${n} === null`).assign(a,(0,Ae._)`[${n}]`)}}}function G1e({gen:t,parentData:e,parentDataProperty:r},i){t.if((0,Ae._)`${e} !== undefined`,()=>t.assign((0,Ae._)`${e}[${r}]`,i))}function _$(t,e,r,i=zu.Correct){let n=i===zu.Correct?Ae.operators.EQ:Ae.operators.NEQ,s;switch(t){case"null":return(0,Ae._)`${e} ${n} null`;case"array":s=(0,Ae._)`Array.isArray(${e})`;break;case"object":s=(0,Ae._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=o((0,Ae._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=o();break;default:return(0,Ae._)`typeof ${e} ${n} ${t}`}return i===zu.Correct?s:(0,Ae.not)(s);function o(a=Ae.nil){return(0,Ae.and)((0,Ae._)`typeof ${e} == "number"`,a,r?(0,Ae._)`isFinite(${e})`:Ae.nil)}}bi.checkDataType=_$;function w$(t,e,r,i){if(t.length===1)return _$(t[0],e,r,i);let n,s=(0,Z3.toHash)(t);if(s.array&&s.object){let o=(0,Ae._)`typeof ${e} != "object"`;n=s.null?o:(0,Ae._)`!${e} || ${o}`,delete s.null,delete s.array,delete s.object}else n=Ae.nil;s.number&&delete s.integer;for(let o in s)n=(0,Ae.and)(n,_$(o,e,r,i));return n}bi.checkDataTypes=w$;var K1e={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,Ae._)`{type: ${t}}`:(0,Ae._)`{type: ${e}}`};function x$(t){let e=J1e(t);(0,U1e.reportError)(e,K1e)}bi.reportTypeError=x$;function J1e(t){let{gen:e,data:r,schema:i}=t,n=(0,Z3.schemaRefOrVal)(t,i,"type");return{gen:e,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:t}}});var rV=w(S0=>{"use strict";Object.defineProperty(S0,"__esModule",{value:!0});S0.assignDefaults=void 0;var Uu=xe(),Y1e=je();function X1e(t,e){let{properties:r,items:i}=t.schema;if(e==="object"&&r)for(let n in r)tV(t,n,r[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,s)=>tV(t,s,n.default))}S0.assignDefaults=X1e;function tV(t,e,r){let{gen:i,compositeRule:n,data:s,opts:o}=t;if(r===void 0)return;let a=(0,Uu._)`${s}${(0,Uu.getProperty)(e)}`;if(n){(0,Y1e.checkStrictMode)(t,`default is ignored for: ${a}`);return}let c=(0,Uu._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,Uu._)`${c} || ${a} === null || ${a} === ""`),i.if(c,(0,Uu._)`${a} = ${(0,Uu.stringify)(r)}`)}});var Yr=w(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.validateUnion=Dt.validateArray=Dt.usePattern=Dt.callValidateCode=Dt.schemaProperties=Dt.allSchemaProperties=Dt.noPropertyInData=Dt.propertyInData=Dt.isOwnProperty=Dt.hasPropFunc=Dt.reportMissingProp=Dt.checkMissingProp=Dt.checkReportMissingProp=void 0;var tr=xe(),S$=je(),Ia=Tn(),Z1e=je();function Q1e(t,e){let{gen:r,data:i,it:n}=t;r.if(R$(r,i,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,tr._)`${e}`},!0),t.error()})}Dt.checkReportMissingProp=Q1e;function e$e({gen:t,data:e,it:{opts:r}},i,n){return(0,tr.or)(...i.map(s=>(0,tr.and)(R$(t,e,s,r.ownProperties),(0,tr._)`${n} = ${s}`)))}Dt.checkMissingProp=e$e;function t$e(t,e){t.setParams({missingProperty:e},!0),t.error()}Dt.reportMissingProp=t$e;function iV(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,tr._)`Object.prototype.hasOwnProperty`})}Dt.hasPropFunc=iV;function E$(t,e,r){return(0,tr._)`${iV(t)}.call(${e}, ${r})`}Dt.isOwnProperty=E$;function r$e(t,e,r,i){let n=(0,tr._)`${e}${(0,tr.getProperty)(r)} !== undefined`;return i?(0,tr._)`${n} && ${E$(t,e,r)}`:n}Dt.propertyInData=r$e;function R$(t,e,r,i){let n=(0,tr._)`${e}${(0,tr.getProperty)(r)} === undefined`;return i?(0,tr.or)(n,(0,tr.not)(E$(t,e,r))):n}Dt.noPropertyInData=R$;function nV(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Dt.allSchemaProperties=nV;function i$e(t,e){return nV(e).filter(r=>!(0,S$.alwaysValidSchema)(t,e[r]))}Dt.schemaProperties=i$e;function n$e({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:s},it:o},a,c,l){let u=l?(0,tr._)`${t}, ${e}, ${i}${n}`:e,f=[[Ia.default.instancePath,(0,tr.strConcat)(Ia.default.instancePath,s)],[Ia.default.parentData,o.parentData],[Ia.default.parentDataProperty,o.parentDataProperty],[Ia.default.rootData,Ia.default.rootData]];o.opts.dynamicRef&&f.push([Ia.default.dynamicAnchors,Ia.default.dynamicAnchors]);let p=(0,tr._)`${u}, ${r.object(...f)}`;return c!==tr.nil?(0,tr._)`${a}.call(${c}, ${p})`:(0,tr._)`${a}(${p})`}Dt.callValidateCode=n$e;var s$e=(0,tr._)`new RegExp`;function o$e({gen:t,it:{opts:e}},r){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,s=n(r,i);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,tr._)`${n.code==="new RegExp"?s$e:(0,Z1e.useFunc)(t,n)}(${r}, ${i})`})}Dt.usePattern=o$e;function a$e(t){let{gen:e,data:r,keyword:i,it:n}=t,s=e.name("valid");if(n.allErrors){let a=e.let("valid",!0);return o(()=>e.assign(a,!1)),a}return e.var(s,!0),o(()=>e.break()),s;function o(a){let c=e.const("len",(0,tr._)`${r}.length`);e.forRange("i",0,c,l=>{t.subschema({keyword:i,dataProp:l,dataPropType:S$.Type.Num},s),e.if((0,tr.not)(s),a)})}}Dt.validateArray=a$e;function c$e(t){let{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,S$.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;let o=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((c,l)=>{let u=t.subschema({keyword:i,schemaProp:l,compositeRule:!0},a);e.assign(o,(0,tr._)`${o} || ${a}`),t.mergeValidEvaluated(u,a)||e.if((0,tr.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}Dt.validateUnion=c$e});var aV=w(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.validateKeywordUsage=Ds.validSchemaType=Ds.funcKeywordCode=Ds.macroKeywordCode=void 0;var qi=xe(),Jc=Tn(),l$e=Yr(),u$e=rh();function f$e(t,e){let{gen:r,keyword:i,schema:n,parentSchema:s,it:o}=t,a=e.macro.call(o.self,n,s,o),c=oV(r,i,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let l=r.name("valid");t.subschema({schema:a,schemaPath:qi.nil,errSchemaPath:`${o.errSchemaPath}/${i}`,topSchemaRef:c,compositeRule:!0},l),t.pass(l,()=>t.error(!0))}Ds.macroKeywordCode=f$e;function d$e(t,e){var r;let{gen:i,keyword:n,schema:s,parentSchema:o,$data:a,it:c}=t;h$e(c,e);let l=!a&&e.compile?e.compile.call(c.self,s,o,c):e.validate,u=oV(i,n,l),f=i.let("valid");t.block$data(f,p),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function p(){if(e.errors===!1)m(),e.modifying&&sV(t),v(()=>t.error());else{let y=e.async?d():h();e.modifying&&sV(t),v(()=>p$e(t,y))}}function d(){let y=i.let("ruleErrs",null);return i.try(()=>m((0,qi._)`await `),E=>i.assign(f,!1).if((0,qi._)`${E} instanceof ${c.ValidationError}`,()=>i.assign(y,(0,qi._)`${E}.errors`),()=>i.throw(E))),y}function h(){let y=(0,qi._)`${u}.errors`;return i.assign(y,null),m(qi.nil),y}function m(y=e.async?(0,qi._)`await `:qi.nil){let E=c.opts.passContext?Jc.default.this:Jc.default.self,_=!("compile"in e&&!a||e.schema===!1);i.assign(f,(0,qi._)`${y}${(0,l$e.callValidateCode)(t,u,E,_)}`,e.modifying)}function v(y){var E;i.if((0,qi.not)((E=e.valid)!==null&&E!==void 0?E:f),y)}}Ds.funcKeywordCode=d$e;function sV(t){let{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,(0,qi._)`${i.parentData}[${i.parentDataProperty}]`))}function p$e(t,e){let{gen:r}=t;r.if((0,qi._)`Array.isArray(${e})`,()=>{r.assign(Jc.default.vErrors,(0,qi._)`${Jc.default.vErrors} === null ? ${e} : ${Jc.default.vErrors}.concat(${e})`).assign(Jc.default.errors,(0,qi._)`${Jc.default.vErrors}.length`),(0,u$e.extendErrors)(t)},()=>t.error())}function h$e({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function oV(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,qi.stringify)(r)})}function m$e(t,e,r=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||r&&typeof t>"u")}Ds.validSchemaType=m$e;function g$e({schema:t,opts:e,self:r,errSchemaPath:i},n,s){if(Array.isArray(n.keyword)?!n.keyword.includes(s):n.keyword!==s)throw new Error("ajv implementation error");let o=n.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[s])){let c=`keyword "${s}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Ds.validateKeywordUsage=g$e});var lV=w(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.extendSubschemaMode=ja.extendSubschemaData=ja.getSubschema=void 0;var Ls=xe(),cV=je();function y$e(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:s,topSchemaRef:o}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,Ls._)`${t.schemaPath}${(0,Ls.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,Ls._)`${t.schemaPath}${(0,Ls.getProperty)(e)}${(0,Ls.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,cV.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}ja.getSubschema=y$e;function v$e(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:s,propertyName:o}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:l,dataPathArr:u,opts:f}=e,p=a.let("data",(0,Ls._)`${e.data}${(0,Ls.getProperty)(r)}`,!0);c(p),t.errorPath=(0,Ls.str)`${l}${(0,cV.getErrorPath)(r,i,f.jsPropertySyntax)}`,t.parentDataProperty=(0,Ls._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(n!==void 0){let l=n instanceof Ls.Name?n:a.let("data",n,!0);c(l),o!==void 0&&(t.propertyName=o)}s&&(t.dataTypes=s);function c(l){t.data=l,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,l]}}ja.extendSubschemaData=v$e;function b$e(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:s}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}ja.extendSubschemaMode=b$e});var fV=w((xnt,uV)=>{"use strict";var qa=uV.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};E0(e,i,n,t,"",t)};qa.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};qa.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};qa.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};qa.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function E0(t,e,r,i,n,s,o,a,c,l){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,s,o,a,c,l);for(var u in i){var f=i[u];if(Array.isArray(f)){if(u in qa.arrayKeywords)for(var p=0;p<f.length;p++)E0(t,e,r,f[p],n+"/"+u+"/"+p,s,n,u,i,p)}else if(u in qa.propsKeywords){if(f&&typeof f=="object")for(var d in f)E0(t,e,r,f[d],n+"/"+u+"/"+_$e(d),s,n,u,i,d)}else(u in qa.keywords||t.allKeys&&!(u in qa.skipKeywords))&&E0(t,e,r,f,n+"/"+u,s,n,u,i)}r(i,n,s,o,a,c,l)}}function _$e(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var nh=w(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.getSchemaRefs=en.resolveUrl=en.normalizeId=en._getFullPath=en.getFullPath=en.inlineRef=void 0;var w$e=je(),x$e=bn(),S$e=fV(),E$e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function R$e(t,e=!0){return typeof t=="boolean"?!0:e===!0?!T$(t):e?dV(t)<=e:!1}en.inlineRef=R$e;var T$e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function T$(t){for(let e in t){if(T$e.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(T$)||typeof r=="object"&&T$(r))return!0}return!1}function dV(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!E$e.has(r)&&(typeof t[r]=="object"&&(0,w$e.eachItem)(t[r],i=>e+=dV(i)),e===1/0))return 1/0}return e}function pV(t,e="",r){r!==!1&&(e=Hu(e));let i=t.parse(e);return hV(t,i)}en.getFullPath=pV;function hV(t,e){return t.serialize(e).split("#")[0]+"#"}en._getFullPath=hV;var $$e=/#\/?$/;function Hu(t){return t?t.replace($$e,""):""}en.normalizeId=Hu;function P$e(t,e,r){return r=Hu(r),t.resolve(e,r)}en.resolveUrl=P$e;var O$e=/^[a-z_][-a-z0-9._]*$/i;function k$e(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:i}=this.opts,n=Hu(t[r]||e),s={"":n},o=pV(i,n,!1),a={},c=new Set;return S$e(t,{allKeys:!0},(f,p,d,h)=>{if(h===void 0)return;let m=o+p,v=s[h];typeof f[r]=="string"&&(v=y.call(this,f[r])),E.call(this,f.$anchor),E.call(this,f.$dynamicAnchor),s[p]=v;function y(_){let b=this.opts.uriResolver.resolve;if(_=Hu(v?b(v,_):_),c.has(_))throw u(_);c.add(_);let $=this.refs[_];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?l(f,$.schema,_):_!==Hu(m)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=m),_}function E(_){if(typeof _=="string"){if(!O$e.test(_))throw new Error(`invalid anchor "${_}"`);y.call(this,`#${_}`)}}}),a;function l(f,p,d){if(p!==void 0&&!x$e(f,p))throw u(d)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}en.getSchemaRefs=k$e});var Bu=w(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.getData=Ma.KeywordCxt=Ma.validateFunctionCode=void 0;var bV=J3(),mV=ih(),P$=b$(),R0=ih(),A$e=rV(),oh=aV(),$$=lV(),ge=xe(),Te=Tn(),C$e=nh(),Co=je(),sh=rh();function N$e(t){if(xV(t)&&(SV(t),wV(t))){q$e(t);return}_V(t,()=>(0,bV.topBoolOrEmptySchema)(t))}Ma.validateFunctionCode=N$e;function _V({gen:t,validateName:e,schema:r,schemaEnv:i,opts:n},s){n.code.es5?t.func(e,(0,ge._)`${Te.default.data}, ${Te.default.valCxt}`,i.$async,()=>{t.code((0,ge._)`"use strict"; ${gV(r,n)}`),j$e(t,n),t.code(s)}):t.func(e,(0,ge._)`${Te.default.data}, ${I$e(n)}`,i.$async,()=>t.code(gV(r,n)).code(s))}function I$e(t){return(0,ge._)`{${Te.default.instancePath}="", ${Te.default.parentData}, ${Te.default.parentDataProperty}, ${Te.default.rootData}=${Te.default.data}${t.dynamicRef?(0,ge._)`, ${Te.default.dynamicAnchors}={}`:ge.nil}}={}`}function j$e(t,e){t.if(Te.default.valCxt,()=>{t.var(Te.default.instancePath,(0,ge._)`${Te.default.valCxt}.${Te.default.instancePath}`),t.var(Te.default.parentData,(0,ge._)`${Te.default.valCxt}.${Te.default.parentData}`),t.var(Te.default.parentDataProperty,(0,ge._)`${Te.default.valCxt}.${Te.default.parentDataProperty}`),t.var(Te.default.rootData,(0,ge._)`${Te.default.valCxt}.${Te.default.rootData}`),e.dynamicRef&&t.var(Te.default.dynamicAnchors,(0,ge._)`${Te.default.valCxt}.${Te.default.dynamicAnchors}`)},()=>{t.var(Te.default.instancePath,(0,ge._)`""`),t.var(Te.default.parentData,(0,ge._)`undefined`),t.var(Te.default.parentDataProperty,(0,ge._)`undefined`),t.var(Te.default.rootData,Te.default.data),e.dynamicRef&&t.var(Te.default.dynamicAnchors,(0,ge._)`{}`)})}function q$e(t){let{schema:e,opts:r,gen:i}=t;_V(t,()=>{r.$comment&&e.$comment&&RV(t),z$e(t),i.let(Te.default.vErrors,null),i.let(Te.default.errors,0),r.unevaluated&&M$e(t),EV(t),B$e(t)})}function M$e(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,ge._)`${r}.evaluated`),e.if((0,ge._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,ge._)`${t.evaluated}.props`,(0,ge._)`undefined`)),e.if((0,ge._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,ge._)`${t.evaluated}.items`,(0,ge._)`undefined`))}function gV(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,ge._)`/*# sourceURL=${r} */`:ge.nil}function D$e(t,e){if(xV(t)&&(SV(t),wV(t))){L$e(t,e);return}(0,bV.boolOrEmptySchema)(t,e)}function wV({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function xV(t){return typeof t.schema!="boolean"}function L$e(t,e){let{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&RV(t),U$e(t),H$e(t);let s=i.const("_errs",Te.default.errors);EV(t,s),i.var(e,(0,ge._)`${s} === ${Te.default.errors}`)}function SV(t){(0,Co.checkUnknownRules)(t),F$e(t)}function EV(t,e){if(t.opts.jtd)return yV(t,[],!1,e);let r=(0,mV.getSchemaTypes)(t.schema),i=(0,mV.coerceAndCheckDataType)(t,r);yV(t,r,!i,e)}function F$e(t){let{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&(0,Co.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function z$e(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Co.checkStrictMode)(t,"default is ignored in the schema root")}function U$e(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,C$e.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function H$e(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function RV({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){let s=r.$comment;if(n.$comment===!0)t.code((0,ge._)`${Te.default.self}.logger.log(${s})`);else if(typeof n.$comment=="function"){let o=(0,ge.str)`${i}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,ge._)`${Te.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function B$e(t){let{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:s}=t;r.$async?e.if((0,ge._)`${Te.default.errors} === 0`,()=>e.return(Te.default.data),()=>e.throw((0,ge._)`new ${n}(${Te.default.vErrors})`)):(e.assign((0,ge._)`${i}.errors`,Te.default.vErrors),s.unevaluated&&V$e(t),e.return((0,ge._)`${Te.default.errors} === 0`))}function V$e({gen:t,evaluated:e,props:r,items:i}){r instanceof ge.Name&&t.assign((0,ge._)`${e}.props`,r),i instanceof ge.Name&&t.assign((0,ge._)`${e}.items`,i)}function yV(t,e,r,i){let{gen:n,schema:s,data:o,allErrors:a,opts:c,self:l}=t,{RULES:u}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,Co.schemaHasRulesButRef)(s,u))){n.block(()=>$V(t,"$ref",u.all.$ref.definition));return}c.jtd||W$e(t,e),n.block(()=>{for(let p of u.rules)f(p);f(u.post)});function f(p){(0,P$.shouldUseGroup)(s,p)&&(p.type?(n.if((0,R0.checkDataType)(p.type,o,c.strictNumbers)),vV(t,p),e.length===1&&e[0]===p.type&&r&&(n.else(),(0,R0.reportTypeError)(t)),n.endIf()):vV(t,p),a||n.if((0,ge._)`${Te.default.errors} === ${i||0}`))}}function vV(t,e){let{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&(0,A$e.assignDefaults)(t,e.type),r.block(()=>{for(let s of e.rules)(0,P$.shouldUseRule)(i,s)&&$V(t,s.keyword,s.definition,e.type)})}function W$e(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(G$e(t,e),t.opts.allowUnionTypes||K$e(t,e),J$e(t,t.dataTypes))}function G$e(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{TV(t.dataTypes,r)||O$(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),X$e(t,e)}}function K$e(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&O$(t,"use allowUnionTypes to allow union type keyword")}function J$e(t,e){let r=t.self.RULES.all;for(let i in r){let n=r[i];if(typeof n=="object"&&(0,P$.shouldUseRule)(t.schema,n)){let{type:s}=n.definition;s.length&&!s.some(o=>Y$e(e,o))&&O$(t,`missing type "${s.join(",")}" for keyword "${i}"`)}}}function Y$e(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function TV(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function X$e(t,e){let r=[];for(let i of t.dataTypes)TV(e,i)?r.push(i):e.includes("integer")&&i==="number"&&r.push("integer");t.dataTypes=r}function O$(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Co.checkStrictMode)(t,e,t.opts.strictTypes)}var T0=class{constructor(e,r,i){if((0,oh.validateKeywordUsage)(e,r,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Co.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",PV(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,oh.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Te.default.errors))}result(e,r,i){this.failResult((0,ge.not)(e),r,i)}failResult(e,r,i){this.gen.if(e),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,ge.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,ge._)`${r} !== undefined && (${(0,ge.or)(this.invalid$data(),e)})`)}error(e,r,i){if(r){this.setParams(r),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,r){(e?sh.reportExtraError:sh.reportError)(this,this.def.error,r)}$dataError(){(0,sh.reportError)(this,this.def.$dataError||sh.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,sh.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,i=ge.nil){this.gen.block(()=>{this.check$data(e,i),r()})}check$data(e=ge.nil,r=ge.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:s,def:o}=this;i.if((0,ge.or)((0,ge._)`${n} === undefined`,r)),e!==ge.nil&&i.assign(e,!0),(s.length||o.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==ge.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:i,def:n,it:s}=this;return(0,ge.or)(o(),a());function o(){if(i.length){if(!(r instanceof ge.Name))throw new Error("ajv implementation error");let c=Array.isArray(i)?i:[i];return(0,ge._)`${(0,R0.checkDataTypes)(c,r,s.opts.strictNumbers,R0.DataType.Wrong)}`}return ge.nil}function a(){if(n.validateSchema){let c=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,ge._)`!${c}(${r})`}return ge.nil}}subschema(e,r){let i=(0,$$.getSubschema)(this.it,e);(0,$$.extendSubschemaData)(i,this.it,e),(0,$$.extendSubschemaMode)(i,e);let n={...this.it,...i,items:void 0,props:void 0};return D$e(n,r),n}mergeEvaluated(e,r){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=Co.mergeEvaluated.props(n,e.props,i.props,r)),i.items!==!0&&e.items!==void 0&&(i.items=Co.mergeEvaluated.items(n,e.items,i.items,r)))}mergeValidEvaluated(e,r){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,ge.Name)),!0}};Ma.KeywordCxt=T0;function $V(t,e,r,i){let n=new T0(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?(0,oh.funcKeywordCode)(n,r):"macro"in r?(0,oh.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,oh.funcKeywordCode)(n,r)}var Z$e=/^\/(?:[^~]|~0|~1)*$/,Q$e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function PV(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,s;if(t==="")return Te.default.rootData;if(t[0]==="/"){if(!Z$e.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,s=Te.default.rootData}else{let l=Q$e.exec(t);if(!l)throw new Error(`Invalid JSON-pointer: ${t}`);let u=+l[1];if(n=l[2],n==="#"){if(u>=e)throw new Error(c("property/index",u));return i[e-u]}if(u>e)throw new Error(c("data",u));if(s=r[e-u],!n)return s}let o=s,a=n.split("/");for(let l of a)l&&(s=(0,ge._)`${s}${(0,ge.getProperty)((0,Co.unescapeJsonPointer)(l))}`,o=(0,ge._)`${o} && ${s}`);return o;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${e}`}}Ma.getData=PV});var ah=w(A$=>{"use strict";Object.defineProperty(A$,"__esModule",{value:!0});var k$=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};A$.default=k$});var No=w(I$=>{"use strict";Object.defineProperty(I$,"__esModule",{value:!0});var C$=nh(),N$=class extends Error{constructor(e,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,C$.resolveUrl)(e,r,i),this.missingSchema=(0,C$.normalizeId)((0,C$.getFullPath)(e,this.missingRef))}};I$.default=N$});var Xc=w($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.resolveSchema=$n.getCompilingSchema=$n.resolveRef=$n.compileSchema=$n.SchemaEnv=void 0;var cs=xe(),ePe=ah(),Yc=Tn(),ls=nh(),OV=je(),tPe=Bu(),Vu=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,ls.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};$n.SchemaEnv=Vu;function q$(t){let e=kV.call(this,t);if(e)return e;let r=(0,ls.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,o=new cs.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s}),a;t.$async&&(a=o.scopeValue("Error",{ref:ePe.default,code:(0,cs._)`require("ajv/dist/runtime/validation_error").default`}));let c=o.scopeName("validate");t.validateName=c;let l={gen:o,allErrors:this.opts.allErrors,data:Yc.default.data,parentData:Yc.default.parentData,parentDataProperty:Yc.default.parentDataProperty,dataNames:[Yc.default.data],dataPathArr:[cs.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,cs.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:cs.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,cs._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(t),(0,tPe.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let f=o.toString();u=`${o.scopeRefs(Yc.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,t));let d=new Function(`${Yc.default.self}`,`${Yc.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:d}),d.errors=null,d.schema=t.schema,d.schemaEnv=t,t.$async&&(d.$async=!0),this.opts.code.source===!0&&(d.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){let{props:h,items:m}=l;d.evaluated={props:h instanceof cs.Name?void 0:h,items:m instanceof cs.Name?void 0:m,dynamicProps:h instanceof cs.Name,dynamicItems:m instanceof cs.Name},d.source&&(d.source.evaluated=(0,cs.stringify)(d.evaluated))}return t.validate=d,t}catch(f){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(t)}}$n.compileSchema=q$;function rPe(t,e,r){var i;r=(0,ls.resolveUrl)(this.opts.uriResolver,e,r);let n=t.refs[r];if(n)return n;let s=sPe.call(this,t,r);if(s===void 0){let o=(i=t.localRefs)===null||i===void 0?void 0:i[r],{schemaId:a}=this.opts;o&&(s=new Vu({schema:o,schemaId:a,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=iPe.call(this,s)}$n.resolveRef=rPe;function iPe(t){return(0,ls.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:q$.call(this,t)}function kV(t){for(let e of this._compilations)if(nPe(e,t))return e}$n.getCompilingSchema=kV;function nPe(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function sPe(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||$0.call(this,t,e)}function $0(t,e){let r=this.opts.uriResolver.parse(e),i=(0,ls._getFullPath)(this.opts.uriResolver,r),n=(0,ls.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return j$.call(this,r,t);let s=(0,ls.normalizeId)(i),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=$0.call(this,t,o);return typeof a?.schema!="object"?void 0:j$.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||q$.call(this,o),s===(0,ls.normalizeId)(e)){let{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(n=(0,ls.resolveUrl)(this.opts.uriResolver,n,l)),new Vu({schema:a,schemaId:c,root:t,baseId:n})}return j$.call(this,r,o)}}$n.resolveSchema=$0;var oPe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function j$(t,{baseId:e,schema:r,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,OV.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!oPe.has(a)&&l&&(e=(0,ls.resolveUrl)(this.opts.uriResolver,e,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,OV.schemaHasRulesButRef)(r,this.RULES)){let a=(0,ls.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=$0.call(this,i,a)}let{schemaId:o}=this.opts;if(s=s||new Vu({schema:r,schemaId:o,root:i,baseId:e}),s.schema!==s.root.schema)return s}});var AV=w((Pnt,aPe)=>{aPe.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var NV=w(M$=>{"use strict";Object.defineProperty(M$,"__esModule",{value:!0});var CV=zv();CV.code='require("ajv/dist/runtime/uri").default';M$.default=CV});var F$=w(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.CodeGen=Xr.Name=Xr.nil=Xr.stringify=Xr.str=Xr._=Xr.KeywordCxt=void 0;var cPe=Bu();Object.defineProperty(Xr,"KeywordCxt",{enumerable:!0,get:function(){return cPe.KeywordCxt}});var Wu=xe();Object.defineProperty(Xr,"_",{enumerable:!0,get:function(){return Wu._}});Object.defineProperty(Xr,"str",{enumerable:!0,get:function(){return Wu.str}});Object.defineProperty(Xr,"stringify",{enumerable:!0,get:function(){return Wu.stringify}});Object.defineProperty(Xr,"nil",{enumerable:!0,get:function(){return Wu.nil}});Object.defineProperty(Xr,"Name",{enumerable:!0,get:function(){return Wu.Name}});Object.defineProperty(Xr,"CodeGen",{enumerable:!0,get:function(){return Wu.CodeGen}});var lPe=ah(),DV=No(),uPe=v$(),ch=Xc(),fPe=xe(),lh=nh(),P0=ih(),L$=je(),IV=AV(),dPe=NV(),LV=(t,e)=>new RegExp(t,e);LV.code="new RegExp";var pPe=["removeAdditional","useDefaults","coerceTypes"],hPe=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),mPe={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},gPe={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},jV=200;function yPe(t){var e,r,i,n,s,o,a,c,l,u,f,p,d,h,m,v,y,E,_,b,$,k,O,N,L;let T=t.strict,g=(e=t.code)===null||e===void 0?void 0:e.optimize,x=g===!0||g===void 0?1:g||0,R=(i=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&i!==void 0?i:LV,P=(n=t.uriResolver)!==null&&n!==void 0?n:dPe.default;return{strictSchema:(o=(s=t.strictSchema)!==null&&s!==void 0?s:T)!==null&&o!==void 0?o:!0,strictNumbers:(c=(a=t.strictNumbers)!==null&&a!==void 0?a:T)!==null&&c!==void 0?c:!0,strictTypes:(u=(l=t.strictTypes)!==null&&l!==void 0?l:T)!==null&&u!==void 0?u:"log",strictTuples:(p=(f=t.strictTuples)!==null&&f!==void 0?f:T)!==null&&p!==void 0?p:"log",strictRequired:(h=(d=t.strictRequired)!==null&&d!==void 0?d:T)!==null&&h!==void 0?h:!1,code:t.code?{...t.code,optimize:x,regExp:R}:{optimize:x,regExp:R},loopRequired:(m=t.loopRequired)!==null&&m!==void 0?m:jV,loopEnum:(v=t.loopEnum)!==null&&v!==void 0?v:jV,meta:(y=t.meta)!==null&&y!==void 0?y:!0,messages:(E=t.messages)!==null&&E!==void 0?E:!0,inlineRefs:(_=t.inlineRefs)!==null&&_!==void 0?_:!0,schemaId:(b=t.schemaId)!==null&&b!==void 0?b:"$id",addUsedSchema:($=t.addUsedSchema)!==null&&$!==void 0?$:!0,validateSchema:(k=t.validateSchema)!==null&&k!==void 0?k:!0,validateFormats:(O=t.validateFormats)!==null&&O!==void 0?O:!0,unicodeRegExp:(N=t.unicodeRegExp)!==null&&N!==void 0?N:!0,int32range:(L=t.int32range)!==null&&L!==void 0?L:!0,uriResolver:P}}var uh=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...yPe(e)};let{es5:r,lines:i}=this.opts.code;this.scope=new fPe.ValueScope({scope:{},prefixes:hPe,es5:r,lines:i}),this.logger=SPe(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,uPe.getRules)(),qV.call(this,mPe,e,"NOT SUPPORTED"),qV.call(this,gPe,e,"DEPRECATED","warn"),this._metaOpts=wPe.call(this),e.formats&&bPe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&_Pe.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),vPe.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:i}=this.opts,n=IV;i==="id"&&(n={...IV},n.id=n.$id,delete n.$id),r&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(r);return"$async"in i||(this.errors=i.errors),n}compile(e,r){let i=this._addSchema(e,r);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,r);async function n(u,f){await s.call(this,u.$schema);let p=this._addSchema(u,f);return p.validate||o.call(this,p)}async function s(u){u&&!this.getSchema(u)&&await n.call(this,{$ref:u},!0)}async function o(u){try{return this._compileSchemaEnv(u)}catch(f){if(!(f instanceof DV.default))throw f;return a.call(this,f),await c.call(this,f.missingSchema),o.call(this,u)}}function a({missingSchema:u,missingRef:f}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${f} cannot be resolved`)}async function c(u){let f=await l.call(this,u);this.refs[u]||await s.call(this,f.$schema),this.refs[u]||this.addSchema(f,u,r)}async function l(u){let f=this._loading[u];if(f)return f;try{return await(this._loading[u]=i(u))}finally{delete this._loading[u]}}}addSchema(e,r,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,i,n);return this}let s;if(typeof e=="object"){let{schemaId:o}=this.opts;if(s=e[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,lh.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(e,i,r,n,!0),this}addMetaSchema(e,r,i=this.opts.validateSchema){return this.addSchema(e,r,!0,i),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return n}getSchema(e){let r;for(;typeof(r=MV.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:i}=this.opts,n=new ch.SchemaEnv({schema:{},schemaId:i});if(r=ch.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=MV.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let i=e[this.opts.schemaId];return i&&(i=(0,lh.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let i;if(typeof e=="string")i=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=i);else if(typeof e=="object"&&r===void 0){if(r=e,i=r.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(RPe.call(this,i,r),!r)return(0,L$.eachItem)(i,s=>D$.call(this,s)),this;$Pe.call(this,r);let n={...r,type:(0,P0.getJSONTypes)(r.type),schemaType:(0,P0.getJSONTypes)(r.schemaType)};return(0,L$.eachItem)(i,n.type.length===0?s=>D$.call(this,s,n):s=>n.type.forEach(o=>D$.call(this,s,n,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let i of r.rules){let n=i.rules.findIndex(s=>s.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,s)=>n+r+s)}$dataMetaSchema(e,r){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of r){let s=n.split("/").slice(1),o=e;for(let a of s)o=o[a];for(let a in i){let c=i[a];if(typeof c!="object")continue;let{$data:l}=c.definition,u=o[a];l&&u&&(o[a]=FV(u))}}return e}_removeAllSchemas(e,r){for(let i in e){let n=e[i];(!r||r.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,r,i,n=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof e=="object")o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;i=(0,lh.normalizeId)(o||i);let l=lh.getSchemaRefs.call(this,e,i);return c=new ch.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:i,localRefs:l}),this._cache.set(c.schema,c),s&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=c),n&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):ch.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{ch.compileSchema.call(this,e)}finally{this.opts=r}}};uh.ValidationError=lPe.default;uh.MissingRefError=DV.default;Xr.default=uh;function qV(t,e,r,i="error"){for(let n in t){let s=n;s in e&&this.logger[i](`${r}: option ${n}. ${t[s]}`)}}function MV(t){return t=(0,lh.normalizeId)(t),this.schemas[t]||this.refs[t]}function vPe(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function bPe(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function _Pe(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function wPe(){let t={...this.opts};for(let e of pPe)delete t[e];return t}var xPe={log(){},warn(){},error(){}};function SPe(t){if(t===!1)return xPe;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var EPe=/^[a-z_$][a-z0-9_$:-]*$/i;function RPe(t,e){let{RULES:r}=this;if((0,L$.eachItem)(t,i=>{if(r.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!EPe.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function D$(t,e,r){var i;let n=e?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=n?s.post:s.rules.find(({type:c})=>c===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,P0.getJSONTypes)(e.type),schemaType:(0,P0.getJSONTypes)(e.schemaType)}};e.before?TPe.call(this,o,a,e.before):o.rules.push(a),s.all[t]=a,(i=e.implements)===null||i===void 0||i.forEach(c=>this.addKeyword(c))}function TPe(t,e,r){let i=t.rules.findIndex(n=>n.keyword===r);i>=0?t.rules.splice(i,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function $Pe(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=FV(e)),t.validateSchema=this.compile(e,!0))}var PPe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function FV(t){return{anyOf:[t,PPe]}}});var zV=w(z$=>{"use strict";Object.defineProperty(z$,"__esModule",{value:!0});var OPe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};z$.default=OPe});var U$=w(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.callRef=Zc.getValidate=void 0;var kPe=No(),UV=Yr(),tn=xe(),Gu=Tn(),HV=Xc(),O0=je(),APe={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:i}=t,{baseId:n,schemaEnv:s,validateName:o,opts:a,self:c}=i,{root:l}=s;if((r==="#"||r==="#/")&&n===l.baseId)return f();let u=HV.resolveRef.call(c,l,n,r);if(u===void 0)throw new kPe.default(i.opts.uriResolver,n,r);if(u instanceof HV.SchemaEnv)return p(u);return d(u);function f(){if(s===l)return k0(t,o,s,s.$async);let h=e.scopeValue("root",{ref:l});return k0(t,(0,tn._)`${h}.validate`,l,l.$async)}function p(h){let m=BV(t,h);k0(t,m,h,h.$async)}function d(h){let m=e.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,tn.stringify)(h)}:{ref:h}),v=e.name("valid"),y=t.subschema({schema:h,dataTypes:[],schemaPath:tn.nil,topSchemaRef:m,errSchemaPath:r},v);t.mergeEvaluated(y),t.ok(v)}}};function BV(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,tn._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Zc.getValidate=BV;function k0(t,e,r,i){let{gen:n,it:s}=t,{allErrors:o,schemaEnv:a,opts:c}=s,l=c.passContext?Gu.default.this:tn.nil;i?u():f();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=n.let("valid");n.try(()=>{n.code((0,tn._)`await ${(0,UV.callValidateCode)(t,e,l)}`),d(e),o||n.assign(h,!0)},m=>{n.if((0,tn._)`!(${m} instanceof ${s.ValidationError})`,()=>n.throw(m)),p(m),o||n.assign(h,!1)}),t.ok(h)}function f(){t.result((0,UV.callValidateCode)(t,e,l),()=>d(e),()=>p(e))}function p(h){let m=(0,tn._)`${h}.errors`;n.assign(Gu.default.vErrors,(0,tn._)`${Gu.default.vErrors} === null ? ${m} : ${Gu.default.vErrors}.concat(${m})`),n.assign(Gu.default.errors,(0,tn._)`${Gu.default.vErrors}.length`)}function d(h){var m;if(!s.opts.unevaluated)return;let v=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=O0.mergeEvaluated.props(n,v.props,s.props));else{let y=n.var("props",(0,tn._)`${h}.evaluated.props`);s.props=O0.mergeEvaluated.props(n,y,s.props,tn.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=O0.mergeEvaluated.items(n,v.items,s.items));else{let y=n.var("items",(0,tn._)`${h}.evaluated.items`);s.items=O0.mergeEvaluated.items(n,y,s.items,tn.Name)}}}Zc.callRef=k0;Zc.default=APe});var VV=w(H$=>{"use strict";Object.defineProperty(H$,"__esModule",{value:!0});var CPe=zV(),NPe=U$(),IPe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",CPe.default,NPe.default];H$.default=IPe});var WV=w(B$=>{"use strict";Object.defineProperty(B$,"__esModule",{value:!0});var A0=xe(),Da=A0.operators,C0={maximum:{okStr:"<=",ok:Da.LTE,fail:Da.GT},minimum:{okStr:">=",ok:Da.GTE,fail:Da.LT},exclusiveMaximum:{okStr:"<",ok:Da.LT,fail:Da.GTE},exclusiveMinimum:{okStr:">",ok:Da.GT,fail:Da.LTE}},jPe={message:({keyword:t,schemaCode:e})=>(0,A0.str)`must be ${C0[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,A0._)`{comparison: ${C0[t].okStr}, limit: ${e}}`},qPe={keyword:Object.keys(C0),type:"number",schemaType:"number",$data:!0,error:jPe,code(t){let{keyword:e,data:r,schemaCode:i}=t;t.fail$data((0,A0._)`${r} ${C0[e].fail} ${i} || isNaN(${r})`)}};B$.default=qPe});var GV=w(V$=>{"use strict";Object.defineProperty(V$,"__esModule",{value:!0});var fh=xe(),MPe={message:({schemaCode:t})=>(0,fh.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,fh._)`{multipleOf: ${t}}`},DPe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:MPe,code(t){let{gen:e,data:r,schemaCode:i,it:n}=t,s=n.opts.multipleOfPrecision,o=e.let("res"),a=s?(0,fh._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,fh._)`${o} !== parseInt(${o})`;t.fail$data((0,fh._)`(${i} === 0 || (${o} = ${r}/${i}, ${a}))`)}};V$.default=DPe});var JV=w(W$=>{"use strict";Object.defineProperty(W$,"__esModule",{value:!0});function KV(t){let e=t.length,r=0,i=0,n;for(;i<e;)r++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return r}W$.default=KV;KV.code='require("ajv/dist/runtime/ucs2length").default'});var YV=w(G$=>{"use strict";Object.defineProperty(G$,"__esModule",{value:!0});var Qc=xe(),LPe=je(),FPe=JV(),zPe={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Qc.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Qc._)`{limit: ${t}}`},UPe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:zPe,code(t){let{keyword:e,data:r,schemaCode:i,it:n}=t,s=e==="maxLength"?Qc.operators.GT:Qc.operators.LT,o=n.opts.unicode===!1?(0,Qc._)`${r}.length`:(0,Qc._)`${(0,LPe.useFunc)(t.gen,FPe.default)}(${r})`;t.fail$data((0,Qc._)`${o} ${s} ${i}`)}};G$.default=UPe});var XV=w(K$=>{"use strict";Object.defineProperty(K$,"__esModule",{value:!0});var HPe=Yr(),N0=xe(),BPe={message:({schemaCode:t})=>(0,N0.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,N0._)`{pattern: ${t}}`},VPe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:BPe,code(t){let{data:e,$data:r,schema:i,schemaCode:n,it:s}=t,o=s.opts.unicodeRegExp?"u":"",a=r?(0,N0._)`(new RegExp(${n}, ${o}))`:(0,HPe.usePattern)(t,i);t.fail$data((0,N0._)`!${a}.test(${e})`)}};K$.default=VPe});var ZV=w(J$=>{"use strict";Object.defineProperty(J$,"__esModule",{value:!0});var dh=xe(),WPe={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,dh.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,dh._)`{limit: ${t}}`},GPe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:WPe,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxProperties"?dh.operators.GT:dh.operators.LT;t.fail$data((0,dh._)`Object.keys(${r}).length ${n} ${i}`)}};J$.default=GPe});var QV=w(Y$=>{"use strict";Object.defineProperty(Y$,"__esModule",{value:!0});var ph=Yr(),hh=xe(),KPe=je(),JPe={message:({params:{missingProperty:t}})=>(0,hh.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,hh._)`{missingProperty: ${t}}`},YPe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:JPe,code(t){let{gen:e,schema:r,schemaCode:i,data:n,$data:s,it:o}=t,{opts:a}=o;if(!s&&r.length===0)return;let c=r.length>=a.loopRequired;if(o.allErrors?l():u(),a.strictRequired){let d=t.parentSchema.properties,{definedProperties:h}=t.it;for(let m of r)if(d?.[m]===void 0&&!h.has(m)){let v=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${m}" is not defined at "${v}" (strictRequired)`;(0,KPe.checkStrictMode)(o,y,o.opts.strictRequired)}}function l(){if(c||s)t.block$data(hh.nil,f);else for(let d of r)(0,ph.checkReportMissingProp)(t,d)}function u(){let d=e.let("missing");if(c||s){let h=e.let("valid",!0);t.block$data(h,()=>p(d,h)),t.ok(h)}else e.if((0,ph.checkMissingProp)(t,r,d)),(0,ph.reportMissingProp)(t,d),e.else()}function f(){e.forOf("prop",i,d=>{t.setParams({missingProperty:d}),e.if((0,ph.noPropertyInData)(e,n,d,a.ownProperties),()=>t.error())})}function p(d,h){t.setParams({missingProperty:d}),e.forOf(d,i,()=>{e.assign(h,(0,ph.propertyInData)(e,n,d,a.ownProperties)),e.if((0,hh.not)(h),()=>{t.error(),e.break()})},hh.nil)}}};Y$.default=YPe});var e6=w(X$=>{"use strict";Object.defineProperty(X$,"__esModule",{value:!0});var mh=xe(),XPe={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,mh.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,mh._)`{limit: ${t}}`},ZPe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:XPe,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxItems"?mh.operators.GT:mh.operators.LT;t.fail$data((0,mh._)`${r}.length ${n} ${i}`)}};X$.default=ZPe});var I0=w(Z$=>{"use strict";Object.defineProperty(Z$,"__esModule",{value:!0});var t6=bn();t6.code='require("ajv/dist/runtime/equal").default';Z$.default=t6});var r6=w(eP=>{"use strict";Object.defineProperty(eP,"__esModule",{value:!0});var Q$=ih(),Zr=xe(),QPe=je(),eOe=I0(),tOe={message:({params:{i:t,j:e}})=>(0,Zr.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Zr._)`{i: ${t}, j: ${e}}`},rOe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:tOe,code(t){let{gen:e,data:r,$data:i,schema:n,parentSchema:s,schemaCode:o,it:a}=t;if(!i&&!n)return;let c=e.let("valid"),l=s.items?(0,Q$.getSchemaTypes)(s.items):[];t.block$data(c,u,(0,Zr._)`${o} === false`),t.ok(c);function u(){let h=e.let("i",(0,Zr._)`${r}.length`),m=e.let("j");t.setParams({i:h,j:m}),e.assign(c,!0),e.if((0,Zr._)`${h} > 1`,()=>(f()?p:d)(h,m))}function f(){return l.length>0&&!l.some(h=>h==="object"||h==="array")}function p(h,m){let v=e.name("item"),y=(0,Q$.checkDataTypes)(l,v,a.opts.strictNumbers,Q$.DataType.Wrong),E=e.const("indices",(0,Zr._)`{}`);e.for((0,Zr._)`;${h}--;`,()=>{e.let(v,(0,Zr._)`${r}[${h}]`),e.if(y,(0,Zr._)`continue`),l.length>1&&e.if((0,Zr._)`typeof ${v} == "string"`,(0,Zr._)`${v} += "_"`),e.if((0,Zr._)`typeof ${E}[${v}] == "number"`,()=>{e.assign(m,(0,Zr._)`${E}[${v}]`),t.error(),e.assign(c,!1).break()}).code((0,Zr._)`${E}[${v}] = ${h}`)})}function d(h,m){let v=(0,QPe.useFunc)(e,eOe.default),y=e.name("outer");e.label(y).for((0,Zr._)`;${h}--;`,()=>e.for((0,Zr._)`${m} = ${h}; ${m}--;`,()=>e.if((0,Zr._)`${v}(${r}[${h}], ${r}[${m}])`,()=>{t.error(),e.assign(c,!1).break(y)})))}}};eP.default=rOe});var i6=w(rP=>{"use strict";Object.defineProperty(rP,"__esModule",{value:!0});var tP=xe(),iOe=je(),nOe=I0(),sOe={message:"must be equal to constant",params:({schemaCode:t})=>(0,tP._)`{allowedValue: ${t}}`},oOe={keyword:"const",$data:!0,error:sOe,code(t){let{gen:e,data:r,$data:i,schemaCode:n,schema:s}=t;i||s&&typeof s=="object"?t.fail$data((0,tP._)`!${(0,iOe.useFunc)(e,nOe.default)}(${r}, ${n})`):t.fail((0,tP._)`${s} !== ${r}`)}};rP.default=oOe});var n6=w(iP=>{"use strict";Object.defineProperty(iP,"__esModule",{value:!0});var gh=xe(),aOe=je(),cOe=I0(),lOe={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,gh._)`{allowedValues: ${t}}`},uOe={keyword:"enum",schemaType:"array",$data:!0,error:lOe,code(t){let{gen:e,data:r,$data:i,schema:n,schemaCode:s,it:o}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let a=n.length>=o.opts.loopEnum,c,l=()=>c??(c=(0,aOe.useFunc)(e,cOe.default)),u;if(a||i)u=e.let("valid"),t.block$data(u,f);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let d=e.const("vSchema",s);u=(0,gh.or)(...n.map((h,m)=>p(d,m)))}t.pass(u);function f(){e.assign(u,!1),e.forOf("v",s,d=>e.if((0,gh._)`${l()}(${r}, ${d})`,()=>e.assign(u,!0).break()))}function p(d,h){let m=n[h];return typeof m=="object"&&m!==null?(0,gh._)`${l()}(${r}, ${d}[${h}])`:(0,gh._)`${r} === ${m}`}}};iP.default=uOe});var s6=w(nP=>{"use strict";Object.defineProperty(nP,"__esModule",{value:!0});var fOe=WV(),dOe=GV(),pOe=YV(),hOe=XV(),mOe=ZV(),gOe=QV(),yOe=e6(),vOe=r6(),bOe=i6(),_Oe=n6(),wOe=[fOe.default,dOe.default,pOe.default,hOe.default,mOe.default,gOe.default,yOe.default,vOe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},bOe.default,_Oe.default];nP.default=wOe});var oP=w(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.validateAdditionalItems=void 0;var el=xe(),sP=je(),xOe={message:({params:{len:t}})=>(0,el.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,el._)`{limit: ${t}}`},SOe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:xOe,code(t){let{parentSchema:e,it:r}=t,{items:i}=e;if(!Array.isArray(i)){(0,sP.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}o6(t,i)}};function o6(t,e){let{gen:r,schema:i,data:n,keyword:s,it:o}=t;o.items=!0;let a=r.const("len",(0,el._)`${n}.length`);if(i===!1)t.setParams({len:e.length}),t.pass((0,el._)`${a} <= ${e.length}`);else if(typeof i=="object"&&!(0,sP.alwaysValidSchema)(o,i)){let l=r.var("valid",(0,el._)`${a} <= ${e.length}`);r.if((0,el.not)(l),()=>c(l)),t.ok(l)}function c(l){r.forRange("i",e.length,a,u=>{t.subschema({keyword:s,dataProp:u,dataPropType:sP.Type.Num},l),o.allErrors||r.if((0,el.not)(l),()=>r.break())})}}yh.validateAdditionalItems=o6;yh.default=SOe});var aP=w(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.validateTuple=void 0;var a6=xe(),j0=je(),EOe=Yr(),ROe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return c6(t,"additionalItems",e);r.items=!0,!(0,j0.alwaysValidSchema)(r,e)&&t.ok((0,EOe.validateArray)(t))}};function c6(t,e,r=t.schema){let{gen:i,parentSchema:n,data:s,keyword:o,it:a}=t;u(n),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=j0.mergeEvaluated.items(i,r.length,a.items));let c=i.name("valid"),l=i.const("len",(0,a6._)`${s}.length`);r.forEach((f,p)=>{(0,j0.alwaysValidSchema)(a,f)||(i.if((0,a6._)`${l} > ${p}`,()=>t.subschema({keyword:o,schemaProp:p,dataProp:p},c)),t.ok(c))});function u(f){let{opts:p,errSchemaPath:d}=a,h=r.length,m=h===f.minItems&&(h===f.maxItems||f[e]===!1);if(p.strictTuples&&!m){let v=`"${o}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${d}"`;(0,j0.checkStrictMode)(a,v,p.strictTuples)}}}vh.validateTuple=c6;vh.default=ROe});var l6=w(cP=>{"use strict";Object.defineProperty(cP,"__esModule",{value:!0});var TOe=aP(),$Oe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,TOe.validateTuple)(t,"items")};cP.default=$Oe});var f6=w(lP=>{"use strict";Object.defineProperty(lP,"__esModule",{value:!0});var u6=xe(),POe=je(),OOe=Yr(),kOe=oP(),AOe={message:({params:{len:t}})=>(0,u6.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,u6._)`{limit: ${t}}`},COe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:AOe,code(t){let{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,!(0,POe.alwaysValidSchema)(i,e)&&(n?(0,kOe.validateAdditionalItems)(t,n):t.ok((0,OOe.validateArray)(t)))}};lP.default=COe});var d6=w(uP=>{"use strict";Object.defineProperty(uP,"__esModule",{value:!0});var Pn=xe(),q0=je(),NOe={message:({params:{min:t,max:e}})=>e===void 0?(0,Pn.str)`must contain at least ${t} valid item(s)`:(0,Pn.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Pn._)`{minContains: ${t}}`:(0,Pn._)`{minContains: ${t}, maxContains: ${e}}`},IOe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:NOe,code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:s}=t,o,a,{minContains:c,maxContains:l}=i;s.opts.next?(o=c===void 0?1:c,a=l):o=1;let u=e.const("len",(0,Pn._)`${n}.length`);if(t.setParams({min:o,max:a}),a===void 0&&o===0){(0,q0.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,q0.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,q0.alwaysValidSchema)(s,r)){let m=(0,Pn._)`${u} >= ${o}`;a!==void 0&&(m=(0,Pn._)`${m} && ${u} <= ${a}`),t.pass(m);return}s.items=!0;let f=e.name("valid");a===void 0&&o===1?d(f,()=>e.if(f,()=>e.break())):o===0?(e.let(f,!0),a!==void 0&&e.if((0,Pn._)`${n}.length > 0`,p)):(e.let(f,!1),p()),t.result(f,()=>t.reset());function p(){let m=e.name("_valid"),v=e.let("count",0);d(m,()=>e.if(m,()=>h(v)))}function d(m,v){e.forRange("i",0,u,y=>{t.subschema({keyword:"contains",dataProp:y,dataPropType:q0.Type.Num,compositeRule:!0},m),v()})}function h(m){e.code((0,Pn._)`${m}++`),a===void 0?e.if((0,Pn._)`${m} >= ${o}`,()=>e.assign(f,!0).break()):(e.if((0,Pn._)`${m} > ${a}`,()=>e.assign(f,!1).break()),o===1?e.assign(f,!0):e.if((0,Pn._)`${m} >= ${o}`,()=>e.assign(f,!0)))}}};uP.default=IOe});var m6=w(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.validateSchemaDeps=Fs.validatePropertyDeps=Fs.error=void 0;var fP=xe(),jOe=je(),bh=Yr();Fs.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let i=e===1?"property":"properties";return(0,fP.str)`must have ${i} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:i}})=>(0,fP._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${r}}`};var qOe={keyword:"dependencies",type:"object",schemaType:"object",error:Fs.error,code(t){let[e,r]=MOe(t);p6(t,e),h6(t,r)}};function MOe({schema:t}){let e={},r={};for(let i in t){if(i==="__proto__")continue;let n=Array.isArray(t[i])?e:r;n[i]=t[i]}return[e,r]}function p6(t,e=t.schema){let{gen:r,data:i,it:n}=t;if(Object.keys(e).length===0)return;let s=r.let("missing");for(let o in e){let a=e[o];if(a.length===0)continue;let c=(0,bh.propertyInData)(r,i,o,n.opts.ownProperties);t.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),n.allErrors?r.if(c,()=>{for(let l of a)(0,bh.checkReportMissingProp)(t,l)}):(r.if((0,fP._)`${c} && (${(0,bh.checkMissingProp)(t,a,s)})`),(0,bh.reportMissingProp)(t,s),r.else())}}Fs.validatePropertyDeps=p6;function h6(t,e=t.schema){let{gen:r,data:i,keyword:n,it:s}=t,o=r.name("valid");for(let a in e)(0,jOe.alwaysValidSchema)(s,e[a])||(r.if((0,bh.propertyInData)(r,i,a,s.opts.ownProperties),()=>{let c=t.subschema({keyword:n,schemaProp:a},o);t.mergeValidEvaluated(c,o)},()=>r.var(o,!0)),t.ok(o))}Fs.validateSchemaDeps=h6;Fs.default=qOe});var y6=w(dP=>{"use strict";Object.defineProperty(dP,"__esModule",{value:!0});var g6=xe(),DOe=je(),LOe={message:"property name must be valid",params:({params:t})=>(0,g6._)`{propertyName: ${t.propertyName}}`},FOe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:LOe,code(t){let{gen:e,schema:r,data:i,it:n}=t;if((0,DOe.alwaysValidSchema)(n,r))return;let s=e.name("valid");e.forIn("key",i,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),e.if((0,g6.not)(s),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(s)}};dP.default=FOe});var hP=w(pP=>{"use strict";Object.defineProperty(pP,"__esModule",{value:!0});var M0=Yr(),us=xe(),zOe=Tn(),D0=je(),UOe={message:"must NOT have additional properties",params:({params:t})=>(0,us._)`{additionalProperty: ${t.additionalProperty}}`},HOe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:UOe,code(t){let{gen:e,schema:r,parentSchema:i,data:n,errsCount:s,it:o}=t;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,D0.alwaysValidSchema)(o,r))return;let l=(0,M0.allSchemaProperties)(i.properties),u=(0,M0.allSchemaProperties)(i.patternProperties);f(),t.ok((0,us._)`${s} === ${zOe.default.errors}`);function f(){e.forIn("key",n,v=>{!l.length&&!u.length?h(v):e.if(p(v),()=>h(v))})}function p(v){let y;if(l.length>8){let E=(0,D0.schemaRefOrVal)(o,i.properties,"properties");y=(0,M0.isOwnProperty)(e,E,v)}else l.length?y=(0,us.or)(...l.map(E=>(0,us._)`${v} === ${E}`)):y=us.nil;return u.length&&(y=(0,us.or)(y,...u.map(E=>(0,us._)`${(0,M0.usePattern)(t,E)}.test(${v})`))),(0,us.not)(y)}function d(v){e.code((0,us._)`delete ${n}[${v}]`)}function h(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){d(v);return}if(r===!1){t.setParams({additionalProperty:v}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,D0.alwaysValidSchema)(o,r)){let y=e.name("valid");c.removeAdditional==="failing"?(m(v,y,!1),e.if((0,us.not)(y),()=>{t.reset(),d(v)})):(m(v,y),a||e.if((0,us.not)(y),()=>e.break()))}}function m(v,y,E){let _={keyword:"additionalProperties",dataProp:v,dataPropType:D0.Type.Str};E===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(_,y)}}};pP.default=HOe});var _6=w(gP=>{"use strict";Object.defineProperty(gP,"__esModule",{value:!0});var BOe=Bu(),v6=Yr(),mP=je(),b6=hP(),VOe={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:s}=t;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&b6.default.code(new BOe.KeywordCxt(s,b6.default,"additionalProperties"));let o=(0,v6.allSchemaProperties)(r);for(let f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=mP.mergeEvaluated.props(e,(0,mP.toHash)(o),s.props));let a=o.filter(f=>!(0,mP.alwaysValidSchema)(s,r[f]));if(a.length===0)return;let c=e.name("valid");for(let f of a)l(f)?u(f):(e.if((0,v6.propertyInData)(e,n,f,s.opts.ownProperties)),u(f),s.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(c);function l(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};gP.default=VOe});var E6=w(yP=>{"use strict";Object.defineProperty(yP,"__esModule",{value:!0});var w6=Yr(),L0=xe(),x6=je(),S6=je(),WOe={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:i,parentSchema:n,it:s}=t,{opts:o}=s,a=(0,w6.allSchemaProperties)(r),c=a.filter(m=>(0,x6.alwaysValidSchema)(s,r[m]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&n.properties,u=e.name("valid");s.props!==!0&&!(s.props instanceof L0.Name)&&(s.props=(0,S6.evaluatedPropsToName)(e,s.props));let{props:f}=s;p();function p(){for(let m of a)l&&d(m),s.allErrors?h(m):(e.var(u,!0),h(m),e.if(u))}function d(m){for(let v in l)new RegExp(m).test(v)&&(0,x6.checkStrictMode)(s,`property ${v} matches pattern ${m} (use allowMatchingProperties)`)}function h(m){e.forIn("key",i,v=>{e.if((0,L0._)`${(0,w6.usePattern)(t,m)}.test(${v})`,()=>{let y=c.includes(m);y||t.subschema({keyword:"patternProperties",schemaProp:m,dataProp:v,dataPropType:S6.Type.Str},u),s.opts.unevaluated&&f!==!0?e.assign((0,L0._)`${f}[${v}]`,!0):!y&&!s.allErrors&&e.if((0,L0.not)(u),()=>e.break())})})}}};yP.default=WOe});var R6=w(vP=>{"use strict";Object.defineProperty(vP,"__esModule",{value:!0});var GOe=je(),KOe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:i}=t;if((0,GOe.alwaysValidSchema)(i,r)){t.fail();return}let n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};vP.default=KOe});var T6=w(bP=>{"use strict";Object.defineProperty(bP,"__esModule",{value:!0});var JOe=Yr(),YOe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:JOe.validateUnion,error:{message:"must match a schema in anyOf"}};bP.default=YOe});var $6=w(_P=>{"use strict";Object.defineProperty(_P,"__esModule",{value:!0});var F0=xe(),XOe=je(),ZOe={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,F0._)`{passingSchemas: ${t.passing}}`},QOe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:ZOe,code(t){let{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let s=r,o=e.let("valid",!1),a=e.let("passing",null),c=e.name("_valid");t.setParams({passing:a}),e.block(l),t.result(o,()=>t.reset(),()=>t.error(!0));function l(){s.forEach((u,f)=>{let p;(0,XOe.alwaysValidSchema)(n,u)?e.var(c,!0):p=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&e.if((0,F0._)`${c} && ${o}`).assign(o,!1).assign(a,(0,F0._)`[${a}, ${f}]`).else(),e.if(c,()=>{e.assign(o,!0),e.assign(a,f),p&&t.mergeEvaluated(p,F0.Name)})})}}};_P.default=QOe});var P6=w(wP=>{"use strict";Object.defineProperty(wP,"__esModule",{value:!0});var eke=je(),tke={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=e.name("valid");r.forEach((s,o)=>{if((0,eke.alwaysValidSchema)(i,s))return;let a=t.subschema({keyword:"allOf",schemaProp:o},n);t.ok(n),t.mergeEvaluated(a)})}};wP.default=tke});var A6=w(xP=>{"use strict";Object.defineProperty(xP,"__esModule",{value:!0});var z0=xe(),k6=je(),rke={message:({params:t})=>(0,z0.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,z0._)`{failingKeyword: ${t.ifClause}}`},ike={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:rke,code(t){let{gen:e,parentSchema:r,it:i}=t;r.then===void 0&&r.else===void 0&&(0,k6.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=O6(i,"then"),s=O6(i,"else");if(!n&&!s)return;let o=e.let("valid",!0),a=e.name("_valid");if(c(),t.reset(),n&&s){let u=e.let("ifClause");t.setParams({ifClause:u}),e.if(a,l("then",u),l("else",u))}else n?e.if(a,l("then")):e.if((0,z0.not)(a),l("else"));t.pass(o,()=>t.error(!0));function c(){let u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(u)}function l(u,f){return()=>{let p=t.subschema({keyword:u},a);e.assign(o,a),t.mergeValidEvaluated(p,o),f?e.assign(f,(0,z0._)`${u}`):t.setParams({ifClause:u})}}}};function O6(t,e){let r=t.schema[e];return r!==void 0&&!(0,k6.alwaysValidSchema)(t,r)}xP.default=ike});var C6=w(SP=>{"use strict";Object.defineProperty(SP,"__esModule",{value:!0});var nke=je(),ske={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,nke.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};SP.default=ske});var N6=w(EP=>{"use strict";Object.defineProperty(EP,"__esModule",{value:!0});var oke=oP(),ake=l6(),cke=aP(),lke=f6(),uke=d6(),fke=m6(),dke=y6(),pke=hP(),hke=_6(),mke=E6(),gke=R6(),yke=T6(),vke=$6(),bke=P6(),_ke=A6(),wke=C6();function xke(t=!1){let e=[gke.default,yke.default,vke.default,bke.default,_ke.default,wke.default,dke.default,pke.default,fke.default,hke.default,mke.default];return t?e.push(ake.default,lke.default):e.push(oke.default,cke.default),e.push(uke.default),e}EP.default=xke});var I6=w(RP=>{"use strict";Object.defineProperty(RP,"__esModule",{value:!0});var Tr=xe(),Ske={message:({schemaCode:t})=>(0,Tr.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Tr._)`{format: ${t}}`},Eke={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ske,code(t,e){let{gen:r,data:i,$data:n,schema:s,schemaCode:o,it:a}=t,{opts:c,errSchemaPath:l,schemaEnv:u,self:f}=a;if(!c.validateFormats)return;n?p():d();function p(){let h=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),m=r.const("fDef",(0,Tr._)`${h}[${o}]`),v=r.let("fType"),y=r.let("format");r.if((0,Tr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(v,(0,Tr._)`${m}.type || "string"`).assign(y,(0,Tr._)`${m}.validate`),()=>r.assign(v,(0,Tr._)`"string"`).assign(y,m)),t.fail$data((0,Tr.or)(E(),_()));function E(){return c.strictSchema===!1?Tr.nil:(0,Tr._)`${o} && !${y}`}function _(){let b=u.$async?(0,Tr._)`(${m}.async ? await ${y}(${i}) : ${y}(${i}))`:(0,Tr._)`${y}(${i})`,$=(0,Tr._)`(typeof ${y} == "function" ? ${b} : ${y}.test(${i}))`;return(0,Tr._)`${y} && ${y} !== true && ${v} === ${e} && !${$}`}}function d(){let h=f.formats[s];if(!h){E();return}if(h===!0)return;let[m,v,y]=_(h);m===e&&t.pass(b());function E(){if(c.strictSchema===!1){f.logger.warn($());return}throw new Error($());function $(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _($){let k=$ instanceof RegExp?(0,Tr.regexpCode)($):c.code.formats?(0,Tr._)`${c.code.formats}${(0,Tr.getProperty)(s)}`:void 0,O=r.scopeValue("formats",{key:s,ref:$,code:k});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,Tr._)`${O}.validate`]:["string",$,O]}function b(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Tr._)`await ${y}(${i})`}return typeof v=="function"?(0,Tr._)`${y}(${i})`:(0,Tr._)`${y}.test(${i})`}}}};RP.default=Eke});var j6=w(TP=>{"use strict";Object.defineProperty(TP,"__esModule",{value:!0});var Rke=I6(),Tke=[Rke.default];TP.default=Tke});var q6=w(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.contentVocabulary=Ku.metadataVocabulary=void 0;Ku.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ku.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var D6=w($P=>{"use strict";Object.defineProperty($P,"__esModule",{value:!0});var $ke=VV(),Pke=s6(),Oke=N6(),kke=j6(),M6=q6(),Ake=[$ke.default,Pke.default,(0,Oke.default)(),kke.default,M6.metadataVocabulary,M6.contentVocabulary];$P.default=Ake});var PP=w(U0=>{"use strict";Object.defineProperty(U0,"__esModule",{value:!0});U0.DiscrError=void 0;var L6;(function(t){t.Tag="tag",t.Mapping="mapping"})(L6||(U0.DiscrError=L6={}))});var z6=w(kP=>{"use strict";Object.defineProperty(kP,"__esModule",{value:!0});var Ju=xe(),OP=PP(),F6=Xc(),Cke=No(),Nke=je(),Ike={message:({params:{discrError:t,tagName:e}})=>t===OP.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Ju._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},jke={keyword:"discriminator",type:"object",schemaType:"object",error:Ike,code(t){let{gen:e,data:r,schema:i,parentSchema:n,it:s}=t,{oneOf:o}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=i.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),l=e.const("tag",(0,Ju._)`${r}${(0,Ju.getProperty)(a)}`);e.if((0,Ju._)`typeof ${l} == "string"`,()=>u(),()=>t.error(!1,{discrError:OP.DiscrError.Tag,tag:l,tagName:a})),t.ok(c);function u(){let d=p();e.if(!1);for(let h in d)e.elseIf((0,Ju._)`${l} === ${h}`),e.assign(c,f(d[h]));e.else(),t.error(!1,{discrError:OP.DiscrError.Mapping,tag:l,tagName:a}),e.endIf()}function f(d){let h=e.name("valid"),m=t.subschema({keyword:"oneOf",schemaProp:d},h);return t.mergeEvaluated(m,Ju.Name),h}function p(){var d;let h={},m=y(n),v=!0;for(let b=0;b<o.length;b++){let $=o[b];if($?.$ref&&!(0,Nke.schemaHasRulesButRef)($,s.self.RULES)){let O=$.$ref;if($=F6.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,O),$ instanceof F6.SchemaEnv&&($=$.schema),$===void 0)throw new Cke.default(s.opts.uriResolver,s.baseId,O)}let k=(d=$?.properties)===null||d===void 0?void 0:d[a];if(typeof k!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(m||y($)),E(k,b)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return h;function y({required:b}){return Array.isArray(b)&&b.includes(a)}function E(b,$){if(b.const)_(b.const,$);else if(b.enum)for(let k of b.enum)_(k,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(b,$){if(typeof b!="string"||b in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[b]=$}}}};kP.default=jke});var U6=w((gst,qke)=>{qke.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var B6=w((rr,AP)=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.MissingRefError=rr.ValidationError=rr.CodeGen=rr.Name=rr.nil=rr.stringify=rr.str=rr._=rr.KeywordCxt=rr.Ajv=void 0;var Mke=F$(),Dke=D6(),Lke=z6(),H6=U6(),Fke=["/properties"],H0="http://json-schema.org/draft-07/schema",Yu=class extends Mke.default{_addVocabularies(){super._addVocabularies(),Dke.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Lke.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(H6,Fke):H6;this.addMetaSchema(e,H0,!1),this.refs["http://json-schema.org/schema"]=H0}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(H0)?H0:void 0)}};rr.Ajv=Yu;AP.exports=rr=Yu;AP.exports.Ajv=Yu;Object.defineProperty(rr,"__esModule",{value:!0});rr.default=Yu;var zke=Bu();Object.defineProperty(rr,"KeywordCxt",{enumerable:!0,get:function(){return zke.KeywordCxt}});var Xu=xe();Object.defineProperty(rr,"_",{enumerable:!0,get:function(){return Xu._}});Object.defineProperty(rr,"str",{enumerable:!0,get:function(){return Xu.str}});Object.defineProperty(rr,"stringify",{enumerable:!0,get:function(){return Xu.stringify}});Object.defineProperty(rr,"nil",{enumerable:!0,get:function(){return Xu.nil}});Object.defineProperty(rr,"Name",{enumerable:!0,get:function(){return Xu.Name}});Object.defineProperty(rr,"CodeGen",{enumerable:!0,get:function(){return Xu.CodeGen}});var Uke=ah();Object.defineProperty(rr,"ValidationError",{enumerable:!0,get:function(){return Uke.default}});var Hke=No();Object.defineProperty(rr,"MissingRefError",{enumerable:!0,get:function(){return Hke.default}})});var Io=w(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.checkMetadata=void 0;var Bke=je(),Vke={keyword:"metadata",schemaType:"object",code(t){V6(t);let{gen:e,schema:r,it:i}=t;if((0,Bke.alwaysValidSchema)(i,r))return;let n=e.name("valid");t.subschema({keyword:"metadata",jtdMetadata:!0},n),t.ok(n)}};function V6({it:t,keyword:e},r){if(t.jtdMetadata!==r)throw new Error(`JTD: "${e}" cannot be used in this schema location`)}_h.checkMetadata=V6;_h.default=Vke});var B0=w(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.hasRef=void 0;var W6=Xc(),wh=xe(),Wke=No(),G6=Tn(),K6=U$(),Gke=Io(),Kke={keyword:"ref",schemaType:"string",code(t){(0,Gke.checkMetadata)(t);let{gen:e,data:r,schema:i,parentSchema:n,it:s}=t,{schemaEnv:{root:o}}=s,a=e.name("valid");n.nullable?(e.var(a,(0,wh._)`${r} === null`),e.if((0,wh.not)(a),c)):(e.var(a,!1),c()),t.ok(a);function c(){var f;let p=(f=o.schema.definitions)===null||f===void 0?void 0:f[i];if(!p)throw new Wke.default(s.opts.uriResolver,"",i,`No definition ${i}`);CP(p)||!s.opts.inlineRefs?l(p):u(p)}function l(f){let p=W6.compileSchema.call(s.self,new W6.SchemaEnv({schema:f,root:o,schemaPath:`/definitions/${i}`})),d=(0,K6.getValidate)(t,p),h=e.const("_errs",G6.default.errors);(0,K6.callRef)(t,d,p,p.$async),e.assign(a,(0,wh._)`${h} === ${G6.default.errors}`)}function u(f){let p=e.scopeValue("schema",s.opts.code.source===!0?{ref:f,code:(0,wh.stringify)(f)}:{ref:f});t.subschema({schema:f,dataTypes:[],schemaPath:wh.nil,topSchemaRef:p,errSchemaPath:`/definitions/${i}`},a)}}};function CP(t){for(let e in t){let r;if(e==="ref"||typeof(r=t[e])=="object"&&CP(r))return!0}return!1}xh.hasRef=CP;xh.default=Kke});var IP=w(NP=>{"use strict";Object.defineProperty(NP,"__esModule",{value:!0});var Jke=/t|\s/i,Yke=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Xke=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,Zke=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Y6(t,e){let r=t.split(Jke);return r.length===2&&J6(r[0])&&Qke(r[1])||e&&r.length===1&&J6(r[0])}NP.default=Y6;function J6(t){let e=Yke.exec(t);if(!e)return!1;let r=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&(n<=Zke[i]||i===2&&n===29&&(r%100===0?r%400===0:r%4===0))}function Qke(t){let e=Xke.exec(t);if(!e)return!1;let r=+e[1],i=+e[2],n=+e[3],s=+(e[4]||0),o=+(e[5]||0);return r<=23&&i<=59&&n<=59||r-s===23&&i-o===59&&n===60}Y6.code='require("ajv/dist/runtime/timestamp").default'});var Zu=w(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.typeErrorParams=La.typeErrorMessage=La.typeError=void 0;var eAe=xe();function tAe(t){return{message:e=>X6(e,t),params:e=>Z6(e,t)}}La.typeError=tAe;function X6({parentSchema:t},e){return t?.nullable?`must be ${e} or null`:`must be ${e}`}La.typeErrorMessage=X6;function Z6({parentSchema:t},e){return(0,eAe._)`{type: ${e}, nullable: ${!!t?.nullable}}`}La.typeErrorParams=Z6});var jP=w(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.intRange=void 0;var fn=xe(),rAe=IP(),iAe=je(),nAe=Io(),Q6=Zu();Qu.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};var sAe={message:t=>(0,Q6.typeErrorMessage)(t,t.schema),params:t=>(0,Q6.typeErrorParams)(t,t.schema)};function oAe(t){let{gen:e,data:r,it:i}=t,{timestamp:n,allowDate:s}=i.opts;if(n==="date")return(0,fn._)`${r} instanceof Date `;let o=(0,iAe.useFunc)(e,rAe.default),a=s?(0,fn._)`, true`:fn.nil,c=(0,fn._)`typeof ${r} == "string" && ${o}(${r}${a})`;return n==="string"?c:(0,fn.or)((0,fn._)`${r} instanceof Date`,c)}var aAe={keyword:"type",schemaType:"string",error:sAe,code(t){(0,nAe.checkMetadata)(t);let{data:e,schema:r,parentSchema:i,it:n}=t,s;switch(r){case"boolean":case"string":s=(0,fn._)`typeof ${e} == ${r}`;break;case"timestamp":{s=oAe(t);break}case"float32":case"float64":s=(0,fn._)`typeof ${e} == "number"`;break;default:{let o=r;if(s=(0,fn._)`typeof ${e} == "number" && isFinite(${e}) && !(${e} % 1)`,!n.opts.int32range&&(o==="int32"||o==="uint32"))o==="uint32"&&(s=(0,fn._)`${s} && ${e} >= 0`);else{let[a,c]=Qu.intRange[o];s=(0,fn._)`${s} && ${e} >= ${a} && ${e} <= ${c}`}}}t.pass(i.nullable?(0,fn.or)((0,fn._)`${e} === null`,s):s)}};Qu.default=aAe});var tf=w(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.checkNullableObject=ef.checkNullable=void 0;var V0=xe();function e5({gen:t,data:e,parentSchema:r},i=V0.nil){let n=t.name("valid");return r.nullable?(t.let(n,(0,V0._)`${e} === null`),i=(0,V0.not)(n)):t.let(n,!1),[n,i]}ef.checkNullable=e5;function cAe(t,e){let[r,i]=e5(t,e);return[r,(0,V0._)`${i} && typeof ${t.data} == "object" && !Array.isArray(${t.data})`]}ef.checkNullableObject=cAe});var t5=w(qP=>{"use strict";Object.defineProperty(qP,"__esModule",{value:!0});var Fa=xe(),lAe=Io(),uAe=tf(),fAe={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Fa._)`{allowedValues: ${t}}`},dAe={keyword:"enum",schemaType:"array",error:fAe,code(t){(0,lAe.checkMetadata)(t);let{gen:e,data:r,schema:i,schemaValue:n,parentSchema:s,it:o}=t;if(i.length===0)throw new Error("enum must have non-empty array");if(i.length!==new Set(i).size)throw new Error("enum items must be unique");let a,c=(0,Fa._)`typeof ${r} == "string"`;if(i.length>=o.opts.loopEnum){let u;[a,u]=(0,uAe.checkNullable)(t,c),e.if(u,l)}else{if(!Array.isArray(i))throw new Error("ajv implementation error");a=(0,Fa.and)(c,(0,Fa.or)(...i.map(u=>(0,Fa._)`${r} === ${u}`))),s.nullable&&(a=(0,Fa.or)((0,Fa._)`${r} === null`,a))}t.pass(a);function l(){e.forOf("v",n,u=>e.if((0,Fa._)`${a} = ${r} === ${u}`,()=>e.break()))}}};qP.default=dAe});var i5=w(MP=>{"use strict";Object.defineProperty(MP,"__esModule",{value:!0});var pAe=je(),hAe=Yr(),r5=xe(),mAe=Io(),gAe=tf(),yAe=Zu(),vAe={keyword:"elements",schemaType:"object",error:(0,yAe.typeError)("array"),code(t){(0,mAe.checkMetadata)(t);let{gen:e,data:r,schema:i,it:n}=t;if((0,pAe.alwaysValidSchema)(n,i))return;let[s]=(0,gAe.checkNullable)(t);e.if((0,r5.not)(s),()=>e.if((0,r5._)`Array.isArray(${r})`,()=>e.assign(s,(0,hAe.validateArray)(t)),()=>t.error())),t.ok(s)}};MP.default=vAe});var LP=w(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.validateProperties=za.error=void 0;var DP=Yr(),n5=je(),jo=xe(),bAe=Io(),_Ae=tf(),s5=Zu(),rf;(function(t){t.Additional="additional",t.Missing="missing"})(rf||(rf={}));za.error={message:t=>{let{params:e}=t;return e.propError?e.propError===rf.Additional?"must NOT have additional properties":`must have property '${e.missingProperty}'`:(0,s5.typeErrorMessage)(t,"object")},params:t=>{let{params:e}=t;return e.propError?e.propError===rf.Additional?(0,jo._)`{error: ${e.propError}, additionalProperty: ${e.additionalProperty}}`:(0,jo._)`{error: ${e.propError}, missingProperty: ${e.missingProperty}}`:(0,s5.typeErrorParams)(t,"object")}};var wAe={keyword:"properties",schemaType:"object",error:za.error,code:o5};function o5(t){(0,bAe.checkMetadata)(t);let{gen:e,data:r,parentSchema:i,it:n}=t,{additionalProperties:s,nullable:o}=i;if(n.jtdDiscriminator&&o)throw new Error("JTD: nullable inside discriminator mapping");if(d())throw new Error("JTD: properties and optionalProperties have common members");let[a,c]=h("properties"),[l,u]=h("optionalProperties");if(c.length===0&&u.length===0&&s)return;let[f,p]=n.jtdDiscriminator===void 0?(0,_Ae.checkNullableObject)(t,r):[e.let("valid",!1),!0];e.if(p,()=>e.assign(f,!0).block(()=>{m(c,"properties",!0),m(u,"optionalProperties"),s||y()})),t.pass(f);function d(){let _=i.properties,b=i.optionalProperties;if(!(_&&b))return!1;for(let $ in _)if(Object.prototype.hasOwnProperty.call(b,$))return!0;return!1}function h(_){let b=i[_],$=b?(0,DP.allSchemaProperties)(b):[];if(n.jtdDiscriminator&&$.some(O=>O===n.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${_}`);let k=$.filter(O=>!(0,n5.alwaysValidSchema)(n,b[O]));return[$,k]}function m(_,b,$){let k=e.var("valid");for(let N of _)e.if((0,DP.propertyInData)(e,r,N,n.opts.ownProperties),()=>v(N,b,k),()=>O(N)),t.ok(k);function O(N){$?(e.assign(k,!1),t.error(!1,{propError:rf.Missing,missingProperty:N},{schemaPath:N})):e.assign(k,!0)}}function v(_,b,$){t.subschema({keyword:b,schemaProp:_,dataProp:_},$)}function y(){e.forIn("key",r,_=>{let b=E(_,a,"properties",n.jtdDiscriminator),$=E(_,l,"optionalProperties"),k=b===!0?$:$===!0?b:(0,jo.and)(b,$);e.if(k,()=>{n.opts.removeAdditional?e.code((0,jo._)`delete ${r}[${_}]`):(t.error(!1,{propError:rf.Additional,additionalProperty:_},{instancePath:_,parentSchema:!0}),n.opts.allErrors||e.break())})})}function E(_,b,$,k){let O;if(b.length>8){let N=(0,n5.schemaRefOrVal)(n,i[$],$);O=(0,jo.not)((0,DP.isOwnProperty)(e,N,_)),k!==void 0&&(O=(0,jo.and)(O,(0,jo._)`${_} !== ${k}`))}else if(b.length||k!==void 0){let N=k===void 0?b:[k].concat(b);O=(0,jo.and)(...N.map(L=>(0,jo._)`${_} !== ${L}`))}else O=!0;return O}}za.validateProperties=o5;za.default=wAe});var c5=w(FP=>{"use strict";Object.defineProperty(FP,"__esModule",{value:!0});var a5=LP(),xAe={keyword:"optionalProperties",schemaType:"object",error:a5.error,code(t){t.parentSchema.properties||(0,a5.validateProperties)(t)}};FP.default=xAe});var u5=w(zP=>{"use strict";Object.defineProperty(zP,"__esModule",{value:!0});var tl=xe(),SAe=Io(),EAe=tf(),l5=Zu(),W0=PP(),RAe={message:t=>{let{schema:e,params:r}=t;return r.discrError?r.discrError===W0.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in mapping`:(0,l5.typeErrorMessage)(t,"object")},params:t=>{let{schema:e,params:r}=t;return r.discrError?(0,tl._)`{error: ${r.discrError}, tag: ${e}, tagValue: ${r.tag}}`:(0,l5.typeErrorParams)(t,"object")}},TAe={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:RAe,code(t){(0,SAe.checkMetadata)(t);let{gen:e,data:r,schema:i,parentSchema:n}=t,[s,o]=(0,EAe.checkNullableObject)(t,r);e.if(o),a(),e.elseIf((0,tl.not)(s)),t.error(),e.endIf(),t.ok(s);function a(){let u=e.const("tag",(0,tl._)`${r}${(0,tl.getProperty)(i)}`);e.if((0,tl._)`${u} === undefined`),t.error(!1,{discrError:W0.DiscrError.Tag,tag:u}),e.elseIf((0,tl._)`typeof ${u} == "string"`),c(u),e.else(),t.error(!1,{discrError:W0.DiscrError.Tag,tag:u},{instancePath:i}),e.endIf()}function c(u){e.if(!1);for(let f in n.mapping)e.elseIf((0,tl._)`${u} === ${f}`),e.assign(s,l(f));e.else(),t.error(!1,{discrError:W0.DiscrError.Mapping,tag:u},{instancePath:i,schemaPath:"mapping",parentSchema:!0}),e.endIf()}function l(u){let f=e.name("valid");return t.subschema({keyword:"mapping",schemaProp:u,jtdDiscriminator:i},f),f}}};zP.default=TAe});var d5=w(UP=>{"use strict";Object.defineProperty(UP,"__esModule",{value:!0});var f5=je(),G0=xe(),$Ae=Io(),PAe=tf(),OAe=Zu(),kAe={keyword:"values",schemaType:"object",error:(0,OAe.typeError)("object"),code(t){(0,$Ae.checkMetadata)(t);let{gen:e,data:r,schema:i,it:n}=t,[s,o]=(0,PAe.checkNullableObject)(t,r);(0,f5.alwaysValidSchema)(n,i)?e.if((0,G0.not)((0,G0.or)(o,s)),()=>t.error()):(e.if(o),e.assign(s,a()),e.elseIf((0,G0.not)(s)),t.error(),e.endIf()),t.ok(s);function a(){let c=e.name("valid");if(n.allErrors){let u=e.let("valid",!0);return l(()=>e.assign(u,!1)),u}return e.var(c,!0),l(()=>e.break()),c;function l(u){e.forIn("key",r,f=>{t.subschema({keyword:"values",dataProp:f,dataPropType:f5.Type.Str},c),e.if((0,G0.not)(c),u)})}}}};UP.default=kAe});var p5=w(HP=>{"use strict";Object.defineProperty(HP,"__esModule",{value:!0});var AAe=Yr(),CAe={keyword:"union",schemaType:"array",trackErrors:!0,code:AAe.validateUnion,error:{message:"must match a schema in union"}};HP.default=CAe});var h5=w(BP=>{"use strict";Object.defineProperty(BP,"__esModule",{value:!0});var NAe=B0(),IAe=jP(),jAe=t5(),qAe=i5(),MAe=LP(),DAe=c5(),LAe=u5(),FAe=d5(),zAe=p5(),UAe=Io(),HAe=["definitions",NAe.default,IAe.default,jAe.default,qAe.default,MAe.default,DAe.default,LAe.default,FAe.default,zAe.default,UAe.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];BP.default=HAe});var v5=w(VP=>{"use strict";Object.defineProperty(VP,"__esModule",{value:!0});var qo=t=>{let e={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return t&&(e.definitions={values:{ref:"schema"}}),e},BAe=t=>({optionalProperties:qo(t)}),VAe=t=>({properties:{ref:{type:"string"}},optionalProperties:qo(t)}),WAe=t=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:qo(t)}),GAe=t=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:qo(t)}),KAe=t=>({properties:{elements:{ref:"schema"}},optionalProperties:qo(t)}),g5=t=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...qo(t)}}),y5=t=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...qo(t)}}),JAe=t=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[g5(!1),y5(!1)]}}}},optionalProperties:qo(t)}),YAe=t=>({properties:{values:{ref:"schema"}},optionalProperties:qo(t)}),m5=t=>({metadata:{union:[BAe,VAe,WAe,GAe,KAe,g5,y5,JAe,YAe].map(e=>e(t))}}),XAe={definitions:{schema:m5(!1)},...m5(!0)};VP.default=XAe});var WP=w(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});K0.jtdForms=void 0;K0.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]});var _5=w(KP=>{"use strict";Object.defineProperty(KP,"__esModule",{value:!0});var GP=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,ZAe={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function b5(t){return GP.lastIndex=0,'"'+(GP.test(t)?t.replace(GP,e=>{let r=ZAe[e];return typeof r=="string"?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}):t)+'"'}KP.default=b5;b5.code='require("ajv/dist/runtime/quote").default'});var T5=w(YP=>{"use strict";Object.defineProperty(YP,"__esModule",{value:!0});var QAe=WP(),x5=Xc(),tt=xe(),eCe=No(),Yt=Tn(),tCe=Yr(),rCe=B0(),iCe=je(),nCe=_5(),sCe={elements:aCe,values:cCe,discriminator:lCe,properties:w5,optionalProperties:w5,enum:Sh,type:uCe,ref:dCe};function S5(t,e){let r=x5.getCompilingSchema.call(this,t);if(r)return r;let{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,o=new tt.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s}),a=o.scopeName("serialize"),c={self:this,gen:o,schema:t.schema,schemaEnv:t,definitions:e,data:Yt.default.data},l;try{this._compilations.add(t),t.serializeName=a,o.func(a,Yt.default.data,!1,()=>{o.let(Yt.default.json,(0,tt.str)``),Eh(c),o.return(Yt.default.json)}),o.optimize(this.opts.code.optimize);let u=o.toString();l=`${o.scopeRefs(Yt.default.scope)}return ${u}`;let p=new Function(`${Yt.default.scope}`,l)(this.scope.get());this.scope.value(a,{ref:p}),t.serialize=p}catch(u){throw l&&this.logger.error("Error compiling serializer, function code:",l),delete t.serialize,delete t.serializeName,u}finally{this._compilations.delete(t)}return t}YP.default=S5;function Eh(t){let e;for(let r of QAe.jtdForms)if(r in t.schema){e=r;break}oCe(t,e?sCe[e]:hCe)}function oCe(t,e){let{gen:r,schema:i,data:n}=t;if(!i.nullable)return e(t);r.if((0,tt._)`${n} === undefined || ${n} === null`,()=>r.add(Yt.default.json,(0,tt._)`"null"`),()=>e(t))}function aCe(t){let{gen:e,schema:r,data:i}=t;e.add(Yt.default.json,(0,tt.str)`[`);let n=e.let("first",!0);e.forOf("el",i,s=>{JP(t,n),Eh({...t,schema:r.elements,data:s})}),e.add(Yt.default.json,(0,tt.str)`]`)}function cCe(t){let{gen:e,schema:r,data:i}=t;e.add(Yt.default.json,(0,tt.str)`{`);let n=e.let("first",!0);e.forIn("key",i,s=>E5(t,s,r.values,n)),e.add(Yt.default.json,(0,tt.str)`}`)}function E5(t,e,r,i){let{gen:n,data:s}=t;JP(t,i),Sh({...t,data:e}),n.add(Yt.default.json,(0,tt.str)`:`);let o=n.const("value",(0,tt._)`${s}${(0,tt.getProperty)(e)}`);Eh({...t,schema:r,data:o})}function lCe(t){let{gen:e,schema:r,data:i}=t,{discriminator:n}=r;e.add(Yt.default.json,(0,tt.str)`{${JSON.stringify(n)}:`);let s=e.const("tag",(0,tt._)`${i}${(0,tt.getProperty)(n)}`);Sh({...t,data:s}),e.if(!1);for(let o in r.mapping){e.elseIf((0,tt._)`${s} === ${o}`);let a=r.mapping[o];R5({...t,schema:a},n)}e.endIf(),e.add(Yt.default.json,(0,tt.str)`}`)}function w5(t){let{gen:e}=t;e.add(Yt.default.json,(0,tt.str)`{`),R5(t),e.add(Yt.default.json,(0,tt.str)`}`)}function R5(t,e){let{gen:r,schema:i,data:n}=t,{properties:s,optionalProperties:o}=i,a=p(s),c=p(o),l=d(a.concat(c)),u=!e,f;for(let y of a)u?u=!1:r.add(Yt.default.json,(0,tt.str)`,`),m(y,s[y],h(y));u&&(f=r.let("first",!0));for(let y of c){let E=h(y);r.if((0,tt.and)((0,tt._)`${E} !== undefined`,(0,tCe.isOwnProperty)(r,n,y)),()=>{JP(t,f),m(y,o[y],E)})}i.additionalProperties&&r.forIn("key",n,y=>r.if(v(y,l),()=>E5(t,y,{},f)));function p(y){return y?Object.keys(y):[]}function d(y){if(e&&y.push(e),new Set(y).size!==y.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return y}function h(y){return r.const("value",(0,tt._)`${n}${(0,tt.getProperty)(y)}`)}function m(y,E,_){r.add(Yt.default.json,(0,tt.str)`${JSON.stringify(y)}:`),Eh({...t,schema:E,data:_})}function v(y,E){return E.length?(0,tt.and)(...E.map(_=>(0,tt._)`${y} !== ${_}`)):!0}}function uCe(t){let{gen:e,schema:r,data:i}=t;switch(r.type){case"boolean":e.add(Yt.default.json,(0,tt._)`${i} ? "true" : "false"`);break;case"string":Sh(t);break;case"timestamp":e.if((0,tt._)`${i} instanceof Date`,()=>e.add(Yt.default.json,(0,tt._)`'"' + ${i}.toISOString() + '"'`),()=>Sh(t));break;default:fCe(t)}}function Sh({gen:t,data:e}){t.add(Yt.default.json,(0,tt._)`${(0,iCe.useFunc)(t,nCe.default)}(${e})`)}function fCe({gen:t,data:e}){t.add(Yt.default.json,(0,tt._)`"" + ${e}`)}function dCe(t){let{gen:e,self:r,data:i,definitions:n,schema:s,schemaEnv:o}=t,{ref:a}=s,c=n[a];if(!c)throw new eCe.default(r.opts.uriResolver,"",a,`No definition ${a}`);if(!(0,rCe.hasRef)(c))return Eh({...t,schema:c});let{root:l}=o,u=S5.call(r,new x5.SchemaEnv({schema:c,root:l}),n);e.add(Yt.default.json,(0,tt._)`${pCe(e,u)}(${i})`)}function pCe(t,e){return e.serialize?t.scopeValue("serialize",{ref:e.serialize}):(0,tt._)`${t.scopeValue("wrapper",{ref:e})}.serialize`}function hCe({gen:t,data:e}){t.add(Yt.default.json,(0,tt._)`JSON.stringify(${e})`)}function JP({gen:t},e){e?t.if(e,()=>t.assign(e,!1),()=>t.add(Yt.default.json,(0,tt.str)`,`)):t.add(Yt.default.json,(0,tt.str)`,`)}});var P5=w(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.parseJsonString=Ha.parseJsonNumber=Ha.parseJson=void 0;var mCe=/position\s(\d+)(?: \(line \d+ column \d+\))?$/;function Mo(t,e){let r;Mo.message=void 0;let i;e&&(t=t.slice(e));try{return Mo.position=e+t.length,JSON.parse(t)}catch(n){if(i=mCe.exec(n.message),!i){Mo.message="unexpected end";return}r=+i[1];let s=t[r];t=t.slice(0,r),Mo.position=e+r;try{return JSON.parse(t)}catch{Mo.message=`unexpected token ${s}`;return}}}Ha.parseJson=Mo;Mo.message=void 0;Mo.position=0;Mo.code='require("ajv/dist/runtime/parseJson").parseJson';function Do(t,e,r){let i="",n;if(Do.message=void 0,t[e]==="-"&&(i+="-",e++),t[e]==="0")i+="0",e++;else if(!s(r)){o();return}if(r)return Do.position=e,+i;if(t[e]==="."&&(i+=".",e++,!s())){o();return}if(n=t[e],(n==="e"||n==="E")&&(i+="e",e++,n=t[e],(n==="+"||n==="-")&&(i+=n,e++),!s())){o();return}return Do.position=e,+i;function s(a){let c=!1;for(;n=t[e],n>="0"&&n<="9"&&(a===void 0||a-- >0);)c=!0,i+=n,e++;return c}function o(){Do.position=e,Do.message=e<t.length?`unexpected token ${t[e]}`:"unexpected end"}}Ha.parseJsonNumber=Do;Do.message=void 0;Do.position=0;Do.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';var $5={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},gCe=97,yCe=48;function Ua(t,e){let r="",i;for(Ua.message=void 0;i=t[e++],i!=='"';)if(i==="\\")if(i=t[e],i in $5)r+=$5[i],e++;else if(i==="u"){e++;let s=4,o=0;for(;s--;){if(o<<=4,i=t[e],i===void 0){n("unexpected end");return}if(i=i.toLowerCase(),i>="a"&&i<="f")o+=i.charCodeAt(0)-gCe+10;else if(i>="0"&&i<="9")o+=i.charCodeAt(0)-yCe;else{n(`unexpected token ${i}`);return}e++}r+=String.fromCharCode(o)}else{n(`unexpected token ${i}`);return}else if(i===void 0){n("unexpected end");return}else if(i.charCodeAt(0)>=32)r+=i;else{n(`unexpected token ${i}`);return}return Ua.position=e,r;function n(s){Ua.position=e,Ua.message=s}}Ha.parseJsonString=Ua;Ua.message=void 0;Ua.position=0;Ua.code='require("ajv/dist/runtime/parseJson").parseJsonString'});var L5=w(nO=>{"use strict";Object.defineProperty(nO,"__esModule",{value:!0});var vCe=WP(),C5=Xc(),be=xe(),bCe=No(),Ze=Tn(),_Ce=Yr(),wCe=B0(),xCe=jP(),QP=P5(),N5=je(),SCe=IP(),ECe={elements:PCe,values:OCe,discriminator:ACe,properties:O5,optionalProperties:O5,enum:NCe,type:CCe,ref:ICe};function I5(t,e){let r=C5.getCompilingSchema.call(this,t);if(r)return r;let{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,o=new be.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s}),a=o.scopeName("parse"),c={self:this,gen:o,schema:t.schema,schemaEnv:t,definitions:e,data:Ze.default.data,parseName:a,char:o.name("c")},l;try{this._compilations.add(t),t.parseName=a,RCe(c),o.optimize(this.opts.code.optimize);let u=o.toString();l=`${o.scopeRefs(Ze.default.scope)}return ${u}`;let p=new Function(`${Ze.default.scope}`,l)(this.scope.get());this.scope.value(a,{ref:p}),t.parse=p}catch(u){throw l&&this.logger.error("Error compiling parser, function code:",l),delete t.parse,delete t.parseName,u}finally{this._compilations.delete(t)}return t}nO.default=I5;var ZP=(0,be._)`undefined`;function RCe(t){let{gen:e,parseName:r,char:i}=t;e.func(r,(0,be._)`${Ze.default.json}, ${Ze.default.jsonPos}, ${Ze.default.jsonPart}`,!1,()=>{e.let(Ze.default.data),e.let(i),e.assign((0,be._)`${r}.message`,ZP),e.assign((0,be._)`${r}.position`,ZP),e.assign(Ze.default.jsonPos,(0,be._)`${Ze.default.jsonPos} || 0`),e.const(Ze.default.jsonLen,(0,be._)`${Ze.default.json}.length`),J0(t),iO(t),e.if(Ze.default.jsonPart,()=>{e.assign((0,be._)`${r}.position`,Ze.default.jsonPos),e.return(Ze.default.data)}),e.if((0,be._)`${Ze.default.jsonPos} === ${Ze.default.jsonLen}`,()=>e.return(Ze.default.data)),nf(t)})}function J0(t){let e;for(let r of vCe.jtdForms)if(r in t.schema){e=r;break}e?$Ce(t,ECe[e]):tO(t)}var TCe=A5(!0,A5(!1,nf));function $Ce(t,e){let{gen:r,schema:i,data:n}=t;if(!i.nullable)return e(t);Rh(t,"null",e,()=>r.assign(n,null))}function PCe(t){let{gen:e,schema:r,data:i}=t;zs(t,"[");let n=e.let("i",0);e.assign(i,(0,be._)`[]`),eO(t,"]",()=>{let s=e.let("el");J0({...t,schema:r.elements,data:s}),e.assign((0,be._)`${i}[${n}++]`,s)})}function OCe(t){let{gen:e,schema:r,data:i}=t;zs(t,"{"),e.assign(i,(0,be._)`{}`),eO(t,"}",()=>kCe(t,r.values))}function eO(t,e,r){j5(t,e,r),zs(t,e)}function j5(t,e,r){let{gen:i}=t;i.for((0,be._)`;${Ze.default.jsonPos}<${Ze.default.jsonLen} && ${Y0(1)}!==${e};`,()=>{r(),Rh(t,",",()=>i.break(),n)});function n(){Rh(t,e,()=>{},nf)}}function kCe(t,e){let{gen:r}=t,i=r.let("key");rl({...t,data:i}),zs(t,":"),M5(t,i,e)}function ACe(t){let{gen:e,data:r,schema:i}=t,{discriminator:n,mapping:s}=i;zs(t,"{"),e.assign(r,(0,be._)`{}`);let o=e.const("pos",Ze.default.jsonPos),a=e.let("value"),c=e.let("tag");j5(t,"}",()=>{let l=e.let("key");rl({...t,data:l}),zs(t,":"),e.if((0,be._)`${l} === ${n}`,()=>{rl({...t,data:c}),e.assign((0,be._)`${r}[${l}]`,c),e.break()},()=>tO({...t,data:a}))}),e.assign(Ze.default.jsonPos,o),e.if((0,be._)`${c} === undefined`),Lo(t,(0,be.str)`discriminator tag not found`);for(let l in s)e.elseIf((0,be._)`${c} === ${l}`),q5({...t,schema:s[l]},n);e.else(),Lo(t,(0,be.str)`discriminator value not in schema`),e.endIf()}function O5(t){let{gen:e,data:r}=t;zs(t,"{"),e.assign(r,(0,be._)`{}`),q5(t)}function q5(t,e){let{gen:r,schema:i,data:n}=t,{properties:s,optionalProperties:o,additionalProperties:a}=i;if(eO(t,"}",()=>{let c=r.let("key");if(rl({...t,data:c}),zs(t,":"),r.if(!1),k5(t,c,s),k5(t,c,o),e){r.elseIf((0,be._)`${c} === ${e}`);let l=r.let("tag");rl({...t,data:l})}r.else(),a?tO({...t,data:(0,be._)`${n}[${c}]`}):Lo(t,(0,be.str)`property ${c} not allowed`),r.endIf()}),s){let c=(0,_Ce.hasPropFunc)(r),l=(0,be.and)(...Object.keys(s).map(u=>(0,be._)`${c}.call(${n}, ${u})`));r.if((0,be.not)(l),()=>Lo(t,(0,be.str)`missing required properties`))}}function k5(t,e,r={}){let{gen:i}=t;for(let n in r)i.elseIf((0,be._)`${e} === ${n}`),M5(t,e,r[n])}function M5(t,e,r){J0({...t,schema:r,data:(0,be._)`${t.data}[${e}]`})}function CCe(t){let{gen:e,schema:r,data:i,self:n}=t;switch(r.type){case"boolean":TCe(t);break;case"string":rl(t);break;case"timestamp":{rl(t);let s=(0,N5.useFunc)(e,SCe.default),{allowDate:o,parseDate:a}=n.opts,c=o?(0,be._)`!${s}(${i}, true)`:(0,be._)`!${s}(${i})`,l=a?(0,be.or)(c,(0,be._)`(${i} = new Date(${i}), false)`,(0,be._)`isNaN(${i}.valueOf())`):c;e.if(l,()=>Lo(t,(0,be.str)`invalid timestamp`));break}case"float32":case"float64":XP(t);break;default:{let s=r.type;if(!n.opts.int32range&&(s==="int32"||s==="uint32"))XP(t,16),s==="uint32"&&e.if((0,be._)`${i} < 0`,()=>Lo(t,(0,be.str)`integer out of range`));else{let[o,a,c]=xCe.intRange[s];XP(t,c),e.if((0,be._)`${i} < ${o} || ${i} > ${a}`,()=>Lo(t,(0,be.str)`integer out of range`))}}}}function rl(t){zs(t,'"'),rO(t,QP.parseJsonString)}function NCe(t){let{gen:e,data:r,schema:i}=t,n=i.enum;zs(t,'"'),e.if(!1);for(let s of n){let o=JSON.stringify(s).slice(1);e.elseIf((0,be._)`${Y0(o.length)} === ${o}`),e.assign(r,(0,be.str)`${s}`),e.add(Ze.default.jsonPos,o.length)}e.else(),nf(t),e.endIf()}function XP(t,e){let{gen:r}=t;iO(t),r.if((0,be._)`"-0123456789".indexOf(${Y0(1)}) < 0`,()=>nf(t),()=>rO(t,QP.parseJsonNumber,e))}function A5(t,e){return r=>{let{gen:i,data:n}=r;Rh(r,`${t}`,()=>e(r),()=>i.assign(n,t))}}function ICe(t){let{gen:e,self:r,definitions:i,schema:n,schemaEnv:s}=t,{ref:o}=n,a=i[o];if(!a)throw new bCe.default(r.opts.uriResolver,"",o,`No definition ${o}`);if(!(0,wCe.hasRef)(a))return J0({...t,schema:a});let{root:c}=s,l=I5.call(r,new C5.SchemaEnv({schema:a,root:c}),i);D5(t,jCe(e,l),!0)}function jCe(t,e){return e.parse?t.scopeValue("parse",{ref:e.parse}):(0,be._)`${t.scopeValue("wrapper",{ref:e})}.parse`}function tO(t){rO(t,QP.parseJson)}function rO(t,e,r){D5(t,(0,N5.useFunc)(t.gen,e),r)}function D5(t,e,r){let{gen:i,data:n}=t;i.assign(n,(0,be._)`${e}(${Ze.default.json}, ${Ze.default.jsonPos}${r?(0,be._)`, ${r}`:be.nil})`),i.assign(Ze.default.jsonPos,(0,be._)`${e}.position`),i.if((0,be._)`${n} === undefined`,()=>Lo(t,(0,be._)`${e}.message`))}function zs(t,e){Rh(t,e,nf)}function Rh(t,e,r,i){let{gen:n}=t,s=e.length;iO(t),n.if((0,be._)`${Y0(s)} === ${e}`,()=>{n.add(Ze.default.jsonPos,s),i?.(t)},()=>r(t))}function iO({gen:t,char:e}){t.code((0,be._)`while((${e}=${Ze.default.json}[${Ze.default.jsonPos}],${e}===" "||${e}==="\\n"||${e}==="\\r"||${e}==="\\t"))${Ze.default.jsonPos}++;`)}function Y0(t){return t===1?(0,be._)`${Ze.default.json}[${Ze.default.jsonPos}]`:(0,be._)`${Ze.default.json}.slice(${Ze.default.jsonPos}, ${Ze.default.jsonPos}+${t})`}function nf(t){Lo(t,(0,be._)`"unexpected token " + ${Ze.default.json}[${Ze.default.jsonPos}]`)}function Lo({gen:t,parseName:e},r){t.assign((0,be._)`${e}.message`,r),t.assign((0,be._)`${e}.position`,Ze.default.jsonPos),t.return(ZP)}});var aO=w((ir,oO)=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.MissingRefError=ir.ValidationError=ir.CodeGen=ir.Name=ir.nil=ir.stringify=ir.str=ir._=ir.KeywordCxt=ir.Ajv=void 0;var qCe=F$(),MCe=h5(),DCe=v5(),LCe=T5(),FCe=L5(),sO="JTD-meta-schema",sf=class extends qCe.default{constructor(e={}){super({...e,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(MCe.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(DCe.default,sO,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(sO)?sO:void 0)}compileSerializer(e){let r=this._addSchema(e);return r.serialize||this._compileSerializer(r)}compileParser(e){let r=this._addSchema(e);return r.parse||this._compileParser(r)}_compileSerializer(e){if(LCe.default.call(this,e,e.schema.definitions||{}),!e.serialize)throw new Error("ajv implementation error");return e.serialize}_compileParser(e){if(FCe.default.call(this,e,e.schema.definitions||{}),!e.parse)throw new Error("ajv implementation error");return e.parse}};ir.Ajv=sf;oO.exports=ir=sf;oO.exports.Ajv=sf;Object.defineProperty(ir,"__esModule",{value:!0});ir.default=sf;var zCe=Bu();Object.defineProperty(ir,"KeywordCxt",{enumerable:!0,get:function(){return zCe.KeywordCxt}});var of=xe();Object.defineProperty(ir,"_",{enumerable:!0,get:function(){return of._}});Object.defineProperty(ir,"str",{enumerable:!0,get:function(){return of.str}});Object.defineProperty(ir,"stringify",{enumerable:!0,get:function(){return of.stringify}});Object.defineProperty(ir,"nil",{enumerable:!0,get:function(){return of.nil}});Object.defineProperty(ir,"Name",{enumerable:!0,get:function(){return of.Name}});Object.defineProperty(ir,"CodeGen",{enumerable:!0,get:function(){return of.CodeGen}});var UCe=ah();Object.defineProperty(ir,"ValidationError",{enumerable:!0,get:function(){return UCe.default}});var HCe=No();Object.defineProperty(ir,"MissingRefError",{enumerable:!0,get:function(){return HCe.default}})});var cO=w((Mst,F5)=>{"use strict";var BCe=P1();F5.exports=Object.freeze({coerceTypes:"array",useDefaults:!0,removeAdditional:!0,uriResolver:BCe,addUsedSchema:!1,allErrors:!1})});var W5=w(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.formatNames=Us.fastFormats=Us.fullFormats=void 0;function af(t,e){return{validate:t,compare:e}}Us.fullFormats={date:af(H5,fO),time:af(B5,dO),"date-time":af(KCe,V5),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:XCe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:nNe,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:ZCe,int32:{type:"number",validate:tNe},int64:{type:"number",validate:rNe},float:{type:"number",validate:U5},double:{type:"number",validate:U5},password:!0,binary:!0};Us.fastFormats={...Us.fullFormats,date:af(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,fO),time:af(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,dO),"date-time":af(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,V5),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Us.formatNames=Object.keys(Us.fullFormats);function VCe(t){return t%4===0&&(t%100!==0||t%400===0)}var WCe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,GCe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function H5(t){let e=WCe.exec(t);if(!e)return!1;let r=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&VCe(r)?29:GCe[i])}function fO(t,e){if(t&&e)return t>e?1:t<e?-1:0}var lO=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function B5(t,e){let r=lO.exec(t);if(!r)return!1;let i=+r[1],n=+r[2],s=+r[3],o=r[5];return(i<=23&&n<=59&&s<=59||i===23&&n===59&&s===60)&&(!e||o!=="")}function dO(t,e){if(!(t&&e))return;let r=lO.exec(t),i=lO.exec(e);if(r&&i)return t=r[1]+r[2]+r[3]+(r[4]||""),e=i[1]+i[2]+i[3]+(i[4]||""),t>e?1:t<e?-1:0}var uO=/t|\s/i;function KCe(t){let e=t.split(uO);return e.length===2&&H5(e[0])&&B5(e[1],!0)}function V5(t,e){if(!(t&&e))return;let[r,i]=t.split(uO),[n,s]=e.split(uO),o=fO(r,n);if(o!==void 0)return o||dO(i,s)}var JCe=/\/|:/,YCe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function XCe(t){return JCe.test(t)&&YCe.test(t)}var z5=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function ZCe(t){return z5.lastIndex=0,z5.test(t)}var QCe=-(2**31),eNe=2**31-1;function tNe(t){return Number.isInteger(t)&&t<=eNe&&t>=QCe}function rNe(t){return Number.isInteger(t)}function U5(){return!0}var iNe=/[^\\]\\Z/;function nNe(t){if(iNe.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Ph=w(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.regexpCode=yt.getEsmExportName=yt.getProperty=yt.safeStringify=yt.stringify=yt.strConcat=yt.addCodeArg=yt.str=yt._=yt.nil=yt._Code=yt.Name=yt.IDENTIFIER=yt._CodeOrName=void 0;var Th=class{};yt._CodeOrName=Th;yt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var il=class extends Th{constructor(e){if(super(),!yt.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};yt.Name=il;var On=class extends Th{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,i)=>`${r}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,i)=>(i instanceof il&&(r[i.str]=(r[i.str]||0)+1),r),{})}};yt._Code=On;yt.nil=new On("");function G5(t,...e){let r=[t[0]],i=0;for(;i<e.length;)hO(r,e[i]),r.push(t[++i]);return new On(r)}yt._=G5;var pO=new On("+");function K5(t,...e){let r=[$h(t[0])],i=0;for(;i<e.length;)r.push(pO),hO(r,e[i]),r.push(pO,$h(t[++i]));return sNe(r),new On(r)}yt.str=K5;function hO(t,e){e instanceof On?t.push(...e._items):e instanceof il?t.push(e):t.push(cNe(e))}yt.addCodeArg=hO;function sNe(t){let e=1;for(;e<t.length-1;){if(t[e]===pO){let r=oNe(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function oNe(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof il||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof il))return`"${t}${e.slice(1)}`}function aNe(t,e){return e.emptyStr()?t:t.emptyStr()?e:K5`${t}${e}`}yt.strConcat=aNe;function cNe(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:$h(Array.isArray(t)?t.join(","):t)}function lNe(t){return new On($h(t))}yt.stringify=lNe;function $h(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}yt.safeStringify=$h;function uNe(t){return typeof t=="string"&&yt.IDENTIFIER.test(t)?new On(`.${t}`):G5`[${t}]`}yt.getProperty=uNe;function fNe(t){if(typeof t=="string"&&yt.IDENTIFIER.test(t))return new On(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}yt.getEsmExportName=fNe;function dNe(t){return new On(t.toString())}yt.regexpCode=dNe});var yO=w(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.ValueScope=nn.ValueScopeName=nn.Scope=nn.varKinds=nn.UsedValueState=void 0;var rn=Ph(),mO=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},X0;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(X0||(nn.UsedValueState=X0={}));nn.varKinds={const:new rn.Name("const"),let:new rn.Name("let"),var:new rn.Name("var")};var Z0=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof rn.Name?e:this.name(e)}name(e){return new rn.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,i;if(!((i=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};nn.Scope=Z0;var Q0=class extends rn.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:i}){this.value=e,this.scopePath=(0,rn._)`.${new rn.Name(r)}[${i}]`}};nn.ValueScopeName=Q0;var pNe=(0,rn._)`\n`,gO=class extends Z0{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?pNe:rn.nil}}get(){return this._scope}name(e){return new Q0(e,this._newName(e))}value(e,r){var i;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:s}=n,o=(i=r.key)!==null&&i!==void 0?i:r.ref,a=this._values[s];if(a){let u=a.get(o);if(u)return u}else a=this._values[s]=new Map;a.set(o,n);let c=this._scope[s]||(this._scope[s]=[]),l=c.length;return c[l]=r.ref,n.setValue(r,{property:s,itemIndex:l}),n}getValue(e,r){let i=this._values[e];if(i)return i.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,rn._)`${e}${i.scopePath}`})}scopeCode(e=this._values,r,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,i)}_reduceValues(e,r,i={},n){let s=rn.nil;for(let o in e){let a=e[o];if(!a)continue;let c=i[o]=i[o]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,X0.Started);let u=r(l);if(u){let f=this.opts.es5?nn.varKinds.var:nn.varKinds.const;s=(0,rn._)`${s}${f} ${l} = ${u};${this.opts._n}`}else if(u=n?.(l))s=(0,rn._)`${s}${u}${this.opts._n}`;else throw new mO(l);c.set(l,X0.Completed)})}return s}};nn.ValueScope=gO});var qe=w(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.or=ze.and=ze.not=ze.CodeGen=ze.operators=ze.varKinds=ze.ValueScopeName=ze.ValueScope=ze.Scope=ze.Name=ze.regexpCode=ze.stringify=ze.getProperty=ze.nil=ze.strConcat=ze.str=ze._=void 0;var at=Ph(),fs=yO(),Ba=Ph();Object.defineProperty(ze,"_",{enumerable:!0,get:function(){return Ba._}});Object.defineProperty(ze,"str",{enumerable:!0,get:function(){return Ba.str}});Object.defineProperty(ze,"strConcat",{enumerable:!0,get:function(){return Ba.strConcat}});Object.defineProperty(ze,"nil",{enumerable:!0,get:function(){return Ba.nil}});Object.defineProperty(ze,"getProperty",{enumerable:!0,get:function(){return Ba.getProperty}});Object.defineProperty(ze,"stringify",{enumerable:!0,get:function(){return Ba.stringify}});Object.defineProperty(ze,"regexpCode",{enumerable:!0,get:function(){return Ba.regexpCode}});Object.defineProperty(ze,"Name",{enumerable:!0,get:function(){return Ba.Name}});var ib=yO();Object.defineProperty(ze,"Scope",{enumerable:!0,get:function(){return ib.Scope}});Object.defineProperty(ze,"ValueScope",{enumerable:!0,get:function(){return ib.ValueScope}});Object.defineProperty(ze,"ValueScopeName",{enumerable:!0,get:function(){return ib.ValueScopeName}});Object.defineProperty(ze,"varKinds",{enumerable:!0,get:function(){return ib.varKinds}});ze.operators={GT:new at._Code(">"),GTE:new at._Code(">="),LT:new at._Code("<"),LTE:new at._Code("<="),EQ:new at._Code("==="),NEQ:new at._Code("!=="),NOT:new at._Code("!"),OR:new at._Code("||"),AND:new at._Code("&&"),ADD:new at._Code("+")};var Fo=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},vO=class extends Fo{constructor(e,r,i){super(),this.varKind=e,this.name=r,this.rhs=i}render({es5:e,_n:r}){let i=e?fs.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=lf(this.rhs,e,r)),this}get names(){return this.rhs instanceof at._CodeOrName?this.rhs.names:{}}},eb=class extends Fo{constructor(e,r,i){super(),this.lhs=e,this.rhs=r,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof at.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=lf(this.rhs,e,r),this}get names(){let e=this.lhs instanceof at.Name?{}:{...this.lhs.names};return rb(e,this.rhs)}},bO=class extends eb{constructor(e,r,i,n){super(e,i,n),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},_O=class extends Fo{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},wO=class extends Fo{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},xO=class extends Fo{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},SO=class extends Fo{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=lf(this.code,e,r),this}get names(){return this.code instanceof at._CodeOrName?this.code.names:{}}},Oh=class extends Fo{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,i)=>r+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let i=e[r].optimizeNodes();Array.isArray(i)?e.splice(r,1,...i):i?e[r]=i:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:i}=this,n=i.length;for(;n--;){let s=i[n];s.optimizeNames(e,r)||(hNe(e,s.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>ol(e,r.names),{})}},zo=class extends Oh{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},EO=class extends Oh{},cf=class extends zo{};cf.kind="else";var nl=class t extends zo{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let i=r.optimizeNodes();r=this.else=Array.isArray(i)?new cf(i):i}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(J5(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var i;if(this.else=(i=this.else)===null||i===void 0?void 0:i.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=lf(this.condition,e,r),this}get names(){let e=super.names;return rb(e,this.condition),this.else&&ol(e,this.else.names),e}};nl.kind="if";var sl=class extends zo{};sl.kind="for";var RO=class extends sl{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=lf(this.iteration,e,r),this}get names(){return ol(super.names,this.iteration.names)}},TO=class extends sl{constructor(e,r,i,n){super(),this.varKind=e,this.name=r,this.from=i,this.to=n}render(e){let r=e.es5?fs.varKinds.var:this.varKind,{name:i,from:n,to:s}=this;return`for(${r} ${i}=${n}; ${i}<${s}; ${i}++)`+super.render(e)}get names(){let e=rb(super.names,this.from);return rb(e,this.to)}},tb=class extends sl{constructor(e,r,i,n){super(),this.loop=e,this.varKind=r,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=lf(this.iterable,e,r),this}get names(){return ol(super.names,this.iterable.names)}},kh=class extends zo{constructor(e,r,i){super(),this.name=e,this.args=r,this.async=i}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};kh.kind="func";var Ah=class extends Oh{render(e){return"return "+super.render(e)}};Ah.kind="return";var $O=class extends zo{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var i,n;return super.optimizeNames(e,r),(i=this.catch)===null||i===void 0||i.optimizeNames(e,r),(n=this.finally)===null||n===void 0||n.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&ol(e,this.catch.names),this.finally&&ol(e,this.finally.names),e}},Ch=class extends zo{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Ch.kind="catch";var Nh=class extends zo{render(e){return"finally"+super.render(e)}};Nh.kind="finally";var PO=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new fs.Scope({parent:e}),this._nodes=[new EO]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let i=this._extScope.value(e,r);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,i,n){let s=this._scope.toName(r);return i!==void 0&&n&&(this._constants[s.str]=i),this._leafNode(new vO(e,s,i)),s}const(e,r,i){return this._def(fs.varKinds.const,e,r,i)}let(e,r,i){return this._def(fs.varKinds.let,e,r,i)}var(e,r,i){return this._def(fs.varKinds.var,e,r,i)}assign(e,r,i){return this._leafNode(new eb(e,r,i))}add(e,r){return this._leafNode(new bO(e,ze.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==at.nil&&this._leafNode(new SO(e)),this}object(...e){let r=["{"];for(let[i,n]of e)r.length>1&&r.push(","),r.push(i),(i!==n||this.opts.es5)&&(r.push(":"),(0,at.addCodeArg)(r,n));return r.push("}"),new at._Code(r)}if(e,r,i){if(this._blockNode(new nl(e)),r&&i)this.code(r).else().code(i).endIf();else if(r)this.code(r).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new nl(e))}else(){return this._elseNode(new cf)}endIf(){return this._endBlockNode(nl,cf)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new RO(e),r)}forRange(e,r,i,n,s=this.opts.es5?fs.varKinds.var:fs.varKinds.let){let o=this._scope.toName(e);return this._for(new TO(s,o,r,i),()=>n(o))}forOf(e,r,i,n=fs.varKinds.const){let s=this._scope.toName(e);if(this.opts.es5){let o=r instanceof at.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,at._)`${o}.length`,a=>{this.var(s,(0,at._)`${o}[${a}]`),i(s)})}return this._for(new tb("of",n,s,r),()=>i(s))}forIn(e,r,i,n=this.opts.es5?fs.varKinds.var:fs.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,at._)`Object.keys(${r})`,i);let s=this._scope.toName(e);return this._for(new tb("in",n,s,r),()=>i(s))}endFor(){return this._endBlockNode(sl)}label(e){return this._leafNode(new _O(e))}break(e){return this._leafNode(new wO(e))}return(e){let r=new Ah;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Ah)}try(e,r,i){if(!r&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new $O;if(this._blockNode(n),this.code(e),r){let s=this.name("e");this._currNode=n.catch=new Ch(s),r(s)}return i&&(this._currNode=n.finally=new Nh,this.code(i)),this._endBlockNode(Ch,Nh)}throw(e){return this._leafNode(new xO(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-r;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=at.nil,i,n){return this._blockNode(new kh(e,r,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(kh)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let i=this._currNode;if(i instanceof e||r&&i instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof nl))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};ze.CodeGen=PO;function ol(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function rb(t,e){return e instanceof at._CodeOrName?ol(t,e.names):t}function lf(t,e,r){if(t instanceof at.Name)return i(t);if(!n(t))return t;return new at._Code(t._items.reduce((s,o)=>(o instanceof at.Name&&(o=i(o)),o instanceof at._Code?s.push(...o._items):s.push(o),s),[]));function i(s){let o=r[s.str];return o===void 0||e[s.str]!==1?s:(delete e[s.str],o)}function n(s){return s instanceof at._Code&&s._items.some(o=>o instanceof at.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function hNe(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function J5(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,at._)`!${OO(t)}`}ze.not=J5;var mNe=Y5(ze.operators.AND);function gNe(...t){return t.reduce(mNe)}ze.and=gNe;var yNe=Y5(ze.operators.OR);function vNe(...t){return t.reduce(yNe)}ze.or=vNe;function Y5(t){return(e,r)=>e===at.nil?r:r===at.nil?e:(0,at._)`${OO(e)} ${t} ${OO(r)}`}function OO(t){return t instanceof at.Name?t:(0,at._)`(${t})`}});var vt=w(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.checkStrictMode=We.getErrorPath=We.Type=We.useFunc=We.setEvaluated=We.evaluatedPropsToName=We.mergeEvaluated=We.eachItem=We.unescapeJsonPointer=We.escapeJsonPointer=We.escapeFragment=We.unescapeFragment=We.schemaRefOrVal=We.schemaHasRulesButRef=We.schemaHasRules=We.checkUnknownRules=We.alwaysValidSchema=We.toHash=void 0;var Gt=qe(),bNe=Ph();function _Ne(t){let e={};for(let r of t)e[r]=!0;return e}We.toHash=_Ne;function wNe(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Q5(t,e),!e9(e,t.self.RULES.all))}We.alwaysValidSchema=wNe;function Q5(t,e=t.schema){let{opts:r,self:i}=t;if(!r.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let s in e)n[s]||i9(t,`unknown keyword: "${s}"`)}We.checkUnknownRules=Q5;function e9(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}We.schemaHasRules=e9;function xNe(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}We.schemaHasRulesButRef=xNe;function SNe({topSchemaRef:t,schemaPath:e},r,i,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Gt._)`${r}`}return(0,Gt._)`${t}${e}${(0,Gt.getProperty)(i)}`}We.schemaRefOrVal=SNe;function ENe(t){return t9(decodeURIComponent(t))}We.unescapeFragment=ENe;function RNe(t){return encodeURIComponent(AO(t))}We.escapeFragment=RNe;function AO(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}We.escapeJsonPointer=AO;function t9(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}We.unescapeJsonPointer=t9;function TNe(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}We.eachItem=TNe;function X5({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:i}){return(n,s,o,a)=>{let c=o===void 0?s:o instanceof Gt.Name?(s instanceof Gt.Name?t(n,s,o):e(n,s,o),o):s instanceof Gt.Name?(e(n,o,s),s):r(s,o);return a===Gt.Name&&!(c instanceof Gt.Name)?i(n,c):c}}We.mergeEvaluated={props:X5({mergeNames:(t,e,r)=>t.if((0,Gt._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Gt._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Gt._)`${r} || {}`).code((0,Gt._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Gt._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Gt._)`${r} || {}`),CO(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:r9}),items:X5({mergeNames:(t,e,r)=>t.if((0,Gt._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Gt._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Gt._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Gt._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function r9(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Gt._)`{}`);return e!==void 0&&CO(t,r,e),r}We.evaluatedPropsToName=r9;function CO(t,e,r){Object.keys(r).forEach(i=>t.assign((0,Gt._)`${e}${(0,Gt.getProperty)(i)}`,!0))}We.setEvaluated=CO;var Z5={};function $Ne(t,e){return t.scopeValue("func",{ref:e,code:Z5[e.code]||(Z5[e.code]=new bNe._Code(e.code))})}We.useFunc=$Ne;var kO;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(kO||(We.Type=kO={}));function PNe(t,e,r){if(t instanceof Gt.Name){let i=e===kO.Num;return r?i?(0,Gt._)`"[" + ${t} + "]"`:(0,Gt._)`"['" + ${t} + "']"`:i?(0,Gt._)`"/" + ${t}`:(0,Gt._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Gt.getProperty)(t).toString():"/"+AO(t)}We.getErrorPath=PNe;function i9(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}We.checkStrictMode=i9});var Uo=w(NO=>{"use strict";Object.defineProperty(NO,"__esModule",{value:!0});var _i=qe(),ONe={data:new _i.Name("data"),valCxt:new _i.Name("valCxt"),instancePath:new _i.Name("instancePath"),parentData:new _i.Name("parentData"),parentDataProperty:new _i.Name("parentDataProperty"),rootData:new _i.Name("rootData"),dynamicAnchors:new _i.Name("dynamicAnchors"),vErrors:new _i.Name("vErrors"),errors:new _i.Name("errors"),this:new _i.Name("this"),self:new _i.Name("self"),scope:new _i.Name("scope"),json:new _i.Name("json"),jsonPos:new _i.Name("jsonPos"),jsonLen:new _i.Name("jsonLen"),jsonPart:new _i.Name("jsonPart")};NO.default=ONe});var Ih=w(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.extendErrors=wi.resetErrorsCount=wi.reportExtraError=wi.reportError=wi.keyword$DataError=wi.keywordError=void 0;var pt=qe(),nb=vt(),Mi=Uo();wi.keywordError={message:({keyword:t})=>(0,pt.str)`must pass "${t}" keyword validation`};wi.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,pt.str)`"${t}" keyword must be ${e} ($data)`:(0,pt.str)`"${t}" keyword is invalid ($data)`};function kNe(t,e=wi.keywordError,r,i){let{it:n}=t,{gen:s,compositeRule:o,allErrors:a}=n,c=o9(t,e,r);i??(o||a)?n9(s,c):s9(n,(0,pt._)`[${c}]`)}wi.reportError=kNe;function ANe(t,e=wi.keywordError,r){let{it:i}=t,{gen:n,compositeRule:s,allErrors:o}=i,a=o9(t,e,r);n9(n,a),s||o||s9(i,Mi.default.vErrors)}wi.reportExtraError=ANe;function CNe(t,e){t.assign(Mi.default.errors,e),t.if((0,pt._)`${Mi.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,pt._)`${Mi.default.vErrors}.length`,e),()=>t.assign(Mi.default.vErrors,null)))}wi.resetErrorsCount=CNe;function NNe({gen:t,keyword:e,schemaValue:r,data:i,errsCount:n,it:s}){if(n===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",n,Mi.default.errors,a=>{t.const(o,(0,pt._)`${Mi.default.vErrors}[${a}]`),t.if((0,pt._)`${o}.instancePath === undefined`,()=>t.assign((0,pt._)`${o}.instancePath`,(0,pt.strConcat)(Mi.default.instancePath,s.errorPath))),t.assign((0,pt._)`${o}.schemaPath`,(0,pt.str)`${s.errSchemaPath}/${e}`),s.opts.verbose&&(t.assign((0,pt._)`${o}.schema`,r),t.assign((0,pt._)`${o}.data`,i))})}wi.extendErrors=NNe;function n9(t,e){let r=t.const("err",e);t.if((0,pt._)`${Mi.default.vErrors} === null`,()=>t.assign(Mi.default.vErrors,(0,pt._)`[${r}]`),(0,pt._)`${Mi.default.vErrors}.push(${r})`),t.code((0,pt._)`${Mi.default.errors}++`)}function s9(t,e){let{gen:r,validateName:i,schemaEnv:n}=t;n.$async?r.throw((0,pt._)`new ${t.ValidationError}(${e})`):(r.assign((0,pt._)`${i}.errors`,e),r.return(!1))}var al={keyword:new pt.Name("keyword"),schemaPath:new pt.Name("schemaPath"),params:new pt.Name("params"),propertyName:new pt.Name("propertyName"),message:new pt.Name("message"),schema:new pt.Name("schema"),parentSchema:new pt.Name("parentSchema")};function o9(t,e,r){let{createErrors:i}=t.it;return i===!1?(0,pt._)`{}`:INe(t,e,r)}function INe(t,e,r={}){let{gen:i,it:n}=t,s=[jNe(n,r),qNe(t,r)];return MNe(t,e,s),i.object(...s)}function jNe({errorPath:t},{instancePath:e}){let r=e?(0,pt.str)`${t}${(0,nb.getErrorPath)(e,nb.Type.Str)}`:t;return[Mi.default.instancePath,(0,pt.strConcat)(Mi.default.instancePath,r)]}function qNe({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:i}){let n=i?e:(0,pt.str)`${e}/${t}`;return r&&(n=(0,pt.str)`${n}${(0,nb.getErrorPath)(r,nb.Type.Str)}`),[al.schemaPath,n]}function MNe(t,{params:e,message:r},i){let{keyword:n,data:s,schemaValue:o,it:a}=t,{opts:c,propertyName:l,topSchemaRef:u,schemaPath:f}=a;i.push([al.keyword,n],[al.params,typeof e=="function"?e(t):e||(0,pt._)`{}`]),c.messages&&i.push([al.message,typeof r=="function"?r(t):r]),c.verbose&&i.push([al.schema,o],[al.parentSchema,(0,pt._)`${u}${f}`],[Mi.default.data,s]),l&&i.push([al.propertyName,l])}});var c9=w(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.boolOrEmptySchema=uf.topBoolOrEmptySchema=void 0;var DNe=Ih(),LNe=qe(),FNe=Uo(),zNe={message:"boolean schema is false"};function UNe(t){let{gen:e,schema:r,validateName:i}=t;r===!1?a9(t,!1):typeof r=="object"&&r.$async===!0?e.return(FNe.default.data):(e.assign((0,LNe._)`${i}.errors`,null),e.return(!0))}uf.topBoolOrEmptySchema=UNe;function HNe(t,e){let{gen:r,schema:i}=t;i===!1?(r.var(e,!1),a9(t)):r.var(e,!0)}uf.boolOrEmptySchema=HNe;function a9(t,e){let{gen:r,data:i}=t,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,DNe.reportError)(n,zNe,void 0,e)}});var IO=w(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.getRules=ff.isJSONType=void 0;var BNe=["string","number","integer","boolean","null","object","array"],VNe=new Set(BNe);function WNe(t){return typeof t=="string"&&VNe.has(t)}ff.isJSONType=WNe;function GNe(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ff.getRules=GNe});var jO=w(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.shouldUseRule=Va.shouldUseGroup=Va.schemaHasRulesForType=void 0;function KNe({schema:t,self:e},r){let i=e.RULES.types[r];return i&&i!==!0&&l9(t,i)}Va.schemaHasRulesForType=KNe;function l9(t,e){return e.rules.some(r=>u9(t,r))}Va.shouldUseGroup=l9;function u9(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(i=>t[i]!==void 0))}Va.shouldUseRule=u9});var jh=w(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.reportTypeError=xi.checkDataTypes=xi.checkDataType=xi.coerceAndCheckDataType=xi.getJSONTypes=xi.getSchemaTypes=xi.DataType=void 0;var JNe=IO(),YNe=jO(),XNe=Ih(),Ce=qe(),f9=vt(),df;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(df||(xi.DataType=df={}));function ZNe(t){let e=d9(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}xi.getSchemaTypes=ZNe;function d9(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(JNe.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}xi.getJSONTypes=d9;function QNe(t,e){let{gen:r,data:i,opts:n}=t,s=eIe(e,n.coerceTypes),o=e.length>0&&!(s.length===0&&e.length===1&&(0,YNe.schemaHasRulesForType)(t,e[0]));if(o){let a=MO(e,i,n.strictNumbers,df.Wrong);r.if(a,()=>{s.length?tIe(t,e,s):DO(t)})}return o}xi.coerceAndCheckDataType=QNe;var p9=new Set(["string","number","integer","boolean","null"]);function eIe(t,e){return e?t.filter(r=>p9.has(r)||e==="array"&&r==="array"):[]}function tIe(t,e,r){let{gen:i,data:n,opts:s}=t,o=i.let("dataType",(0,Ce._)`typeof ${n}`),a=i.let("coerced",(0,Ce._)`undefined`);s.coerceTypes==="array"&&i.if((0,Ce._)`${o} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,Ce._)`${n}[0]`).assign(o,(0,Ce._)`typeof ${n}`).if(MO(e,n,s.strictNumbers),()=>i.assign(a,n))),i.if((0,Ce._)`${a} !== undefined`);for(let l of r)(p9.has(l)||l==="array"&&s.coerceTypes==="array")&&c(l);i.else(),DO(t),i.endIf(),i.if((0,Ce._)`${a} !== undefined`,()=>{i.assign(n,a),rIe(t,a)});function c(l){switch(l){case"string":i.elseIf((0,Ce._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,Ce._)`"" + ${n}`).elseIf((0,Ce._)`${n} === null`).assign(a,(0,Ce._)`""`);return;case"number":i.elseIf((0,Ce._)`${o} == "boolean" || ${n} === null
              || (${o} == "string" && ${n} && ${n} == +${n})`).assign(a,(0,Ce._)`+${n}`);return;case"integer":i.elseIf((0,Ce._)`${o} === "boolean" || ${n} === null
              || (${o} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(a,(0,Ce._)`+${n}`);return;case"boolean":i.elseIf((0,Ce._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(a,!1).elseIf((0,Ce._)`${n} === "true" || ${n} === 1`).assign(a,!0);return;case"null":i.elseIf((0,Ce._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(a,null);return;case"array":i.elseIf((0,Ce._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${n} === null`).assign(a,(0,Ce._)`[${n}]`)}}}function rIe({gen:t,parentData:e,parentDataProperty:r},i){t.if((0,Ce._)`${e} !== undefined`,()=>t.assign((0,Ce._)`${e}[${r}]`,i))}function qO(t,e,r,i=df.Correct){let n=i===df.Correct?Ce.operators.EQ:Ce.operators.NEQ,s;switch(t){case"null":return(0,Ce._)`${e} ${n} null`;case"array":s=(0,Ce._)`Array.isArray(${e})`;break;case"object":s=(0,Ce._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=o((0,Ce._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=o();break;default:return(0,Ce._)`typeof ${e} ${n} ${t}`}return i===df.Correct?s:(0,Ce.not)(s);function o(a=Ce.nil){return(0,Ce.and)((0,Ce._)`typeof ${e} == "number"`,a,r?(0,Ce._)`isFinite(${e})`:Ce.nil)}}xi.checkDataType=qO;function MO(t,e,r,i){if(t.length===1)return qO(t[0],e,r,i);let n,s=(0,f9.toHash)(t);if(s.array&&s.object){let o=(0,Ce._)`typeof ${e} != "object"`;n=s.null?o:(0,Ce._)`!${e} || ${o}`,delete s.null,delete s.array,delete s.object}else n=Ce.nil;s.number&&delete s.integer;for(let o in s)n=(0,Ce.and)(n,qO(o,e,r,i));return n}xi.checkDataTypes=MO;var iIe={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,Ce._)`{type: ${t}}`:(0,Ce._)`{type: ${e}}`};function DO(t){let e=nIe(t);(0,XNe.reportError)(e,iIe)}xi.reportTypeError=DO;function nIe(t){let{gen:e,data:r,schema:i}=t,n=(0,f9.schemaRefOrVal)(t,i,"type");return{gen:e,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:t}}});var m9=w(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});sb.assignDefaults=void 0;var pf=qe(),sIe=vt();function oIe(t,e){let{properties:r,items:i}=t.schema;if(e==="object"&&r)for(let n in r)h9(t,n,r[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,s)=>h9(t,s,n.default))}sb.assignDefaults=oIe;function h9(t,e,r){let{gen:i,compositeRule:n,data:s,opts:o}=t;if(r===void 0)return;let a=(0,pf._)`${s}${(0,pf.getProperty)(e)}`;if(n){(0,sIe.checkStrictMode)(t,`default is ignored for: ${a}`);return}let c=(0,pf._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,pf._)`${c} || ${a} === null || ${a} === ""`),i.if(c,(0,pf._)`${a} = ${(0,pf.stringify)(r)}`)}});var kn=w(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.validateUnion=Lt.validateArray=Lt.usePattern=Lt.callValidateCode=Lt.schemaProperties=Lt.allSchemaProperties=Lt.noPropertyInData=Lt.propertyInData=Lt.isOwnProperty=Lt.hasPropFunc=Lt.reportMissingProp=Lt.checkMissingProp=Lt.checkReportMissingProp=void 0;var nr=qe(),LO=vt(),Wa=Uo(),aIe=vt();function cIe(t,e){let{gen:r,data:i,it:n}=t;r.if(zO(r,i,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,nr._)`${e}`},!0),t.error()})}Lt.checkReportMissingProp=cIe;function lIe({gen:t,data:e,it:{opts:r}},i,n){return(0,nr.or)(...i.map(s=>(0,nr.and)(zO(t,e,s,r.ownProperties),(0,nr._)`${n} = ${s}`)))}Lt.checkMissingProp=lIe;function uIe(t,e){t.setParams({missingProperty:e},!0),t.error()}Lt.reportMissingProp=uIe;function g9(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,nr._)`Object.prototype.hasOwnProperty`})}Lt.hasPropFunc=g9;function FO(t,e,r){return(0,nr._)`${g9(t)}.call(${e}, ${r})`}Lt.isOwnProperty=FO;function fIe(t,e,r,i){let n=(0,nr._)`${e}${(0,nr.getProperty)(r)} !== undefined`;return i?(0,nr._)`${n} && ${FO(t,e,r)}`:n}Lt.propertyInData=fIe;function zO(t,e,r,i){let n=(0,nr._)`${e}${(0,nr.getProperty)(r)} === undefined`;return i?(0,nr.or)(n,(0,nr.not)(FO(t,e,r))):n}Lt.noPropertyInData=zO;function y9(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Lt.allSchemaProperties=y9;function dIe(t,e){return y9(e).filter(r=>!(0,LO.alwaysValidSchema)(t,e[r]))}Lt.schemaProperties=dIe;function pIe({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:s},it:o},a,c,l){let u=l?(0,nr._)`${t}, ${e}, ${i}${n}`:e,f=[[Wa.default.instancePath,(0,nr.strConcat)(Wa.default.instancePath,s)],[Wa.default.parentData,o.parentData],[Wa.default.parentDataProperty,o.parentDataProperty],[Wa.default.rootData,Wa.default.rootData]];o.opts.dynamicRef&&f.push([Wa.default.dynamicAnchors,Wa.default.dynamicAnchors]);let p=(0,nr._)`${u}, ${r.object(...f)}`;return c!==nr.nil?(0,nr._)`${a}.call(${c}, ${p})`:(0,nr._)`${a}(${p})`}Lt.callValidateCode=pIe;var hIe=(0,nr._)`new RegExp`;function mIe({gen:t,it:{opts:e}},r){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,s=n(r,i);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,nr._)`${n.code==="new RegExp"?hIe:(0,aIe.useFunc)(t,n)}(${r}, ${i})`})}Lt.usePattern=mIe;function gIe(t){let{gen:e,data:r,keyword:i,it:n}=t,s=e.name("valid");if(n.allErrors){let a=e.let("valid",!0);return o(()=>e.assign(a,!1)),a}return e.var(s,!0),o(()=>e.break()),s;function o(a){let c=e.const("len",(0,nr._)`${r}.length`);e.forRange("i",0,c,l=>{t.subschema({keyword:i,dataProp:l,dataPropType:LO.Type.Num},s),e.if((0,nr.not)(s),a)})}}Lt.validateArray=gIe;function yIe(t){let{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,LO.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;let o=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((c,l)=>{let u=t.subschema({keyword:i,schemaProp:l,compositeRule:!0},a);e.assign(o,(0,nr._)`${o} || ${a}`),t.mergeValidEvaluated(u,a)||e.if((0,nr.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}Lt.validateUnion=yIe});var _9=w(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.validateKeywordUsage=Hs.validSchemaType=Hs.funcKeywordCode=Hs.macroKeywordCode=void 0;var Di=qe(),cl=Uo(),vIe=kn(),bIe=Ih();function _Ie(t,e){let{gen:r,keyword:i,schema:n,parentSchema:s,it:o}=t,a=e.macro.call(o.self,n,s,o),c=b9(r,i,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let l=r.name("valid");t.subschema({schema:a,schemaPath:Di.nil,errSchemaPath:`${o.errSchemaPath}/${i}`,topSchemaRef:c,compositeRule:!0},l),t.pass(l,()=>t.error(!0))}Hs.macroKeywordCode=_Ie;function wIe(t,e){var r;let{gen:i,keyword:n,schema:s,parentSchema:o,$data:a,it:c}=t;SIe(c,e);let l=!a&&e.compile?e.compile.call(c.self,s,o,c):e.validate,u=b9(i,n,l),f=i.let("valid");t.block$data(f,p),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function p(){if(e.errors===!1)m(),e.modifying&&v9(t),v(()=>t.error());else{let y=e.async?d():h();e.modifying&&v9(t),v(()=>xIe(t,y))}}function d(){let y=i.let("ruleErrs",null);return i.try(()=>m((0,Di._)`await `),E=>i.assign(f,!1).if((0,Di._)`${E} instanceof ${c.ValidationError}`,()=>i.assign(y,(0,Di._)`${E}.errors`),()=>i.throw(E))),y}function h(){let y=(0,Di._)`${u}.errors`;return i.assign(y,null),m(Di.nil),y}function m(y=e.async?(0,Di._)`await `:Di.nil){let E=c.opts.passContext?cl.default.this:cl.default.self,_=!("compile"in e&&!a||e.schema===!1);i.assign(f,(0,Di._)`${y}${(0,vIe.callValidateCode)(t,u,E,_)}`,e.modifying)}function v(y){var E;i.if((0,Di.not)((E=e.valid)!==null&&E!==void 0?E:f),y)}}Hs.funcKeywordCode=wIe;function v9(t){let{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,(0,Di._)`${i.parentData}[${i.parentDataProperty}]`))}function xIe(t,e){let{gen:r}=t;r.if((0,Di._)`Array.isArray(${e})`,()=>{r.assign(cl.default.vErrors,(0,Di._)`${cl.default.vErrors} === null ? ${e} : ${cl.default.vErrors}.concat(${e})`).assign(cl.default.errors,(0,Di._)`${cl.default.vErrors}.length`),(0,bIe.extendErrors)(t)},()=>t.error())}function SIe({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function b9(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Di.stringify)(r)})}function EIe(t,e,r=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||r&&typeof t>"u")}Hs.validSchemaType=EIe;function RIe({schema:t,opts:e,self:r,errSchemaPath:i},n,s){if(Array.isArray(n.keyword)?!n.keyword.includes(s):n.keyword!==s)throw new Error("ajv implementation error");let o=n.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[s])){let c=`keyword "${s}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Hs.validateKeywordUsage=RIe});var x9=w(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.extendSubschemaMode=Ga.extendSubschemaData=Ga.getSubschema=void 0;var Bs=qe(),w9=vt();function TIe(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:s,topSchemaRef:o}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,Bs._)`${t.schemaPath}${(0,Bs.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,Bs._)`${t.schemaPath}${(0,Bs.getProperty)(e)}${(0,Bs.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,w9.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Ga.getSubschema=TIe;function $Ie(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:s,propertyName:o}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:l,dataPathArr:u,opts:f}=e,p=a.let("data",(0,Bs._)`${e.data}${(0,Bs.getProperty)(r)}`,!0);c(p),t.errorPath=(0,Bs.str)`${l}${(0,w9.getErrorPath)(r,i,f.jsPropertySyntax)}`,t.parentDataProperty=(0,Bs._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(n!==void 0){let l=n instanceof Bs.Name?n:a.let("data",n,!0);c(l),o!==void 0&&(t.propertyName=o)}s&&(t.dataTypes=s);function c(l){t.data=l,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,l]}}Ga.extendSubschemaData=$Ie;function PIe(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:s}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}Ga.extendSubschemaMode=PIe});var E9=w((Qst,S9)=>{"use strict";var Ka=S9.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};ob(e,i,n,t,"",t)};Ka.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ka.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ka.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ka.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ob(t,e,r,i,n,s,o,a,c,l){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,s,o,a,c,l);for(var u in i){var f=i[u];if(Array.isArray(f)){if(u in Ka.arrayKeywords)for(var p=0;p<f.length;p++)ob(t,e,r,f[p],n+"/"+u+"/"+p,s,n,u,i,p)}else if(u in Ka.propsKeywords){if(f&&typeof f=="object")for(var d in f)ob(t,e,r,f[d],n+"/"+u+"/"+OIe(d),s,n,u,i,d)}else(u in Ka.keywords||t.allKeys&&!(u in Ka.skipKeywords))&&ob(t,e,r,f,n+"/"+u,s,n,u,i)}r(i,n,s,o,a,c,l)}}function OIe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var qh=w(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.getSchemaRefs=sn.resolveUrl=sn.normalizeId=sn._getFullPath=sn.getFullPath=sn.inlineRef=void 0;var kIe=vt(),AIe=bn(),CIe=E9(),NIe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function IIe(t,e=!0){return typeof t=="boolean"?!0:e===!0?!UO(t):e?R9(t)<=e:!1}sn.inlineRef=IIe;var jIe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function UO(t){for(let e in t){if(jIe.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(UO)||typeof r=="object"&&UO(r))return!0}return!1}function R9(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!NIe.has(r)&&(typeof t[r]=="object"&&(0,kIe.eachItem)(t[r],i=>e+=R9(i)),e===1/0))return 1/0}return e}function T9(t,e="",r){r!==!1&&(e=hf(e));let i=t.parse(e);return $9(t,i)}sn.getFullPath=T9;function $9(t,e){return t.serialize(e).split("#")[0]+"#"}sn._getFullPath=$9;var qIe=/#\/?$/;function hf(t){return t?t.replace(qIe,""):""}sn.normalizeId=hf;function MIe(t,e,r){return r=hf(r),t.resolve(e,r)}sn.resolveUrl=MIe;var DIe=/^[a-z_][-a-z0-9._]*$/i;function LIe(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:i}=this.opts,n=hf(t[r]||e),s={"":n},o=T9(i,n,!1),a={},c=new Set;return CIe(t,{allKeys:!0},(f,p,d,h)=>{if(h===void 0)return;let m=o+p,v=s[h];typeof f[r]=="string"&&(v=y.call(this,f[r])),E.call(this,f.$anchor),E.call(this,f.$dynamicAnchor),s[p]=v;function y(_){let b=this.opts.uriResolver.resolve;if(_=hf(v?b(v,_):_),c.has(_))throw u(_);c.add(_);let $=this.refs[_];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?l(f,$.schema,_):_!==hf(m)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=m),_}function E(_){if(typeof _=="string"){if(!DIe.test(_))throw new Error(`invalid anchor "${_}"`);y.call(this,`#${_}`)}}}),a;function l(f,p,d){if(p!==void 0&&!AIe(f,p))throw u(d)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}sn.getSchemaRefs=LIe});var Lh=w(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.getData=Ja.KeywordCxt=Ja.validateFunctionCode=void 0;var C9=c9(),P9=jh(),BO=jO(),ab=jh(),FIe=m9(),Dh=_9(),HO=x9(),ye=qe(),$e=Uo(),zIe=qh(),Ho=vt(),Mh=Ih();function UIe(t){if(j9(t)&&(q9(t),I9(t))){VIe(t);return}N9(t,()=>(0,C9.topBoolOrEmptySchema)(t))}Ja.validateFunctionCode=UIe;function N9({gen:t,validateName:e,schema:r,schemaEnv:i,opts:n},s){n.code.es5?t.func(e,(0,ye._)`${$e.default.data}, ${$e.default.valCxt}`,i.$async,()=>{t.code((0,ye._)`"use strict"; ${O9(r,n)}`),BIe(t,n),t.code(s)}):t.func(e,(0,ye._)`${$e.default.data}, ${HIe(n)}`,i.$async,()=>t.code(O9(r,n)).code(s))}function HIe(t){return(0,ye._)`{${$e.default.instancePath}="", ${$e.default.parentData}, ${$e.default.parentDataProperty}, ${$e.default.rootData}=${$e.default.data}${t.dynamicRef?(0,ye._)`, ${$e.default.dynamicAnchors}={}`:ye.nil}}={}`}function BIe(t,e){t.if($e.default.valCxt,()=>{t.var($e.default.instancePath,(0,ye._)`${$e.default.valCxt}.${$e.default.instancePath}`),t.var($e.default.parentData,(0,ye._)`${$e.default.valCxt}.${$e.default.parentData}`),t.var($e.default.parentDataProperty,(0,ye._)`${$e.default.valCxt}.${$e.default.parentDataProperty}`),t.var($e.default.rootData,(0,ye._)`${$e.default.valCxt}.${$e.default.rootData}`),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,ye._)`${$e.default.valCxt}.${$e.default.dynamicAnchors}`)},()=>{t.var($e.default.instancePath,(0,ye._)`""`),t.var($e.default.parentData,(0,ye._)`undefined`),t.var($e.default.parentDataProperty,(0,ye._)`undefined`),t.var($e.default.rootData,$e.default.data),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,ye._)`{}`)})}function VIe(t){let{schema:e,opts:r,gen:i}=t;N9(t,()=>{r.$comment&&e.$comment&&D9(t),YIe(t),i.let($e.default.vErrors,null),i.let($e.default.errors,0),r.unevaluated&&WIe(t),M9(t),QIe(t)})}function WIe(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,ye._)`${r}.evaluated`),e.if((0,ye._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,ye._)`${t.evaluated}.props`,(0,ye._)`undefined`)),e.if((0,ye._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,ye._)`${t.evaluated}.items`,(0,ye._)`undefined`))}function O9(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,ye._)`/*# sourceURL=${r} */`:ye.nil}function GIe(t,e){if(j9(t)&&(q9(t),I9(t))){KIe(t,e);return}(0,C9.boolOrEmptySchema)(t,e)}function I9({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function j9(t){return typeof t.schema!="boolean"}function KIe(t,e){let{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&D9(t),XIe(t),ZIe(t);let s=i.const("_errs",$e.default.errors);M9(t,s),i.var(e,(0,ye._)`${s} === ${$e.default.errors}`)}function q9(t){(0,Ho.checkUnknownRules)(t),JIe(t)}function M9(t,e){if(t.opts.jtd)return k9(t,[],!1,e);let r=(0,P9.getSchemaTypes)(t.schema),i=(0,P9.coerceAndCheckDataType)(t,r);k9(t,r,!i,e)}function JIe(t){let{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&(0,Ho.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function YIe(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ho.checkStrictMode)(t,"default is ignored in the schema root")}function XIe(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,zIe.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function ZIe(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function D9({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){let s=r.$comment;if(n.$comment===!0)t.code((0,ye._)`${$e.default.self}.logger.log(${s})`);else if(typeof n.$comment=="function"){let o=(0,ye.str)`${i}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,ye._)`${$e.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function QIe(t){let{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:s}=t;r.$async?e.if((0,ye._)`${$e.default.errors} === 0`,()=>e.return($e.default.data),()=>e.throw((0,ye._)`new ${n}(${$e.default.vErrors})`)):(e.assign((0,ye._)`${i}.errors`,$e.default.vErrors),s.unevaluated&&eje(t),e.return((0,ye._)`${$e.default.errors} === 0`))}function eje({gen:t,evaluated:e,props:r,items:i}){r instanceof ye.Name&&t.assign((0,ye._)`${e}.props`,r),i instanceof ye.Name&&t.assign((0,ye._)`${e}.items`,i)}function k9(t,e,r,i){let{gen:n,schema:s,data:o,allErrors:a,opts:c,self:l}=t,{RULES:u}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,Ho.schemaHasRulesButRef)(s,u))){n.block(()=>F9(t,"$ref",u.all.$ref.definition));return}c.jtd||tje(t,e),n.block(()=>{for(let p of u.rules)f(p);f(u.post)});function f(p){(0,BO.shouldUseGroup)(s,p)&&(p.type?(n.if((0,ab.checkDataType)(p.type,o,c.strictNumbers)),A9(t,p),e.length===1&&e[0]===p.type&&r&&(n.else(),(0,ab.reportTypeError)(t)),n.endIf()):A9(t,p),a||n.if((0,ye._)`${$e.default.errors} === ${i||0}`))}}function A9(t,e){let{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&(0,FIe.assignDefaults)(t,e.type),r.block(()=>{for(let s of e.rules)(0,BO.shouldUseRule)(i,s)&&F9(t,s.keyword,s.definition,e.type)})}function tje(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(rje(t,e),t.opts.allowUnionTypes||ije(t,e),nje(t,t.dataTypes))}function rje(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{L9(t.dataTypes,r)||VO(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),oje(t,e)}}function ije(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&VO(t,"use allowUnionTypes to allow union type keyword")}function nje(t,e){let r=t.self.RULES.all;for(let i in r){let n=r[i];if(typeof n=="object"&&(0,BO.shouldUseRule)(t.schema,n)){let{type:s}=n.definition;s.length&&!s.some(o=>sje(e,o))&&VO(t,`missing type "${s.join(",")}" for keyword "${i}"`)}}}function sje(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function L9(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function oje(t,e){let r=[];for(let i of t.dataTypes)L9(e,i)?r.push(i):e.includes("integer")&&i==="number"&&r.push("integer");t.dataTypes=r}function VO(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Ho.checkStrictMode)(t,e,t.opts.strictTypes)}var cb=class{constructor(e,r,i){if((0,Dh.validateKeywordUsage)(e,r,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ho.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",z9(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Dh.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",$e.default.errors))}result(e,r,i){this.failResult((0,ye.not)(e),r,i)}failResult(e,r,i){this.gen.if(e),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,ye.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,ye._)`${r} !== undefined && (${(0,ye.or)(this.invalid$data(),e)})`)}error(e,r,i){if(r){this.setParams(r),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,r){(e?Mh.reportExtraError:Mh.reportError)(this,this.def.error,r)}$dataError(){(0,Mh.reportError)(this,this.def.$dataError||Mh.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Mh.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,i=ye.nil){this.gen.block(()=>{this.check$data(e,i),r()})}check$data(e=ye.nil,r=ye.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:s,def:o}=this;i.if((0,ye.or)((0,ye._)`${n} === undefined`,r)),e!==ye.nil&&i.assign(e,!0),(s.length||o.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==ye.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:i,def:n,it:s}=this;return(0,ye.or)(o(),a());function o(){if(i.length){if(!(r instanceof ye.Name))throw new Error("ajv implementation error");let c=Array.isArray(i)?i:[i];return(0,ye._)`${(0,ab.checkDataTypes)(c,r,s.opts.strictNumbers,ab.DataType.Wrong)}`}return ye.nil}function a(){if(n.validateSchema){let c=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,ye._)`!${c}(${r})`}return ye.nil}}subschema(e,r){let i=(0,HO.getSubschema)(this.it,e);(0,HO.extendSubschemaData)(i,this.it,e),(0,HO.extendSubschemaMode)(i,e);let n={...this.it,...i,items:void 0,props:void 0};return GIe(n,r),n}mergeEvaluated(e,r){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=Ho.mergeEvaluated.props(n,e.props,i.props,r)),i.items!==!0&&e.items!==void 0&&(i.items=Ho.mergeEvaluated.items(n,e.items,i.items,r)))}mergeValidEvaluated(e,r){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,ye.Name)),!0}};Ja.KeywordCxt=cb;function F9(t,e,r,i){let n=new cb(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?(0,Dh.funcKeywordCode)(n,r):"macro"in r?(0,Dh.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Dh.funcKeywordCode)(n,r)}var aje=/^\/(?:[^~]|~0|~1)*$/,cje=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function z9(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,s;if(t==="")return $e.default.rootData;if(t[0]==="/"){if(!aje.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,s=$e.default.rootData}else{let l=cje.exec(t);if(!l)throw new Error(`Invalid JSON-pointer: ${t}`);let u=+l[1];if(n=l[2],n==="#"){if(u>=e)throw new Error(c("property/index",u));return i[e-u]}if(u>e)throw new Error(c("data",u));if(s=r[e-u],!n)return s}let o=s,a=n.split("/");for(let l of a)l&&(s=(0,ye._)`${s}${(0,ye.getProperty)((0,Ho.unescapeJsonPointer)(l))}`,o=(0,ye._)`${o} && ${s}`);return o;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${e}`}}Ja.getData=z9});var lb=w(GO=>{"use strict";Object.defineProperty(GO,"__esModule",{value:!0});var WO=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};GO.default=WO});var Fh=w(YO=>{"use strict";Object.defineProperty(YO,"__esModule",{value:!0});var KO=qh(),JO=class extends Error{constructor(e,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,KO.resolveUrl)(e,r,i),this.missingSchema=(0,KO.normalizeId)((0,KO.getFullPath)(e,this.missingRef))}};YO.default=JO});var fb=w(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.resolveSchema=An.getCompilingSchema=An.resolveRef=An.compileSchema=An.SchemaEnv=void 0;var ds=qe(),lje=lb(),ll=Uo(),ps=qh(),U9=vt(),uje=Lh(),mf=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,ps.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};An.SchemaEnv=mf;function ZO(t){let e=H9.call(this,t);if(e)return e;let r=(0,ps.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,o=new ds.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s}),a;t.$async&&(a=o.scopeValue("Error",{ref:lje.default,code:(0,ds._)`require("ajv/dist/runtime/validation_error").default`}));let c=o.scopeName("validate");t.validateName=c;let l={gen:o,allErrors:this.opts.allErrors,data:ll.default.data,parentData:ll.default.parentData,parentDataProperty:ll.default.parentDataProperty,dataNames:[ll.default.data],dataPathArr:[ds.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,ds.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:ds.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ds._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(t),(0,uje.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let f=o.toString();u=`${o.scopeRefs(ll.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,t));let d=new Function(`${ll.default.self}`,`${ll.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:d}),d.errors=null,d.schema=t.schema,d.schemaEnv=t,t.$async&&(d.$async=!0),this.opts.code.source===!0&&(d.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){let{props:h,items:m}=l;d.evaluated={props:h instanceof ds.Name?void 0:h,items:m instanceof ds.Name?void 0:m,dynamicProps:h instanceof ds.Name,dynamicItems:m instanceof ds.Name},d.source&&(d.source.evaluated=(0,ds.stringify)(d.evaluated))}return t.validate=d,t}catch(f){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(t)}}An.compileSchema=ZO;function fje(t,e,r){var i;r=(0,ps.resolveUrl)(this.opts.uriResolver,e,r);let n=t.refs[r];if(n)return n;let s=hje.call(this,t,r);if(s===void 0){let o=(i=t.localRefs)===null||i===void 0?void 0:i[r],{schemaId:a}=this.opts;o&&(s=new mf({schema:o,schemaId:a,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=dje.call(this,s)}An.resolveRef=fje;function dje(t){return(0,ps.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ZO.call(this,t)}function H9(t){for(let e of this._compilations)if(pje(e,t))return e}An.getCompilingSchema=H9;function pje(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function hje(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||ub.call(this,t,e)}function ub(t,e){let r=this.opts.uriResolver.parse(e),i=(0,ps._getFullPath)(this.opts.uriResolver,r),n=(0,ps.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return XO.call(this,r,t);let s=(0,ps.normalizeId)(i),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=ub.call(this,t,o);return typeof a?.schema!="object"?void 0:XO.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||ZO.call(this,o),s===(0,ps.normalizeId)(e)){let{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(n=(0,ps.resolveUrl)(this.opts.uriResolver,n,l)),new mf({schema:a,schemaId:c,root:t,baseId:n})}return XO.call(this,r,o)}}An.resolveSchema=ub;var mje=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function XO(t,{baseId:e,schema:r,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,U9.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!mje.has(a)&&l&&(e=(0,ps.resolveUrl)(this.opts.uriResolver,e,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,U9.schemaHasRulesButRef)(r,this.RULES)){let a=(0,ps.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=ub.call(this,i,a)}let{schemaId:o}=this.opts;if(s=s||new mf({schema:r,schemaId:o,root:i,baseId:e}),s.schema!==s.root.schema)return s}});var B9=w((sot,gje)=>{gje.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var W9=w(QO=>{"use strict";Object.defineProperty(QO,"__esModule",{value:!0});var V9=zv();V9.code='require("ajv/dist/runtime/uri").default';QO.default=V9});var e8=w(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.CodeGen=Qr.Name=Qr.nil=Qr.stringify=Qr.str=Qr._=Qr.KeywordCxt=void 0;var yje=Lh();Object.defineProperty(Qr,"KeywordCxt",{enumerable:!0,get:function(){return yje.KeywordCxt}});var gf=qe();Object.defineProperty(Qr,"_",{enumerable:!0,get:function(){return gf._}});Object.defineProperty(Qr,"str",{enumerable:!0,get:function(){return gf.str}});Object.defineProperty(Qr,"stringify",{enumerable:!0,get:function(){return gf.stringify}});Object.defineProperty(Qr,"nil",{enumerable:!0,get:function(){return gf.nil}});Object.defineProperty(Qr,"Name",{enumerable:!0,get:function(){return gf.Name}});Object.defineProperty(Qr,"CodeGen",{enumerable:!0,get:function(){return gf.CodeGen}});var vje=lb(),X9=Fh(),bje=IO(),zh=fb(),_je=qe(),Uh=qh(),db=jh(),tk=vt(),G9=B9(),wje=W9(),Z9=(t,e)=>new RegExp(t,e);Z9.code="new RegExp";var xje=["removeAdditional","useDefaults","coerceTypes"],Sje=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Eje={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Rje={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},K9=200;function Tje(t){var e,r,i,n,s,o,a,c,l,u,f,p,d,h,m,v,y,E,_,b,$,k,O,N,L;let T=t.strict,g=(e=t.code)===null||e===void 0?void 0:e.optimize,x=g===!0||g===void 0?1:g||0,R=(i=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&i!==void 0?i:Z9,P=(n=t.uriResolver)!==null&&n!==void 0?n:wje.default;return{strictSchema:(o=(s=t.strictSchema)!==null&&s!==void 0?s:T)!==null&&o!==void 0?o:!0,strictNumbers:(c=(a=t.strictNumbers)!==null&&a!==void 0?a:T)!==null&&c!==void 0?c:!0,strictTypes:(u=(l=t.strictTypes)!==null&&l!==void 0?l:T)!==null&&u!==void 0?u:"log",strictTuples:(p=(f=t.strictTuples)!==null&&f!==void 0?f:T)!==null&&p!==void 0?p:"log",strictRequired:(h=(d=t.strictRequired)!==null&&d!==void 0?d:T)!==null&&h!==void 0?h:!1,code:t.code?{...t.code,optimize:x,regExp:R}:{optimize:x,regExp:R},loopRequired:(m=t.loopRequired)!==null&&m!==void 0?m:K9,loopEnum:(v=t.loopEnum)!==null&&v!==void 0?v:K9,meta:(y=t.meta)!==null&&y!==void 0?y:!0,messages:(E=t.messages)!==null&&E!==void 0?E:!0,inlineRefs:(_=t.inlineRefs)!==null&&_!==void 0?_:!0,schemaId:(b=t.schemaId)!==null&&b!==void 0?b:"$id",addUsedSchema:($=t.addUsedSchema)!==null&&$!==void 0?$:!0,validateSchema:(k=t.validateSchema)!==null&&k!==void 0?k:!0,validateFormats:(O=t.validateFormats)!==null&&O!==void 0?O:!0,unicodeRegExp:(N=t.unicodeRegExp)!==null&&N!==void 0?N:!0,int32range:(L=t.int32range)!==null&&L!==void 0?L:!0,uriResolver:P}}var Hh=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...Tje(e)};let{es5:r,lines:i}=this.opts.code;this.scope=new _je.ValueScope({scope:{},prefixes:Sje,es5:r,lines:i}),this.logger=Cje(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,bje.getRules)(),J9.call(this,Eje,e,"NOT SUPPORTED"),J9.call(this,Rje,e,"DEPRECATED","warn"),this._metaOpts=kje.call(this),e.formats&&Pje.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Oje.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),$je.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:i}=this.opts,n=G9;i==="id"&&(n={...G9},n.id=n.$id,delete n.$id),r&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(r);return"$async"in i||(this.errors=i.errors),n}compile(e,r){let i=this._addSchema(e,r);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,r);async function n(u,f){await s.call(this,u.$schema);let p=this._addSchema(u,f);return p.validate||o.call(this,p)}async function s(u){u&&!this.getSchema(u)&&await n.call(this,{$ref:u},!0)}async function o(u){try{return this._compileSchemaEnv(u)}catch(f){if(!(f instanceof X9.default))throw f;return a.call(this,f),await c.call(this,f.missingSchema),o.call(this,u)}}function a({missingSchema:u,missingRef:f}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${f} cannot be resolved`)}async function c(u){let f=await l.call(this,u);this.refs[u]||await s.call(this,f.$schema),this.refs[u]||this.addSchema(f,u,r)}async function l(u){let f=this._loading[u];if(f)return f;try{return await(this._loading[u]=i(u))}finally{delete this._loading[u]}}}addSchema(e,r,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,i,n);return this}let s;if(typeof e=="object"){let{schemaId:o}=this.opts;if(s=e[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,Uh.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(e,i,r,n,!0),this}addMetaSchema(e,r,i=this.opts.validateSchema){return this.addSchema(e,r,!0,i),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return n}getSchema(e){let r;for(;typeof(r=Y9.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:i}=this.opts,n=new zh.SchemaEnv({schema:{},schemaId:i});if(r=zh.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Y9.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let i=e[this.opts.schemaId];return i&&(i=(0,Uh.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let i;if(typeof e=="string")i=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=i);else if(typeof e=="object"&&r===void 0){if(r=e,i=r.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Ije.call(this,i,r),!r)return(0,tk.eachItem)(i,s=>ek.call(this,s)),this;qje.call(this,r);let n={...r,type:(0,db.getJSONTypes)(r.type),schemaType:(0,db.getJSONTypes)(r.schemaType)};return(0,tk.eachItem)(i,n.type.length===0?s=>ek.call(this,s,n):s=>n.type.forEach(o=>ek.call(this,s,n,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let i of r.rules){let n=i.rules.findIndex(s=>s.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,s)=>n+r+s)}$dataMetaSchema(e,r){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of r){let s=n.split("/").slice(1),o=e;for(let a of s)o=o[a];for(let a in i){let c=i[a];if(typeof c!="object")continue;let{$data:l}=c.definition,u=o[a];l&&u&&(o[a]=Q9(u))}}return e}_removeAllSchemas(e,r){for(let i in e){let n=e[i];(!r||r.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,r,i,n=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof e=="object")o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;i=(0,Uh.normalizeId)(o||i);let l=Uh.getSchemaRefs.call(this,e,i);return c=new zh.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:i,localRefs:l}),this._cache.set(c.schema,c),s&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=c),n&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):zh.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{zh.compileSchema.call(this,e)}finally{this.opts=r}}};Hh.ValidationError=vje.default;Hh.MissingRefError=X9.default;Qr.default=Hh;function J9(t,e,r,i="error"){for(let n in t){let s=n;s in e&&this.logger[i](`${r}: option ${n}. ${t[s]}`)}}function Y9(t){return t=(0,Uh.normalizeId)(t),this.schemas[t]||this.refs[t]}function $je(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Pje(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Oje(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function kje(){let t={...this.opts};for(let e of xje)delete t[e];return t}var Aje={log(){},warn(){},error(){}};function Cje(t){if(t===!1)return Aje;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Nje=/^[a-z_$][a-z0-9_$:-]*$/i;function Ije(t,e){let{RULES:r}=this;if((0,tk.eachItem)(t,i=>{if(r.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!Nje.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function ek(t,e,r){var i;let n=e?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=n?s.post:s.rules.find(({type:c})=>c===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,db.getJSONTypes)(e.type),schemaType:(0,db.getJSONTypes)(e.schemaType)}};e.before?jje.call(this,o,a,e.before):o.rules.push(a),s.all[t]=a,(i=e.implements)===null||i===void 0||i.forEach(c=>this.addKeyword(c))}function jje(t,e,r){let i=t.rules.findIndex(n=>n.keyword===r);i>=0?t.rules.splice(i,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function qje(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=Q9(e)),t.validateSchema=this.compile(e,!0))}var Mje={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Q9(t){return{anyOf:[t,Mje]}}});var t8=w(rk=>{"use strict";Object.defineProperty(rk,"__esModule",{value:!0});var Dje={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};rk.default=Dje});var s8=w(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.callRef=ul.getValidate=void 0;var Lje=Fh(),r8=kn(),on=qe(),yf=Uo(),i8=fb(),pb=vt(),Fje={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:i}=t,{baseId:n,schemaEnv:s,validateName:o,opts:a,self:c}=i,{root:l}=s;if((r==="#"||r==="#/")&&n===l.baseId)return f();let u=i8.resolveRef.call(c,l,n,r);if(u===void 0)throw new Lje.default(i.opts.uriResolver,n,r);if(u instanceof i8.SchemaEnv)return p(u);return d(u);function f(){if(s===l)return hb(t,o,s,s.$async);let h=e.scopeValue("root",{ref:l});return hb(t,(0,on._)`${h}.validate`,l,l.$async)}function p(h){let m=n8(t,h);hb(t,m,h,h.$async)}function d(h){let m=e.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,on.stringify)(h)}:{ref:h}),v=e.name("valid"),y=t.subschema({schema:h,dataTypes:[],schemaPath:on.nil,topSchemaRef:m,errSchemaPath:r},v);t.mergeEvaluated(y),t.ok(v)}}};function n8(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,on._)`${r.scopeValue("wrapper",{ref:e})}.validate`}ul.getValidate=n8;function hb(t,e,r,i){let{gen:n,it:s}=t,{allErrors:o,schemaEnv:a,opts:c}=s,l=c.passContext?yf.default.this:on.nil;i?u():f();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=n.let("valid");n.try(()=>{n.code((0,on._)`await ${(0,r8.callValidateCode)(t,e,l)}`),d(e),o||n.assign(h,!0)},m=>{n.if((0,on._)`!(${m} instanceof ${s.ValidationError})`,()=>n.throw(m)),p(m),o||n.assign(h,!1)}),t.ok(h)}function f(){t.result((0,r8.callValidateCode)(t,e,l),()=>d(e),()=>p(e))}function p(h){let m=(0,on._)`${h}.errors`;n.assign(yf.default.vErrors,(0,on._)`${yf.default.vErrors} === null ? ${m} : ${yf.default.vErrors}.concat(${m})`),n.assign(yf.default.errors,(0,on._)`${yf.default.vErrors}.length`)}function d(h){var m;if(!s.opts.unevaluated)return;let v=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=pb.mergeEvaluated.props(n,v.props,s.props));else{let y=n.var("props",(0,on._)`${h}.evaluated.props`);s.props=pb.mergeEvaluated.props(n,y,s.props,on.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=pb.mergeEvaluated.items(n,v.items,s.items));else{let y=n.var("items",(0,on._)`${h}.evaluated.items`);s.items=pb.mergeEvaluated.items(n,y,s.items,on.Name)}}}ul.callRef=hb;ul.default=Fje});var o8=w(ik=>{"use strict";Object.defineProperty(ik,"__esModule",{value:!0});var zje=t8(),Uje=s8(),Hje=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",zje.default,Uje.default];ik.default=Hje});var a8=w(nk=>{"use strict";Object.defineProperty(nk,"__esModule",{value:!0});var mb=qe(),Ya=mb.operators,gb={maximum:{okStr:"<=",ok:Ya.LTE,fail:Ya.GT},minimum:{okStr:">=",ok:Ya.GTE,fail:Ya.LT},exclusiveMaximum:{okStr:"<",ok:Ya.LT,fail:Ya.GTE},exclusiveMinimum:{okStr:">",ok:Ya.GT,fail:Ya.LTE}},Bje={message:({keyword:t,schemaCode:e})=>(0,mb.str)`must be ${gb[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,mb._)`{comparison: ${gb[t].okStr}, limit: ${e}}`},Vje={keyword:Object.keys(gb),type:"number",schemaType:"number",$data:!0,error:Bje,code(t){let{keyword:e,data:r,schemaCode:i}=t;t.fail$data((0,mb._)`${r} ${gb[e].fail} ${i} || isNaN(${r})`)}};nk.default=Vje});var c8=w(sk=>{"use strict";Object.defineProperty(sk,"__esModule",{value:!0});var Bh=qe(),Wje={message:({schemaCode:t})=>(0,Bh.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Bh._)`{multipleOf: ${t}}`},Gje={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Wje,code(t){let{gen:e,data:r,schemaCode:i,it:n}=t,s=n.opts.multipleOfPrecision,o=e.let("res"),a=s?(0,Bh._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Bh._)`${o} !== parseInt(${o})`;t.fail$data((0,Bh._)`(${i} === 0 || (${o} = ${r}/${i}, ${a}))`)}};sk.default=Gje});var u8=w(ok=>{"use strict";Object.defineProperty(ok,"__esModule",{value:!0});function l8(t){let e=t.length,r=0,i=0,n;for(;i<e;)r++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return r}ok.default=l8;l8.code='require("ajv/dist/runtime/ucs2length").default'});var f8=w(ak=>{"use strict";Object.defineProperty(ak,"__esModule",{value:!0});var fl=qe(),Kje=vt(),Jje=u8(),Yje={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,fl.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,fl._)`{limit: ${t}}`},Xje={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Yje,code(t){let{keyword:e,data:r,schemaCode:i,it:n}=t,s=e==="maxLength"?fl.operators.GT:fl.operators.LT,o=n.opts.unicode===!1?(0,fl._)`${r}.length`:(0,fl._)`${(0,Kje.useFunc)(t.gen,Jje.default)}(${r})`;t.fail$data((0,fl._)`${o} ${s} ${i}`)}};ak.default=Xje});var d8=w(ck=>{"use strict";Object.defineProperty(ck,"__esModule",{value:!0});var Zje=kn(),yb=qe(),Qje={message:({schemaCode:t})=>(0,yb.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,yb._)`{pattern: ${t}}`},eqe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Qje,code(t){let{data:e,$data:r,schema:i,schemaCode:n,it:s}=t,o=s.opts.unicodeRegExp?"u":"",a=r?(0,yb._)`(new RegExp(${n}, ${o}))`:(0,Zje.usePattern)(t,i);t.fail$data((0,yb._)`!${a}.test(${e})`)}};ck.default=eqe});var p8=w(lk=>{"use strict";Object.defineProperty(lk,"__esModule",{value:!0});var Vh=qe(),tqe={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Vh.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Vh._)`{limit: ${t}}`},rqe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:tqe,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxProperties"?Vh.operators.GT:Vh.operators.LT;t.fail$data((0,Vh._)`Object.keys(${r}).length ${n} ${i}`)}};lk.default=rqe});var h8=w(uk=>{"use strict";Object.defineProperty(uk,"__esModule",{value:!0});var Wh=kn(),Gh=qe(),iqe=vt(),nqe={message:({params:{missingProperty:t}})=>(0,Gh.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Gh._)`{missingProperty: ${t}}`},sqe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:nqe,code(t){let{gen:e,schema:r,schemaCode:i,data:n,$data:s,it:o}=t,{opts:a}=o;if(!s&&r.length===0)return;let c=r.length>=a.loopRequired;if(o.allErrors?l():u(),a.strictRequired){let d=t.parentSchema.properties,{definedProperties:h}=t.it;for(let m of r)if(d?.[m]===void 0&&!h.has(m)){let v=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${m}" is not defined at "${v}" (strictRequired)`;(0,iqe.checkStrictMode)(o,y,o.opts.strictRequired)}}function l(){if(c||s)t.block$data(Gh.nil,f);else for(let d of r)(0,Wh.checkReportMissingProp)(t,d)}function u(){let d=e.let("missing");if(c||s){let h=e.let("valid",!0);t.block$data(h,()=>p(d,h)),t.ok(h)}else e.if((0,Wh.checkMissingProp)(t,r,d)),(0,Wh.reportMissingProp)(t,d),e.else()}function f(){e.forOf("prop",i,d=>{t.setParams({missingProperty:d}),e.if((0,Wh.noPropertyInData)(e,n,d,a.ownProperties),()=>t.error())})}function p(d,h){t.setParams({missingProperty:d}),e.forOf(d,i,()=>{e.assign(h,(0,Wh.propertyInData)(e,n,d,a.ownProperties)),e.if((0,Gh.not)(h),()=>{t.error(),e.break()})},Gh.nil)}}};uk.default=sqe});var m8=w(fk=>{"use strict";Object.defineProperty(fk,"__esModule",{value:!0});var Kh=qe(),oqe={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Kh.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Kh._)`{limit: ${t}}`},aqe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:oqe,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxItems"?Kh.operators.GT:Kh.operators.LT;t.fail$data((0,Kh._)`${r}.length ${n} ${i}`)}};fk.default=aqe});var vb=w(dk=>{"use strict";Object.defineProperty(dk,"__esModule",{value:!0});var g8=bn();g8.code='require("ajv/dist/runtime/equal").default';dk.default=g8});var y8=w(hk=>{"use strict";Object.defineProperty(hk,"__esModule",{value:!0});var pk=jh(),ei=qe(),cqe=vt(),lqe=vb(),uqe={message:({params:{i:t,j:e}})=>(0,ei.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ei._)`{i: ${t}, j: ${e}}`},fqe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:uqe,code(t){let{gen:e,data:r,$data:i,schema:n,parentSchema:s,schemaCode:o,it:a}=t;if(!i&&!n)return;let c=e.let("valid"),l=s.items?(0,pk.getSchemaTypes)(s.items):[];t.block$data(c,u,(0,ei._)`${o} === false`),t.ok(c);function u(){let h=e.let("i",(0,ei._)`${r}.length`),m=e.let("j");t.setParams({i:h,j:m}),e.assign(c,!0),e.if((0,ei._)`${h} > 1`,()=>(f()?p:d)(h,m))}function f(){return l.length>0&&!l.some(h=>h==="object"||h==="array")}function p(h,m){let v=e.name("item"),y=(0,pk.checkDataTypes)(l,v,a.opts.strictNumbers,pk.DataType.Wrong),E=e.const("indices",(0,ei._)`{}`);e.for((0,ei._)`;${h}--;`,()=>{e.let(v,(0,ei._)`${r}[${h}]`),e.if(y,(0,ei._)`continue`),l.length>1&&e.if((0,ei._)`typeof ${v} == "string"`,(0,ei._)`${v} += "_"`),e.if((0,ei._)`typeof ${E}[${v}] == "number"`,()=>{e.assign(m,(0,ei._)`${E}[${v}]`),t.error(),e.assign(c,!1).break()}).code((0,ei._)`${E}[${v}] = ${h}`)})}function d(h,m){let v=(0,cqe.useFunc)(e,lqe.default),y=e.name("outer");e.label(y).for((0,ei._)`;${h}--;`,()=>e.for((0,ei._)`${m} = ${h}; ${m}--;`,()=>e.if((0,ei._)`${v}(${r}[${h}], ${r}[${m}])`,()=>{t.error(),e.assign(c,!1).break(y)})))}}};hk.default=fqe});var v8=w(gk=>{"use strict";Object.defineProperty(gk,"__esModule",{value:!0});var mk=qe(),dqe=vt(),pqe=vb(),hqe={message:"must be equal to constant",params:({schemaCode:t})=>(0,mk._)`{allowedValue: ${t}}`},mqe={keyword:"const",$data:!0,error:hqe,code(t){let{gen:e,data:r,$data:i,schemaCode:n,schema:s}=t;i||s&&typeof s=="object"?t.fail$data((0,mk._)`!${(0,dqe.useFunc)(e,pqe.default)}(${r}, ${n})`):t.fail((0,mk._)`${s} !== ${r}`)}};gk.default=mqe});var b8=w(yk=>{"use strict";Object.defineProperty(yk,"__esModule",{value:!0});var Jh=qe(),gqe=vt(),yqe=vb(),vqe={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Jh._)`{allowedValues: ${t}}`},bqe={keyword:"enum",schemaType:"array",$data:!0,error:vqe,code(t){let{gen:e,data:r,$data:i,schema:n,schemaCode:s,it:o}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let a=n.length>=o.opts.loopEnum,c,l=()=>c??(c=(0,gqe.useFunc)(e,yqe.default)),u;if(a||i)u=e.let("valid"),t.block$data(u,f);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let d=e.const("vSchema",s);u=(0,Jh.or)(...n.map((h,m)=>p(d,m)))}t.pass(u);function f(){e.assign(u,!1),e.forOf("v",s,d=>e.if((0,Jh._)`${l()}(${r}, ${d})`,()=>e.assign(u,!0).break()))}function p(d,h){let m=n[h];return typeof m=="object"&&m!==null?(0,Jh._)`${l()}(${r}, ${d}[${h}])`:(0,Jh._)`${r} === ${m}`}}};yk.default=bqe});var _8=w(vk=>{"use strict";Object.defineProperty(vk,"__esModule",{value:!0});var _qe=a8(),wqe=c8(),xqe=f8(),Sqe=d8(),Eqe=p8(),Rqe=h8(),Tqe=m8(),$qe=y8(),Pqe=v8(),Oqe=b8(),kqe=[_qe.default,wqe.default,xqe.default,Sqe.default,Eqe.default,Rqe.default,Tqe.default,$qe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Pqe.default,Oqe.default];vk.default=kqe});var _k=w(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.validateAdditionalItems=void 0;var dl=qe(),bk=vt(),Aqe={message:({params:{len:t}})=>(0,dl.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,dl._)`{limit: ${t}}`},Cqe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Aqe,code(t){let{parentSchema:e,it:r}=t,{items:i}=e;if(!Array.isArray(i)){(0,bk.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}w8(t,i)}};function w8(t,e){let{gen:r,schema:i,data:n,keyword:s,it:o}=t;o.items=!0;let a=r.const("len",(0,dl._)`${n}.length`);if(i===!1)t.setParams({len:e.length}),t.pass((0,dl._)`${a} <= ${e.length}`);else if(typeof i=="object"&&!(0,bk.alwaysValidSchema)(o,i)){let l=r.var("valid",(0,dl._)`${a} <= ${e.length}`);r.if((0,dl.not)(l),()=>c(l)),t.ok(l)}function c(l){r.forRange("i",e.length,a,u=>{t.subschema({keyword:s,dataProp:u,dataPropType:bk.Type.Num},l),o.allErrors||r.if((0,dl.not)(l),()=>r.break())})}}Yh.validateAdditionalItems=w8;Yh.default=Cqe});var wk=w(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.validateTuple=void 0;var x8=qe(),bb=vt(),Nqe=kn(),Iqe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return S8(t,"additionalItems",e);r.items=!0,!(0,bb.alwaysValidSchema)(r,e)&&t.ok((0,Nqe.validateArray)(t))}};function S8(t,e,r=t.schema){let{gen:i,parentSchema:n,data:s,keyword:o,it:a}=t;u(n),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=bb.mergeEvaluated.items(i,r.length,a.items));let c=i.name("valid"),l=i.const("len",(0,x8._)`${s}.length`);r.forEach((f,p)=>{(0,bb.alwaysValidSchema)(a,f)||(i.if((0,x8._)`${l} > ${p}`,()=>t.subschema({keyword:o,schemaProp:p,dataProp:p},c)),t.ok(c))});function u(f){let{opts:p,errSchemaPath:d}=a,h=r.length,m=h===f.minItems&&(h===f.maxItems||f[e]===!1);if(p.strictTuples&&!m){let v=`"${o}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${d}"`;(0,bb.checkStrictMode)(a,v,p.strictTuples)}}}Xh.validateTuple=S8;Xh.default=Iqe});var E8=w(xk=>{"use strict";Object.defineProperty(xk,"__esModule",{value:!0});var jqe=wk(),qqe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,jqe.validateTuple)(t,"items")};xk.default=qqe});var T8=w(Sk=>{"use strict";Object.defineProperty(Sk,"__esModule",{value:!0});var R8=qe(),Mqe=vt(),Dqe=kn(),Lqe=_k(),Fqe={message:({params:{len:t}})=>(0,R8.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,R8._)`{limit: ${t}}`},zqe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Fqe,code(t){let{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,!(0,Mqe.alwaysValidSchema)(i,e)&&(n?(0,Lqe.validateAdditionalItems)(t,n):t.ok((0,Dqe.validateArray)(t)))}};Sk.default=zqe});var $8=w(Ek=>{"use strict";Object.defineProperty(Ek,"__esModule",{value:!0});var Cn=qe(),_b=vt(),Uqe={message:({params:{min:t,max:e}})=>e===void 0?(0,Cn.str)`must contain at least ${t} valid item(s)`:(0,Cn.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Cn._)`{minContains: ${t}}`:(0,Cn._)`{minContains: ${t}, maxContains: ${e}}`},Hqe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Uqe,code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:s}=t,o,a,{minContains:c,maxContains:l}=i;s.opts.next?(o=c===void 0?1:c,a=l):o=1;let u=e.const("len",(0,Cn._)`${n}.length`);if(t.setParams({min:o,max:a}),a===void 0&&o===0){(0,_b.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,_b.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,_b.alwaysValidSchema)(s,r)){let m=(0,Cn._)`${u} >= ${o}`;a!==void 0&&(m=(0,Cn._)`${m} && ${u} <= ${a}`),t.pass(m);return}s.items=!0;let f=e.name("valid");a===void 0&&o===1?d(f,()=>e.if(f,()=>e.break())):o===0?(e.let(f,!0),a!==void 0&&e.if((0,Cn._)`${n}.length > 0`,p)):(e.let(f,!1),p()),t.result(f,()=>t.reset());function p(){let m=e.name("_valid"),v=e.let("count",0);d(m,()=>e.if(m,()=>h(v)))}function d(m,v){e.forRange("i",0,u,y=>{t.subschema({keyword:"contains",dataProp:y,dataPropType:_b.Type.Num,compositeRule:!0},m),v()})}function h(m){e.code((0,Cn._)`${m}++`),a===void 0?e.if((0,Cn._)`${m} >= ${o}`,()=>e.assign(f,!0).break()):(e.if((0,Cn._)`${m} > ${a}`,()=>e.assign(f,!1).break()),o===1?e.assign(f,!0):e.if((0,Cn._)`${m} >= ${o}`,()=>e.assign(f,!0)))}}};Ek.default=Hqe});var k8=w(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.validateSchemaDeps=Vs.validatePropertyDeps=Vs.error=void 0;var Rk=qe(),Bqe=vt(),Zh=kn();Vs.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let i=e===1?"property":"properties";return(0,Rk.str)`must have ${i} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:i}})=>(0,Rk._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${r}}`};var Vqe={keyword:"dependencies",type:"object",schemaType:"object",error:Vs.error,code(t){let[e,r]=Wqe(t);P8(t,e),O8(t,r)}};function Wqe({schema:t}){let e={},r={};for(let i in t){if(i==="__proto__")continue;let n=Array.isArray(t[i])?e:r;n[i]=t[i]}return[e,r]}function P8(t,e=t.schema){let{gen:r,data:i,it:n}=t;if(Object.keys(e).length===0)return;let s=r.let("missing");for(let o in e){let a=e[o];if(a.length===0)continue;let c=(0,Zh.propertyInData)(r,i,o,n.opts.ownProperties);t.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),n.allErrors?r.if(c,()=>{for(let l of a)(0,Zh.checkReportMissingProp)(t,l)}):(r.if((0,Rk._)`${c} && (${(0,Zh.checkMissingProp)(t,a,s)})`),(0,Zh.reportMissingProp)(t,s),r.else())}}Vs.validatePropertyDeps=P8;function O8(t,e=t.schema){let{gen:r,data:i,keyword:n,it:s}=t,o=r.name("valid");for(let a in e)(0,Bqe.alwaysValidSchema)(s,e[a])||(r.if((0,Zh.propertyInData)(r,i,a,s.opts.ownProperties),()=>{let c=t.subschema({keyword:n,schemaProp:a},o);t.mergeValidEvaluated(c,o)},()=>r.var(o,!0)),t.ok(o))}Vs.validateSchemaDeps=O8;Vs.default=Vqe});var C8=w(Tk=>{"use strict";Object.defineProperty(Tk,"__esModule",{value:!0});var A8=qe(),Gqe=vt(),Kqe={message:"property name must be valid",params:({params:t})=>(0,A8._)`{propertyName: ${t.propertyName}}`},Jqe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Kqe,code(t){let{gen:e,schema:r,data:i,it:n}=t;if((0,Gqe.alwaysValidSchema)(n,r))return;let s=e.name("valid");e.forIn("key",i,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),e.if((0,A8.not)(s),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(s)}};Tk.default=Jqe});var Pk=w($k=>{"use strict";Object.defineProperty($k,"__esModule",{value:!0});var wb=kn(),hs=qe(),Yqe=Uo(),xb=vt(),Xqe={message:"must NOT have additional properties",params:({params:t})=>(0,hs._)`{additionalProperty: ${t.additionalProperty}}`},Zqe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Xqe,code(t){let{gen:e,schema:r,parentSchema:i,data:n,errsCount:s,it:o}=t;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,xb.alwaysValidSchema)(o,r))return;let l=(0,wb.allSchemaProperties)(i.properties),u=(0,wb.allSchemaProperties)(i.patternProperties);f(),t.ok((0,hs._)`${s} === ${Yqe.default.errors}`);function f(){e.forIn("key",n,v=>{!l.length&&!u.length?h(v):e.if(p(v),()=>h(v))})}function p(v){let y;if(l.length>8){let E=(0,xb.schemaRefOrVal)(o,i.properties,"properties");y=(0,wb.isOwnProperty)(e,E,v)}else l.length?y=(0,hs.or)(...l.map(E=>(0,hs._)`${v} === ${E}`)):y=hs.nil;return u.length&&(y=(0,hs.or)(y,...u.map(E=>(0,hs._)`${(0,wb.usePattern)(t,E)}.test(${v})`))),(0,hs.not)(y)}function d(v){e.code((0,hs._)`delete ${n}[${v}]`)}function h(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){d(v);return}if(r===!1){t.setParams({additionalProperty:v}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,xb.alwaysValidSchema)(o,r)){let y=e.name("valid");c.removeAdditional==="failing"?(m(v,y,!1),e.if((0,hs.not)(y),()=>{t.reset(),d(v)})):(m(v,y),a||e.if((0,hs.not)(y),()=>e.break()))}}function m(v,y,E){let _={keyword:"additionalProperties",dataProp:v,dataPropType:xb.Type.Str};E===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(_,y)}}};$k.default=Zqe});var j8=w(kk=>{"use strict";Object.defineProperty(kk,"__esModule",{value:!0});var Qqe=Lh(),N8=kn(),Ok=vt(),I8=Pk(),eMe={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:s}=t;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&I8.default.code(new Qqe.KeywordCxt(s,I8.default,"additionalProperties"));let o=(0,N8.allSchemaProperties)(r);for(let f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Ok.mergeEvaluated.props(e,(0,Ok.toHash)(o),s.props));let a=o.filter(f=>!(0,Ok.alwaysValidSchema)(s,r[f]));if(a.length===0)return;let c=e.name("valid");for(let f of a)l(f)?u(f):(e.if((0,N8.propertyInData)(e,n,f,s.opts.ownProperties)),u(f),s.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(c);function l(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};kk.default=eMe});var L8=w(Ak=>{"use strict";Object.defineProperty(Ak,"__esModule",{value:!0});var q8=kn(),Sb=qe(),M8=vt(),D8=vt(),tMe={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:i,parentSchema:n,it:s}=t,{opts:o}=s,a=(0,q8.allSchemaProperties)(r),c=a.filter(m=>(0,M8.alwaysValidSchema)(s,r[m]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&n.properties,u=e.name("valid");s.props!==!0&&!(s.props instanceof Sb.Name)&&(s.props=(0,D8.evaluatedPropsToName)(e,s.props));let{props:f}=s;p();function p(){for(let m of a)l&&d(m),s.allErrors?h(m):(e.var(u,!0),h(m),e.if(u))}function d(m){for(let v in l)new RegExp(m).test(v)&&(0,M8.checkStrictMode)(s,`property ${v} matches pattern ${m} (use allowMatchingProperties)`)}function h(m){e.forIn("key",i,v=>{e.if((0,Sb._)`${(0,q8.usePattern)(t,m)}.test(${v})`,()=>{let y=c.includes(m);y||t.subschema({keyword:"patternProperties",schemaProp:m,dataProp:v,dataPropType:D8.Type.Str},u),s.opts.unevaluated&&f!==!0?e.assign((0,Sb._)`${f}[${v}]`,!0):!y&&!s.allErrors&&e.if((0,Sb.not)(u),()=>e.break())})})}}};Ak.default=tMe});var F8=w(Ck=>{"use strict";Object.defineProperty(Ck,"__esModule",{value:!0});var rMe=vt(),iMe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:i}=t;if((0,rMe.alwaysValidSchema)(i,r)){t.fail();return}let n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ck.default=iMe});var z8=w(Nk=>{"use strict";Object.defineProperty(Nk,"__esModule",{value:!0});var nMe=kn(),sMe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:nMe.validateUnion,error:{message:"must match a schema in anyOf"}};Nk.default=sMe});var U8=w(Ik=>{"use strict";Object.defineProperty(Ik,"__esModule",{value:!0});var Eb=qe(),oMe=vt(),aMe={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Eb._)`{passingSchemas: ${t.passing}}`},cMe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:aMe,code(t){let{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let s=r,o=e.let("valid",!1),a=e.let("passing",null),c=e.name("_valid");t.setParams({passing:a}),e.block(l),t.result(o,()=>t.reset(),()=>t.error(!0));function l(){s.forEach((u,f)=>{let p;(0,oMe.alwaysValidSchema)(n,u)?e.var(c,!0):p=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&e.if((0,Eb._)`${c} && ${o}`).assign(o,!1).assign(a,(0,Eb._)`[${a}, ${f}]`).else(),e.if(c,()=>{e.assign(o,!0),e.assign(a,f),p&&t.mergeEvaluated(p,Eb.Name)})})}}};Ik.default=cMe});var H8=w(jk=>{"use strict";Object.defineProperty(jk,"__esModule",{value:!0});var lMe=vt(),uMe={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=e.name("valid");r.forEach((s,o)=>{if((0,lMe.alwaysValidSchema)(i,s))return;let a=t.subschema({keyword:"allOf",schemaProp:o},n);t.ok(n),t.mergeEvaluated(a)})}};jk.default=uMe});var W8=w(qk=>{"use strict";Object.defineProperty(qk,"__esModule",{value:!0});var Rb=qe(),V8=vt(),fMe={message:({params:t})=>(0,Rb.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Rb._)`{failingKeyword: ${t.ifClause}}`},dMe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:fMe,code(t){let{gen:e,parentSchema:r,it:i}=t;r.then===void 0&&r.else===void 0&&(0,V8.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=B8(i,"then"),s=B8(i,"else");if(!n&&!s)return;let o=e.let("valid",!0),a=e.name("_valid");if(c(),t.reset(),n&&s){let u=e.let("ifClause");t.setParams({ifClause:u}),e.if(a,l("then",u),l("else",u))}else n?e.if(a,l("then")):e.if((0,Rb.not)(a),l("else"));t.pass(o,()=>t.error(!0));function c(){let u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(u)}function l(u,f){return()=>{let p=t.subschema({keyword:u},a);e.assign(o,a),t.mergeValidEvaluated(p,o),f?e.assign(f,(0,Rb._)`${u}`):t.setParams({ifClause:u})}}}};function B8(t,e){let r=t.schema[e];return r!==void 0&&!(0,V8.alwaysValidSchema)(t,r)}qk.default=dMe});var G8=w(Mk=>{"use strict";Object.defineProperty(Mk,"__esModule",{value:!0});var pMe=vt(),hMe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,pMe.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Mk.default=hMe});var K8=w(Dk=>{"use strict";Object.defineProperty(Dk,"__esModule",{value:!0});var mMe=_k(),gMe=E8(),yMe=wk(),vMe=T8(),bMe=$8(),_Me=k8(),wMe=C8(),xMe=Pk(),SMe=j8(),EMe=L8(),RMe=F8(),TMe=z8(),$Me=U8(),PMe=H8(),OMe=W8(),kMe=G8();function AMe(t=!1){let e=[RMe.default,TMe.default,$Me.default,PMe.default,OMe.default,kMe.default,wMe.default,xMe.default,_Me.default,SMe.default,EMe.default];return t?e.push(gMe.default,vMe.default):e.push(mMe.default,yMe.default),e.push(bMe.default),e}Dk.default=AMe});var J8=w(Lk=>{"use strict";Object.defineProperty(Lk,"__esModule",{value:!0});var $r=qe(),CMe={message:({schemaCode:t})=>(0,$r.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,$r._)`{format: ${t}}`},NMe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:CMe,code(t,e){let{gen:r,data:i,$data:n,schema:s,schemaCode:o,it:a}=t,{opts:c,errSchemaPath:l,schemaEnv:u,self:f}=a;if(!c.validateFormats)return;n?p():d();function p(){let h=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),m=r.const("fDef",(0,$r._)`${h}[${o}]`),v=r.let("fType"),y=r.let("format");r.if((0,$r._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(v,(0,$r._)`${m}.type || "string"`).assign(y,(0,$r._)`${m}.validate`),()=>r.assign(v,(0,$r._)`"string"`).assign(y,m)),t.fail$data((0,$r.or)(E(),_()));function E(){return c.strictSchema===!1?$r.nil:(0,$r._)`${o} && !${y}`}function _(){let b=u.$async?(0,$r._)`(${m}.async ? await ${y}(${i}) : ${y}(${i}))`:(0,$r._)`${y}(${i})`,$=(0,$r._)`(typeof ${y} == "function" ? ${b} : ${y}.test(${i}))`;return(0,$r._)`${y} && ${y} !== true && ${v} === ${e} && !${$}`}}function d(){let h=f.formats[s];if(!h){E();return}if(h===!0)return;let[m,v,y]=_(h);m===e&&t.pass(b());function E(){if(c.strictSchema===!1){f.logger.warn($());return}throw new Error($());function $(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _($){let k=$ instanceof RegExp?(0,$r.regexpCode)($):c.code.formats?(0,$r._)`${c.code.formats}${(0,$r.getProperty)(s)}`:void 0,O=r.scopeValue("formats",{key:s,ref:$,code:k});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,$r._)`${O}.validate`]:["string",$,O]}function b(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!u.$async)throw new Error("async format in sync schema");return(0,$r._)`await ${y}(${i})`}return typeof v=="function"?(0,$r._)`${y}(${i})`:(0,$r._)`${y}.test(${i})`}}}};Lk.default=NMe});var Y8=w(Fk=>{"use strict";Object.defineProperty(Fk,"__esModule",{value:!0});var IMe=J8(),jMe=[IMe.default];Fk.default=jMe});var X8=w(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.contentVocabulary=vf.metadataVocabulary=void 0;vf.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];vf.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Q8=w(zk=>{"use strict";Object.defineProperty(zk,"__esModule",{value:!0});var qMe=o8(),MMe=_8(),DMe=K8(),LMe=Y8(),Z8=X8(),FMe=[qMe.default,MMe.default,(0,DMe.default)(),LMe.default,Z8.metadataVocabulary,Z8.contentVocabulary];zk.default=FMe});var tW=w(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.DiscrError=void 0;var eW;(function(t){t.Tag="tag",t.Mapping="mapping"})(eW||(Tb.DiscrError=eW={}))});var iW=w(Hk=>{"use strict";Object.defineProperty(Hk,"__esModule",{value:!0});var bf=qe(),Uk=tW(),rW=fb(),zMe=Fh(),UMe=vt(),HMe={message:({params:{discrError:t,tagName:e}})=>t===Uk.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,bf._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},BMe={keyword:"discriminator",type:"object",schemaType:"object",error:HMe,code(t){let{gen:e,data:r,schema:i,parentSchema:n,it:s}=t,{oneOf:o}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=i.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),l=e.const("tag",(0,bf._)`${r}${(0,bf.getProperty)(a)}`);e.if((0,bf._)`typeof ${l} == "string"`,()=>u(),()=>t.error(!1,{discrError:Uk.DiscrError.Tag,tag:l,tagName:a})),t.ok(c);function u(){let d=p();e.if(!1);for(let h in d)e.elseIf((0,bf._)`${l} === ${h}`),e.assign(c,f(d[h]));e.else(),t.error(!1,{discrError:Uk.DiscrError.Mapping,tag:l,tagName:a}),e.endIf()}function f(d){let h=e.name("valid"),m=t.subschema({keyword:"oneOf",schemaProp:d},h);return t.mergeEvaluated(m,bf.Name),h}function p(){var d;let h={},m=y(n),v=!0;for(let b=0;b<o.length;b++){let $=o[b];if($?.$ref&&!(0,UMe.schemaHasRulesButRef)($,s.self.RULES)){let O=$.$ref;if($=rW.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,O),$ instanceof rW.SchemaEnv&&($=$.schema),$===void 0)throw new zMe.default(s.opts.uriResolver,s.baseId,O)}let k=(d=$?.properties)===null||d===void 0?void 0:d[a];if(typeof k!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(m||y($)),E(k,b)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return h;function y({required:b}){return Array.isArray(b)&&b.includes(a)}function E(b,$){if(b.const)_(b.const,$);else if(b.enum)for(let k of b.enum)_(k,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(b,$){if(typeof b!="string"||b in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[b]=$}}}};Hk.default=BMe});var nW=w((Got,VMe)=>{VMe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var oW=w((sr,Bk)=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.MissingRefError=sr.ValidationError=sr.CodeGen=sr.Name=sr.nil=sr.stringify=sr.str=sr._=sr.KeywordCxt=sr.Ajv=void 0;var WMe=e8(),GMe=Q8(),KMe=iW(),sW=nW(),JMe=["/properties"],$b="http://json-schema.org/draft-07/schema",_f=class extends WMe.default{_addVocabularies(){super._addVocabularies(),GMe.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(KMe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(sW,JMe):sW;this.addMetaSchema(e,$b,!1),this.refs["http://json-schema.org/schema"]=$b}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema($b)?$b:void 0)}};sr.Ajv=_f;Bk.exports=sr=_f;Bk.exports.Ajv=_f;Object.defineProperty(sr,"__esModule",{value:!0});sr.default=_f;var YMe=Lh();Object.defineProperty(sr,"KeywordCxt",{enumerable:!0,get:function(){return YMe.KeywordCxt}});var wf=qe();Object.defineProperty(sr,"_",{enumerable:!0,get:function(){return wf._}});Object.defineProperty(sr,"str",{enumerable:!0,get:function(){return wf.str}});Object.defineProperty(sr,"stringify",{enumerable:!0,get:function(){return wf.stringify}});Object.defineProperty(sr,"nil",{enumerable:!0,get:function(){return wf.nil}});Object.defineProperty(sr,"Name",{enumerable:!0,get:function(){return wf.Name}});Object.defineProperty(sr,"CodeGen",{enumerable:!0,get:function(){return wf.CodeGen}});var XMe=lb();Object.defineProperty(sr,"ValidationError",{enumerable:!0,get:function(){return XMe.default}});var ZMe=Fh();Object.defineProperty(sr,"MissingRefError",{enumerable:!0,get:function(){return ZMe.default}})});var aW=w(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.formatLimitDefinition=void 0;var QMe=oW(),ms=qe(),Xa=ms.operators,Pb={formatMaximum:{okStr:"<=",ok:Xa.LTE,fail:Xa.GT},formatMinimum:{okStr:">=",ok:Xa.GTE,fail:Xa.LT},formatExclusiveMaximum:{okStr:"<",ok:Xa.LT,fail:Xa.GTE},formatExclusiveMinimum:{okStr:">",ok:Xa.GT,fail:Xa.LTE}},eDe={message:({keyword:t,schemaCode:e})=>ms.str`should be ${Pb[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>ms._`{comparison: ${Pb[t].okStr}, limit: ${e}}`};xf.formatLimitDefinition={keyword:Object.keys(Pb),type:"string",schemaType:"string",$data:!0,error:eDe,code(t){let{gen:e,data:r,schemaCode:i,keyword:n,it:s}=t,{opts:o,self:a}=s;if(!o.validateFormats)return;let c=new QMe.KeywordCxt(s,a.RULES.all.format.definition,"format");c.$data?l():u();function l(){let p=e.scopeValue("formats",{ref:a.formats,code:o.code.formats}),d=e.const("fmt",ms._`${p}[${c.schemaCode}]`);t.fail$data(ms.or(ms._`typeof ${d} != "object"`,ms._`${d} instanceof RegExp`,ms._`typeof ${d}.compare != "function"`,f(d)))}function u(){let p=c.schema,d=a.formats[p];if(!d||d===!0)return;if(typeof d!="object"||d instanceof RegExp||typeof d.compare!="function")throw new Error(`"${n}": format "${p}" does not define "compare" function`);let h=e.scopeValue("formats",{key:p,ref:d,code:o.code.formats?ms._`${o.code.formats}${ms.getProperty(p)}`:void 0});t.fail$data(f(h))}function f(p){return ms._`${p}.compare(${r}, ${i}) ${Pb[n].fail} 0`}},dependencies:["format"]};var tDe=t=>(t.addKeyword(xf.formatLimitDefinition),t);xf.default=tDe});var fW=w((Qh,uW)=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});var Sf=W5(),rDe=aW(),Vk=qe(),cW=new Vk.Name("fullFormats"),iDe=new Vk.Name("fastFormats"),Wk=(t,e={keywords:!0})=>{if(Array.isArray(e))return lW(t,e,Sf.fullFormats,cW),t;let[r,i]=e.mode==="fast"?[Sf.fastFormats,iDe]:[Sf.fullFormats,cW],n=e.formats||Sf.formatNames;return lW(t,n,r,i),e.keywords&&rDe.default(t),t};Wk.get=(t,e="full")=>{let i=(e==="fast"?Sf.fastFormats:Sf.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function lW(t,e,r,i){var n,s;(n=(s=t.opts.code).formats)!==null&&n!==void 0||(s.formats=Vk._`require("ajv-formats/dist/formats").${i}`);for(let o of e)t.addFormat(o,r[o])}uW.exports=Qh=Wk;Object.defineProperty(Qh,"__esModule",{value:!0});Qh.default=Wk});var hW=w((Jot,pW)=>{"use strict";var nDe=B6().default,sDe=aO(),dW=cO(),Gk=class{constructor(e,r){r.mode==="JTD"?this.ajv=new sDe(Object.assign({},dW,r.customOptions)):this.ajv=new nDe(Object.assign({},dW,r.customOptions));let i=!0;if(r.plugins&&r.plugins.length>0)for(let s of r.plugins)Array.isArray(s)?(i=i&&s[0].name!=="formatsPlugin",s[0](this.ajv,s[1])):(i=i&&s.name!=="formatsPlugin",s(this.ajv));i&&fW()(this.ajv),r.onCreate?.(this.ajv);let n=Object.values(e);for(let s of n)this.ajv.addSchema(s)}buildValidatorFunction({schema:e}){if(e.$id){let r=this.ajv.getSchema(e.$id);if(r)return r}return this.ajv.compile(e)}};pW.exports=Gk});var gW=w((Yot,mW)=>{"use strict";var oDe=aO(),aDe=cO(),Kk=class{constructor(e,r){this.ajv=new oDe(Object.assign({},aDe,r))}buildSerializerFunction({schema:e}){return this.ajv.compileSerializer(e)}};mW.exports=Kk});var bW=w((tm,vW)=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});var em=y0(),gs=qu();function yW(t,e){if(!t.opts.code.source)throw new Error("moduleCode: ajv instance must have code.source option");let{_n:r}=t.scope.opts;return typeof e=="function"?n(e.source):e!==void 0?s(e,i):s(t.schemas,a=>a.meta?void 0:t.compile(a.schema));function i(a){let c=t.getSchema(a);if(!c)throw new Error(`moduleCode: no schema with id ${a}`);return c}function n(a){let c={},l=a?.validateName,u=o(c,a);return t.opts.code.esm?`"use strict";${r}export const validate = ${l};${r}export default ${l};${r}${u}`:`"use strict";${r}module.exports = ${l};${r}module.exports.default = ${l};${r}${u}`}function s(a,c){var l;let u={},f=(0,gs._)`"use strict";`;for(let p in a){let d=c(a[p]);if(d){let h=o(u,d.source),m=t.opts.code.esm?(0,gs._)`export const ${(0,gs.getEsmExportName)(p)}`:(0,gs._)`exports${(0,gs.getProperty)(p)}`;f=(0,gs._)`${f}${r}${m} = ${(l=d.source)===null||l===void 0?void 0:l.validateName};${r}${h}`}}return`${f}`}function o(a,c){if(!c)throw new Error('moduleCode: function does not have "source" property');if(p(c.validateName)===em.UsedValueState.Completed)return gs.nil;d(c.validateName,em.UsedValueState.Started);let l=t.scope.scopeCode(c.scopeValues,a,f),u=new gs._Code(`${l}${r}${c.validateCode}`);return c.evaluated?(0,gs._)`${u}${c.validateName}.evaluated = ${c.evaluated};${r}`:u;function f(h){var m;let v=(m=h.value)===null||m===void 0?void 0:m.ref;if(h.prefix==="validate"&&typeof v=="function")return o(a,v.source);if((h.prefix==="root"||h.prefix==="wrapper")&&typeof v=="object"){let{validate:y,validateName:E}=v;if(!E)throw new Error("ajv internal error");let _=t.opts.code.es5?em.varKinds.var:em.varKinds.const,b=(0,gs._)`${_} ${h} = {validate: ${E}};`;if(p(E)===em.UsedValueState.Started)return b;let $=o(a,y?.source);return(0,gs._)`${b}${r}${$}`}}function p(h){var m;return(m=a[h.prefix])===null||m===void 0?void 0:m.get(h)}function d(h,m){let{prefix:v}=h;(a[v]=a[v]||new Map).set(h,m)}}}vW.exports=tm=yW;Object.defineProperty(tm,"__esModule",{value:!0});tm.default=yW});var xW=w((Xot,wW)=>{"use strict";var _W=Jk(),cDe=bW().default;function lDe(t={readMode:!0}){if(t.readMode===!0&&!t.restoreFunction)throw new Error("You must provide a restoreFunction options when readMode ON");if(t.readMode!==!0&&!t.storeFunction)throw new Error("You must provide a storeFunction options when readMode OFF");if(t.readMode===!0)return function(){return function(i){return t.restoreFunction(i)}};let e=_W();return function(i,n={}){(!n.customOptions||!n.customOptions.code)&&(n.customOptions=Object.assign({},n.customOptions,{code:{source:!0}}));let s=e(i,n);return function(o){let a=s(o),c=cDe(s[_W.AjvReference].ajv,a);return t.storeFunction(o,c),a}}}wW.exports=lDe});var Jk=w((Zot,Ef)=>{"use strict";var EW=Symbol.for("fastify.ajv-compiler.reference"),uDe=hW(),fDe=gW();function Yk(t){let e=new Map,r=new Map;return t&&t.jtdSerializer===!0?function(n,s){let o=SW({},s);if(r.has(o))return r.get(o);let a=new fDe(n,s),c=a.buildSerializerFunction.bind(a);return r.set(o,c),c}:function(n,s){let o=SW(n,s.customOptions);if(e.has(o))return e.get(o);let a=new uDe(n,s),c=a.buildValidatorFunction.bind(a);return e.set(o,c),s.customOptions.code!==void 0&&(c[EW]=a),c}}function SW(t,e){let r=JSON.stringify(t),i=JSON.stringify(e);return`${r}${i}`}Ef.exports=Yk;Ef.exports.default=Yk;Ef.exports.AjvCompiler=Yk;Ef.exports.AjvReference=EW;Ef.exports.StandaloneValidator=xW()});var Xk=w((Qot,RW)=>{"use strict";var{buildSchemas:dDe}=Qd(),pDe=Y1(),hDe=Jk();function mDe(t,e){if(t)return new Rf(t,e);let r=Object.assign({buildValidator:null,buildSerializer:null},e?.compilersFactory);r.buildValidator||(r.buildValidator=hDe()),r.buildSerializer||(r.buildSerializer=pDe());let i={bucket:e&&e.bucket||dDe,compilersFactory:r,isCustomValidatorCompiler:typeof e?.compilersFactory?.buildValidator=="function",isCustomSerializerCompiler:typeof e?.compilersFactory?.buildValidator=="function"};return new Rf(void 0,i)}var Rf=class{constructor(e,r){this.opts=r||e?.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,e?(this.schemaBucket=this.opts.bucket(e.getSchemas()),this.validatorCompiler=e.getValidatorCompiler(),this.serializerCompiler=e.getSerializerCompiler(),this.isCustomValidatorCompiler=e.isCustomValidatorCompiler,this.isCustomSerializerCompiler=e.isCustomSerializerCompiler,this.parent=e):(this.schemaBucket=this.opts.bucket(),this.isCustomValidatorCompiler=this.opts.isCustomValidatorCompiler||!1,this.isCustomSerializerCompiler=this.opts.isCustomSerializerCompiler||!1)}add(e){return this.addedSchemas=!0,this.schemaBucket.add(e)}getSchema(e){return this.schemaBucket.getSchema(e)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(e){this.compilersFactory=Object.assign({},this.compilersFactory,{buildValidator:()=>e}),this.validatorCompiler=e,this.isCustomValidatorCompiler=!0}setSerializerCompiler(e){this.compilersFactory=Object.assign({},this.compilersFactory,{buildSerializer:()=>e}),this.serializerCompiler=e,this.isCustomSerializerCompiler=!0}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(e){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),e.ajv))}setupSerializer(e){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),e.serializerOpts))}};Rf.buildSchemaController=mDe;RW.exports=Rf});var iA=w((eat,rA)=>{"use strict";var Zk=SR(),eA=require("node:assert"),tA=Symbol.for("registered-plugin"),{kTestInternals:gDe}=Dr(),{exist:yDe,existReply:vDe,existRequest:bDe}=NR(),{FST_ERR_PLUGIN_VERSION_MISMATCH:_De,FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:wDe}=fi(),{FSTWRN002:xDe}=_o();function rm(t){return t[Symbol.for("plugin-meta")]}function TW(t){let e=$W(t);if(e)return e;let r=require.cache;if(r){let i=Object.keys(r);for(let n=0;n<i.length;n++){let s=i[n];if(r[s].exports===t)return s}}return t.name?t.name:null}function SDe(t){return t.toString().split(`
`).slice(0,2).map(e=>e.trim()).join(" -- ")}function $W(t){return t[Symbol.for("fastify.display-name")]}function PW(t){return!!t[Symbol.for("skip-override")]}function OW(t){let e=rm(t);if(!e)return;let r=e.dependencies;r&&(eA(Array.isArray(r),"The dependencies should be an array of strings"),r.forEach(i=>{eA(this[tA].indexOf(i)>-1,`The dependency '${i}' of plugin '${e.name}' is not registered`)}))}function kW(t){let e=rm(t);if(!e)return;let{decorators:r,name:i}=e;r&&(r.fastify&&Qk(this,"Fastify",r.fastify,i),r.reply&&Qk(this,"Reply",r.reply,i),r.request&&Qk(this,"Request",r.request,i))}var EDe={Fastify:yDe,Request:bDe,Reply:vDe};function Qk(t,e,r,i){eA(Array.isArray(r),"The decorators should be an array of strings"),r.forEach(n=>{let s=typeof i=="string"?` required by '${i}'`:"";if(!EDe[e].call(t,n))throw new wDe(n,s,e)})}function RDe(t){let e=rm(t);if(!e)return;let r=e.fastify,i=/-rc.+$/.test(this.version);if(!(i===!0&&Zk.gt(this.version,Zk.coerce(r))===!0)&&r&&Zk.satisfies(this.version,r,{includePrerelease:i})===!1)throw new _De(e.name,r,this.version)}function TDe(t){let e=rm(t);if(!e)return;let r=e.name;if(r)return this[tA].push(r),r}function $De(t,e){t.constructor.name==="AsyncFunction"&&t.length===3&&xDe(e||"anonymous")}function PDe(t){let e=TDe.call(this,t)||TW(t);return $De.call(this,t,e),RDe.call(this,t),kW.call(this,t),OW.call(this,t),PW(t)}rA.exports={getPluginName:TW,getFuncPreview:SDe,kRegisteredPlugins:tA,getDisplayName:$W,registerPlugin:PDe};rA.exports[gDe]={shouldSkipOverride:PW,getMeta:rm,checkDecorators:kW,checkDependencies:OW}});var Ob=w((tat,AW)=>{"use strict";function ODe(t,e){let r=e||ADe();return t?CDe(t,r):r}function kDe(t,e){return t.genReqId(e)}function ADe(){let e=0;return function(){return e=e+1&2147483647,`req-${e.toString(36)}`}}function CDe(t,e){return function(r){return r.headers[t]||e(r)}}AW.exports={getGenReqId:kDe,reqIdGenFactory:ODe}});var sA=w((rat,IW)=>{"use strict";var CW=12,NDe=0,nA=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function IDe(t){var e=t.indexOf("%");if(e===-1)return t;for(var r=t.length,i="",n=0,s=0,o=e,a=CW;e>-1&&e<r;){var c=NW(t[e+1],4),l=NW(t[e+2],0),u=c|l,f=nA[u];if(a=nA[256+a+f],s=s<<6|u&nA[364+f],a===CW)i+=t.slice(n,o),i+=s<=65535?String.fromCharCode(s):String.fromCharCode(55232+(s>>10),56320+(s&1023)),s=0,n=e+3,e=o=t.indexOf("%",n);else{if(a===NDe)return null;if(e+=3,e<r&&t.charCodeAt(e)===37)continue;return null}}return i+t.slice(n)}var jDe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function NW(t,e){var r=jDe[t];return r===void 0?255:r<<e}IW.exports=IDe});var LW=w((iat,DW)=>{"use strict";var jW=sA(),qW=/\+/g,MW=function(){};MW.prototype=Object.create(null);function qDe(t){let e=new MW;if(typeof t!="string")return e;let r=t.length,i="",n="",s=-1,o=-1,a=!1,c=!1,l=!1,u=!1,f=!1,p=0;for(let d=0;d<r+1;d++)if(p=d!==r?t.charCodeAt(d):38,p===38){if(f=o>s,f||(o=d),i=t.slice(s+1,o),f||i.length>0){l&&(i=i.replace(qW," ")),a&&(i=jW(i)||i),f&&(n=t.slice(o+1,d),u&&(n=n.replace(qW," ")),c&&(n=jW(n)||n));let h=e[i];h===void 0?e[i]=n:h.pop?h.push(n):e[i]=[h,n]}n="",s=d,o=d,a=!1,c=!1,l=!1,u=!1}else p===61?o<=s?o=d:c=!0:p===43?o>s?u=!0:l=!0:p===37&&(o>s?c=!0:a=!0);return e}DW.exports=qDe});var zW=w((nat,FW)=>{var Ws=Array.from({length:256},(t,e)=>"%"+((e<16?"0":"")+e.toString(16)).toUpperCase()),MDe=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function DDe(t){let e=t.length;if(e===0)return"";let r="",i=0,n=0;e:for(;n<e;n++){let s=t.charCodeAt(n);for(;s<128;){if(MDe[s]!==1&&(i<n&&(r+=t.slice(i,n)),i=n+1,r+=Ws[s]),++n===e)break e;s=t.charCodeAt(n)}if(i<n&&(r+=t.slice(i,n)),s<2048){i=n+1,r+=Ws[192|s>>6]+Ws[128|s&63];continue}if(s<55296||s>=57344){i=n+1,r+=Ws[224|s>>12]+Ws[128|s>>6&63]+Ws[128|s&63];continue}if(++n,n>=e)throw new Error("URI malformed");let o=t.charCodeAt(n)&1023;i=n+1,s=65536+((s&1023)<<10|o),r+=Ws[240|s>>18]+Ws[128|s>>12&63]+Ws[128|s>>6&63]+Ws[128|s&63]}return i===0?t:i<e?r+t.slice(i):r}FW.exports={encodeString:DDe}});var BW=w((sat,HW)=>{"use strict";var{encodeString:oA}=zW();function UW(t){let e=typeof t;return e==="string"?oA(t):e==="bigint"?t.toString():e==="boolean"?t?"true":"false":e==="number"&&Number.isFinite(t)?t<1e21?""+t:oA(""+t):""}function LDe(t){let e="";if(t===null||typeof t!="object")return e;let r="&",i=Object.keys(t),n=i.length,s=0;for(let o=0;o<n;o++){let a=i[o],c=t[a],l=oA(a)+"=";if(o&&(e+=r),Array.isArray(c)){s=c.length;for(let u=0;u<s;u++)u&&(e+=r),e+=l,e+=UW(c[u])}else e+=l,e+=UW(c)}return e}HW.exports=LDe});var aA=w((oat,im)=>{"use strict";var VW=LW(),WW=BW(),GW={parse:VW,stringify:WW};im.exports=GW;im.exports.default=GW;im.exports.parse=VW;im.exports.stringify=WW});var JW=w(KW=>{"use strict";Object.defineProperty(KW,"__esModule",{value:!0})});var YW=w(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.types=void 0;var FDe;(function(t){t[t.ROOT=0]="ROOT",t[t.GROUP=1]="GROUP",t[t.POSITION=2]="POSITION",t[t.SET=3]="SET",t[t.RANGE=4]="RANGE",t[t.REPETITION=5]="REPETITION",t[t.REFERENCE=6]="REFERENCE",t[t.CHAR=7]="CHAR"})(FDe=nm.types||(nm.types={}))});var ZW=w(XW=>{"use strict";Object.defineProperty(XW,"__esModule",{value:!0})});var Vo=w(Bo=>{"use strict";var zDe=Bo&&Bo.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),cA=Bo&&Bo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zDe(e,t,r)};Object.defineProperty(Bo,"__esModule",{value:!0});cA(JW(),Bo);cA(YW(),Bo);cA(ZW(),Bo)});var kb=w(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.anyChar=Si.notWhitespace=Si.whitespace=Si.notInts=Si.ints=Si.notWords=Si.words=void 0;var Ot=Vo(),QW=()=>[{type:Ot.types.RANGE,from:48,to:57}],eG=()=>[{type:Ot.types.CHAR,value:95},{type:Ot.types.RANGE,from:97,to:122},{type:Ot.types.RANGE,from:65,to:90},{type:Ot.types.RANGE,from:48,to:57}],tG=()=>[{type:Ot.types.CHAR,value:9},{type:Ot.types.CHAR,value:10},{type:Ot.types.CHAR,value:11},{type:Ot.types.CHAR,value:12},{type:Ot.types.CHAR,value:13},{type:Ot.types.CHAR,value:32},{type:Ot.types.CHAR,value:160},{type:Ot.types.CHAR,value:5760},{type:Ot.types.RANGE,from:8192,to:8202},{type:Ot.types.CHAR,value:8232},{type:Ot.types.CHAR,value:8233},{type:Ot.types.CHAR,value:8239},{type:Ot.types.CHAR,value:8287},{type:Ot.types.CHAR,value:12288},{type:Ot.types.CHAR,value:65279}],UDe=()=>[{type:Ot.types.CHAR,value:10},{type:Ot.types.CHAR,value:13},{type:Ot.types.CHAR,value:8232},{type:Ot.types.CHAR,value:8233}];Si.words=()=>({type:Ot.types.SET,set:eG(),not:!1});Si.notWords=()=>({type:Ot.types.SET,set:eG(),not:!0});Si.ints=()=>({type:Ot.types.SET,set:QW(),not:!1});Si.notInts=()=>({type:Ot.types.SET,set:QW(),not:!0});Si.whitespace=()=>({type:Ot.types.SET,set:tG(),not:!1});Si.notWhitespace=()=>({type:Ot.types.SET,set:tG(),not:!0});Si.anyChar=()=>({type:Ot.types.SET,set:UDe(),not:!0})});var iG=w(Nn=>{"use strict";var HDe=Nn&&Nn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),BDe=Nn&&Nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VDe=Nn&&Nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HDe(e,t,r);return BDe(e,t),e};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.tokenizeClass=Nn.strToChars=void 0;var rG=Vo(),Tf=VDe(kb()),WDe="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";Nn.strToChars=t=>{let e=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return t.replace(e,(r,i,n,s,o,a,c)=>{if(n)return r;let l=i?8:s?parseInt(s,16):o?parseInt(o,16):a?WDe.indexOf(a):{0:0,t:9,n:10,v:11,f:12,r:13}[c],u=String.fromCharCode(l);return/[[\]{}^$.|?*+()]/.test(u)?`\\${u}`:u})};Nn.tokenizeClass=(t,e)=>{var r,i,n,s,o,a,c;let l=[],u,f,p=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;for(;(u=p.exec(t))!==null;){let d=(c=(a=(o=(s=(n=(i=(r=u[1]&&Tf.words())!==null&&r!==void 0?r:u[2]&&Tf.ints())!==null&&i!==void 0?i:u[3]&&Tf.whitespace())!==null&&n!==void 0?n:u[4]&&Tf.notWords())!==null&&s!==void 0?s:u[5]&&Tf.notInts())!==null&&o!==void 0?o:u[6]&&Tf.notWhitespace())!==null&&a!==void 0?a:u[7]&&{type:rG.types.RANGE,from:(u[8]||u[9]).charCodeAt(0),to:(f=u[10]).charCodeAt(f.length-1)})!==null&&c!==void 0?c:(f=u[16])&&{type:rG.types.CHAR,value:f.charCodeAt(0)};if(d)l.push(d);else return[l,p.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${e}/: Unterminated character class`)}});var lA=w(Gs=>{"use strict";var GDe=Gs&&Gs.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),KDe=Gs&&Gs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sG=Gs&&Gs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GDe(e,t,r);return KDe(e,t),e};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.tokenizer=void 0;var nG=sG(iG()),ti=Vo(),pl=sG(kb());Gs.tokenizer=t=>{let e=0,r,i={type:ti.types.ROOT,stack:[]},n=i,s=i.stack,o=[],a=[],c=0,l=f=>{throw new SyntaxError(`Invalid regular expression: /${t}/: Nothing to repeat at column ${f-1}`)},u=nG.strToChars(t);for(;e<u.length;)switch(r=u[e++]){case"\\":if(e===u.length)throw new SyntaxError(`Invalid regular expression: /${t}/: \\ at end of pattern`);switch(r=u[e++]){case"b":s.push({type:ti.types.POSITION,value:"b"});break;case"B":s.push({type:ti.types.POSITION,value:"B"});break;case"w":s.push(pl.words());break;case"W":s.push(pl.notWords());break;case"d":s.push(pl.ints());break;case"D":s.push(pl.notInts());break;case"s":s.push(pl.whitespace());break;case"S":s.push(pl.notWhitespace());break;default:if(/\d/.test(r)){let f=r;for(;e<u.length&&/\d/.test(u[e]);)f+=u[e++];let p=parseInt(f,10),d={type:ti.types.REFERENCE,value:p};s.push(d),a.push({reference:d,stack:s,index:s.length-1})}else s.push({type:ti.types.CHAR,value:r.charCodeAt(0)})}break;case"^":s.push({type:ti.types.POSITION,value:"^"});break;case"$":s.push({type:ti.types.POSITION,value:"$"});break;case"[":{let f;u[e]==="^"?(f=!0,e++):f=!1;let p=nG.tokenizeClass(u.slice(e),t);e+=p[1],s.push({type:ti.types.SET,set:p[0],not:f});break}case".":s.push(pl.anyChar());break;case"(":{let f={type:ti.types.GROUP,stack:[],remember:!0};if(u[e]==="?"){if(r=u[e+1],e+=2,r==="=")f.followedBy=!0;else if(r==="!")f.notFollowedBy=!0;else if(r!==":")throw new SyntaxError(`Invalid regular expression: /${t}/: Invalid group, character '${r}' after '?' at column ${e-1}`);f.remember=!1}else c+=1;s.push(f),o.push(n),n=f,s=f.stack;break}case")":if(o.length===0)throw new SyntaxError(`Invalid regular expression: /${t}/: Unmatched ) at column ${e-1}`);n=o.pop(),s=n.options?n.options[n.options.length-1]:n.stack;break;case"|":{n.options||(n.options=[n.stack],delete n.stack);let f=[];n.options.push(f),s=f;break}case"{":{let f=/^(\d+)(,(\d+)?)?\}/.exec(u.slice(e)),p,d;f!==null?(s.length===0&&l(e),p=parseInt(f[1],10),d=f[2]?f[3]?parseInt(f[3],10):1/0:p,e+=f[0].length,s.push({type:ti.types.REPETITION,min:p,max:d,value:s.pop()})):s.push({type:ti.types.CHAR,value:123});break}case"?":s.length===0&&l(e),s.push({type:ti.types.REPETITION,min:0,max:1,value:s.pop()});break;case"+":s.length===0&&l(e),s.push({type:ti.types.REPETITION,min:1,max:1/0,value:s.pop()});break;case"*":s.length===0&&l(e),s.push({type:ti.types.REPETITION,min:0,max:1/0,value:s.pop()});break;default:s.push({type:ti.types.CHAR,value:r.charCodeAt(0)})}if(o.length!==0)throw new SyntaxError(`Invalid regular expression: /${t}/: Unterminated group`);return JDe(a,c),i};function JDe(t,e){for(let r of t.reverse())if(e<r.reference.value){r.reference.type=ti.types.CHAR;let i=r.reference.value.toString();if(r.reference.value=parseInt(i,8),!/^[0-7]+$/.test(i)){let n=0;for(;i[n]!=="8"&&i[n]!=="9";)n+=1;if(n===0?(r.reference.value=i.charCodeAt(0),n+=1):r.reference.value=parseInt(i.slice(0,n),8),i.length>n){let s=r.stack.splice(r.index+1);for(let o of i.slice(n))r.stack.push({type:ti.types.CHAR,value:o.charCodeAt(0)});r.stack.push(...s)}}}}});var aG=w(Ei=>{"use strict";var YDe=Ei&&Ei.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),XDe=Ei&&Ei.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZDe=Ei&&Ei.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YDe(e,t,r);return XDe(e,t),e};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.NOTANYCHAR=Ei.WHITESPACE=Ei.WORDS=Ei.INTS=void 0;var Ab=ZDe(kb()),oG=Vo();function Cb(t){let e={},r=0;for(let i of t)i.type===oG.types.CHAR&&(e[i.value]=!0),i.type===oG.types.RANGE&&(e[`${i.from}-${i.to}`]=!0),r+=1;return{lookup:()=>Object.assign({},e),len:r}}Ei.INTS=Cb(Ab.ints().set);Ei.WORDS=Cb(Ab.words().set);Ei.WHITESPACE=Cb(Ab.whitespace().set);Ei.NOTANYCHAR=Cb(Ab.anyChar().set)});var lG=w(In=>{"use strict";var QDe=In&&In.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),eLe=In&&In.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tLe=In&&In.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QDe(e,t,r);return eLe(e,t),e};Object.defineProperty(In,"__esModule",{value:!0});In.writeSetTokens=In.setChar=void 0;var qb=Vo(),Nb=tLe(aG());function jb(t){return t===94?"\\^":t===92?"\\\\":t===93?"\\]":t===45?"\\-":String.fromCharCode(t)}In.setChar=jb;function Ib(t,{lookup:e,len:r}){if(r!==t.length)return!1;let i=e();for(let n of t){if(n.type===qb.types.SET)return!1;let s=n.type===qb.types.CHAR?n.value:`${n.from}-${n.to}`;if(i[s])i[s]=!1;else return!1}return!0}function cG(t,e=!1){if(Ib(t.set,Nb.INTS))return t.not?"\\D":"\\d";if(Ib(t.set,Nb.WORDS))return t.not?"\\W":"\\w";if(t.not&&Ib(t.set,Nb.NOTANYCHAR))return".";if(Ib(t.set,Nb.WHITESPACE))return t.not?"\\S":"\\s";let r="";for(let n=0;n<t.set.length;n++){let s=t.set[n];r+=rLe(s)}let i=`${t.not?"^":""}${r}`;return e?i:`[${i}]`}In.writeSetTokens=cG;function rLe(t){return t.type===qb.types.CHAR?jb(t.value):t.type===qb.types.RANGE?`${jb(t.from)}-${jb(t.to)}`:cG(t,!0)}});var fA=w($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.reconstruct=void 0;var Za=Vo(),uA=lG(),uG=t=>t.map($f.reconstruct).join(""),fG=t=>{if("options"in t)return t.options.map(uG).join("|");if("stack"in t)return uG(t.stack);throw new Error("options or stack must be Root or Group token")};$f.reconstruct=t=>{switch(t.type){case Za.types.ROOT:return fG(t);case Za.types.CHAR:{let e=String.fromCharCode(t.value);return(/[[\\{}$^.|?*+()]/.test(e)?"\\":"")+e}case Za.types.POSITION:return t.value==="^"||t.value==="$"?t.value:`\\${t.value}`;case Za.types.REFERENCE:return`\\${t.value}`;case Za.types.SET:return uA.writeSetTokens(t);case Za.types.GROUP:return`(${t.remember?"":t.followedBy?"?=":t.notFollowedBy?"?!":"?:"}${fG(t)})`;case Za.types.REPETITION:{let{min:e,max:r}=t,i;return e===0&&r===1?i="?":e===1&&r===1/0?i="+":e===0&&r===1/0?i="*":r===1/0?i=`{${e},}`:e===r?i=`{${e}}`:i=`{${e},${r}}`,`${$f.reconstruct(t.value)}${i}`}case Za.types.RANGE:return`${uA.setChar(t.from)}-${uA.setChar(t.to)}`;default:throw new Error(`Invalid token type ${t}`)}}});var hG=w((jn,Mb)=>{"use strict";var iLe=jn&&jn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),dA=jn&&jn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&iLe(e,t,r)};Object.defineProperty(jn,"__esModule",{value:!0});jn.types=void 0;var dG=Vo();Object.defineProperty(jn,"types",{enumerable:!0,get:function(){return dG.types}});dA(lA(),jn);dA(fA(),jn);var pG=lA(),nLe=fA();dA(Vo(),jn);jn.default=pG.tokenizer;Mb.exports=pG.tokenizer;Mb.exports.types=dG.types;Mb.exports.reconstruct=nLe.reconstruct});var gG=w((yat,Db)=>{"use strict";var mG=hG(),sLe=mG.types;function pA(t,e){e||(e={});let r=e.limit===void 0?25:e.limit;oLe(t)?t=t.source:typeof t!="string"&&(t=String(t));try{t=mG(t)}catch{return!1}let i=0;return function n(s,o){let a,c,l;if(s.type===sLe.REPETITION&&(o++,i++,o>1||i>r))return!1;if(s.options){for(a=0,l=s.options.length;a<l;a++)if(c=n({stack:s.options[a]},o),!c)return!1}let u=s.stack||s.value&&s.value.stack;if(!u)return!0;for(a=0;a<u.length;a++)if(c=n(u[a],o),!c)return!1;return!0}(t,0)}function oLe(t){return{}.toString.call(t)==="[object RegExp]"}Db.exports=pA;Db.exports.default=pA;Db.exports.safeRegex=pA});var Lb=w((vat,yG)=>{"use strict";yG.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let t={};return{get:e=>t[e]||null,set:(e,r)=>{t[e]=r}}},deriveConstraint:t=>t.method,mustMatchWhenDerived:!0}});var EG=w((bat,SG)=>{"use strict";var vG=bn(),bG=Lb(),_G=Symbol("treeData");function wG(t,e=""){let r="",i=Object.keys(t);for(let n=0;n<i.length;n++){let s=i[n],o=t[s],a=n===i.length-1,c=a?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ",l=a?"    ":"\u2502   ",f=(o[_G]||"").split(`
`).join(`
`+e+l);r+=e+c+s+f+`
`,r+=wG(o,e+l)}return r}function aLe(t){let e=t.name||"";return e=e.replace("bound","").trim(),e=(e||"anonymous")+"()",e}function xG(t){return Array.isArray(t)?t.map(e=>xG(e)):typeof t=="symbol"?t.toString():typeof t=="function"?aLe(t):t}function cLe(t,e){if(!e.includeMeta)return{};let r=e.buildPrettyMeta(t),i={},n=e.includeMeta;Array.isArray(n)||(n=Reflect.ownKeys(r));for(let s of n){if(!Object.prototype.hasOwnProperty.call(r,s))continue;let o=s.toString(),a=r[s];if(a!=null){let c=JSON.stringify(xG(a));i[o]=c}}return i}function lLe(t){let e="";for(let[r,i]of Object.entries(t))e+=`
\u2022 (${r}) ${i}`;return e}function uLe(t){let e={...t.opts.constraints},r=e[bG.name];return delete e[bG.name],{...t,method:r,opts:{constraints:e}}}function fLe(t){let e=` (${t.method})`,r=t.opts.constraints||{};return Object.keys(r).length!==0&&(e+=" "+JSON.stringify(r)),e+=lLe(t.metaData),e}function dLe(t){return t.reduce((e,r)=>{for(let i of e)if(vG(r.opts.constraints,i.opts.constraints)&&vG(r.metaData,i.metaData))return i.method+=", "+r.method,e;return e.push(r),e},[])}function pLe(t,e,r){let i=t.routes;return r.method===void 0&&(i=i.map(uLe)),i=i.map(n=>(n.metaData=cLe(n,r),n)),r.method===void 0&&(i=dLe(i)),i.map(fLe).join(`
${e}`)}function Fb(t,e,r,i){if((t.isLeafNode||i.commonPrefix!==!1)&&(r=r||"(empty root node)",e=e[r]={},t.isLeafNode&&(e[_G]=pLe(t,r,i)),r=""),t.staticChildren)for(let n of Object.values(t.staticChildren))Fb(n,e,r+n.prefix,i);if(t.parametricChildren)for(let n of Object.values(t.parametricChildren)){let s=Array.from(n.nodePaths).join("|");Fb(n,e,r+s,i)}t.wildcardChild&&Fb(t.wildcardChild,e,"*",i)}function hLe(t,e){let r={};return Fb(t,r,t.prefix,e),wG(r)}SG.exports={prettyPrintTree:hLe}});var TG=w((_at,RG)=>{"use strict";var mLe=Lb(),hA=class{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(e){return e===void 0?this.unconstrainedHandler:this._getHandlerMatchingConstraints(e)}addHandler(e,r){let i=r.params,n=r.opts.constraints||{},s={params:i,constraints:n,handler:r.handler,store:r.store||null,_createParamsObject:this._compileCreateParamsObject(i)},o=Object.keys(n);o.length===0&&(this.unconstrainedHandler=s);for(let c of o)this.constraints.includes(c)||(c==="version"?this.constraints.unshift(c):this.constraints.push(c));let a=o.includes(mLe.name);if(!a&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");this.handlers.push(s),this.handlers.sort((c,l)=>Object.keys(c.constraints).length-Object.keys(l.constraints).length),a||this._compileGetHandlerMatchingConstraints(e,n)}_compileCreateParamsObject(e){let r=[];for(let i=0;i<e.length;i++)r.push(`'${e[i]}': paramsArray[${i}]`);return new Function("paramsArray",`return {${r.join(",")}}`)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(e,r){for(let i=0;i<this.handlers.length;i++){let s=this.handlers[i].constraints[r];if(s!==void 0){let o=e.get(s)||0;o|=1<<i,e.set(s,o)}}}_constrainedIndexBitmask(e){let r=0;for(let i=0;i<this.handlers.length;i++)this.handlers[i].constraints[e]!==void 0&&(r|=1<<i);return~r}_compileGetHandlerMatchingConstraints(e){this.constrainedHandlerStores={};for(let i of this.constraints){let n=e.newStoreForConstraint(i);this.constrainedHandlerStores[i]=n,this._buildConstraintStore(n,i)}let r=[];r.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let i of this.constraints){r.push(`
      mask = ${this._constrainedIndexBitmask(i)}
      value = derivedConstraints.${i}
      `);let s=e.strategies[i].mustMatchWhenDerived?"matches":"(matches | mask)";r.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${i}.get(value) || 0
        candidates &= ${s}
      }
      if (candidates === 0) return null;
      `)}for(let i in e.strategies)e.strategies[i].mustMatchWhenDerived&&!this.constraints.includes(i)&&r.push(`if (derivedConstraints.${i} !== undefined) return null`);r.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",r.join(`
`))}};RG.exports=hA});var PG=w((wat,$G)=>{"use strict";var gLe=TG(),Wb={STATIC:0,PARAMETRIC:1,WILDCARD:2},zb=class{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(e,r){this.routes===null&&(this.routes=[]),this.handlerStorage===null&&(this.handlerStorage=new gLe),this.isLeafNode=!0,this.routes.push(e),this.handlerStorage.addHandler(r,e)}},Ub=class extends zb{constructor(){super(),this.staticChildren={}}findStaticMatchingChild(e,r){let i=this.staticChildren[e.charAt(r)];return i===void 0||!i.matchPrefix(e,r)?null:i}getStaticChild(e,r=0){if(e.length===r)return this;let i=this.findStaticMatchingChild(e,r);return i?i.getStaticChild(e,r+i.prefix.length):null}createStaticChild(e){if(e.length===0)return this;let r=this.staticChildren[e.charAt(0)];if(r){let n=1;for(;n<r.prefix.length;n++)if(e.charCodeAt(n)!==r.prefix.charCodeAt(n)){r=r.split(this,n);break}return r.createStaticChild(e.slice(n))}let i=e.charAt(0);return this.staticChildren[i]=new Hb(e),this.staticChildren[i]}},Hb=class t extends Ub{constructor(e){super(),this.prefix=e,this.wildcardChild=null,this.parametricChildren=[],this.kind=Wb.STATIC,this._compilePrefixMatch()}getParametricChild(e){let r=e&&e.source,i=this.parametricChildren.find(n=>(n.regex&&n.regex.source)===r);return i||null}createParametricChild(e,r,i){let n=this.getParametricChild(e);return n?(n.nodePaths.add(i),n):(n=new Bb(e,r,i),this.parametricChildren.push(n),this.parametricChildren.sort((s,o)=>s.isRegex?o.isRegex?s.staticSuffix===null?1:o.staticSuffix===null?-1:o.staticSuffix.endsWith(s.staticSuffix)?1:s.staticSuffix.endsWith(o.staticSuffix)?-1:0:-1:1),n)}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new Vb,this.wildcardChild}split(e,r){let i=this.prefix.slice(0,r),n=this.prefix.slice(r);this.prefix=n,this._compilePrefixMatch();let s=new t(i);return s.staticChildren[n.charAt(0)]=this,e.staticChildren[i.charAt(0)]=s,s}getNextNode(e,r,i,n){let s=this.findStaticMatchingChild(e,r),o=0;if(s===null){if(this.parametricChildren.length===0)return this.wildcardChild;s=this.parametricChildren[0],o=1}this.wildcardChild!==null&&i.push({paramsCount:n,brotherPathIndex:r,brotherNode:this.wildcardChild});for(let a=this.parametricChildren.length-1;a>=o;a--)i.push({paramsCount:n,brotherPathIndex:r,brotherNode:this.parametricChildren[a]});return s}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let e=[];for(let r=1;r<this.prefix.length;r++){let i=this.prefix.charCodeAt(r);e.push(`path.charCodeAt(i + ${r}) === ${i}`)}this.matchPrefix=new Function("path","i",`return ${e.join(" && ")}`)}},Bb=class extends Ub{constructor(e,r,i){super(),this.isRegex=!!e,this.regex=e||null,this.staticSuffix=r||null,this.kind=Wb.PARAMETRIC,this.nodePaths=new Set([i])}getNextNode(e,r){return this.findStaticMatchingChild(e,r)}},Vb=class extends zb{constructor(){super(),this.kind=Wb.WILDCARD}getNextNode(){return null}};$G.exports={StaticNode:Hb,ParametricNode:Bb,WildcardNode:Vb,NODE_TYPES:Wb}});var kG=w((xat,OG)=>{"use strict";var yLe=require("node:assert");function sm(){if(!(this instanceof sm))return new sm;this.store={},this.maxMajor=0,this.maxMinors={},this.maxPatches={}}sm.prototype.set=function(t,e){if(typeof t!="string")throw new TypeError("Version should be a string");let[r,i,n]=t.split(".");if(isNaN(r))throw new TypeError("Major version must be a numeric value");return r=Number(r),i=Number(i)||0,n=Number(n)||0,r>=this.maxMajor&&(this.maxMajor=r,this.store.x=e,this.store["*"]=e,this.store["x.x"]=e,this.store["x.x.x"]=e),i>=(this.maxMinors[r]||0)&&(this.maxMinors[r]=i,this.store[`${r}.x`]=e,this.store[`${r}.x.x`]=e),n>=(this.maxPatches[`${r}.${i}`]||0)&&(this.maxPatches[`${r}.${i}`]=n,this.store[`${r}.${i}.x`]=e),this.store[`${r}.${i}.${n}`]=e,this};sm.prototype.get=function(t){return this.store[t]};OG.exports={name:"version",mustMatchWhenDerived:!0,storage:sm,validate(t){yLe(typeof t=="string","Version should be a string")}}});var CG=w((Sat,AG)=>{"use strict";var vLe=require("node:assert");function bLe(){let t={},e=[];return{get:r=>{let i=t[r];if(i)return i;for(let n of e)if(n.host.test(r))return n.value},set:(r,i)=>{r instanceof RegExp?e.push({host:r,value:i}):t[r]=i}}}AG.exports={name:"host",mustMatchWhenDerived:!1,storage:bLe,validate(t){vLe(typeof t=="string"||Object.prototype.toString.call(t)==="[object RegExp]","Host should be a string or a RegExp")}}});var IG=w((Eat,NG)=>{"use strict";var _Le=kG(),wLe=CG(),mA=require("node:assert"),gA=class{constructor(e){if(this.strategies={version:_Le,host:wLe},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,e)for(let r of Object.values(e))this.addConstraintStrategy(r)}isStrategyUsed(e){return this.strategiesInUse.has(e)||this.asyncStrategiesInUse.has(e)}hasConstraintStrategy(e){let r=this.strategies[e];return r!==void 0?r.isCustom||this.isStrategyUsed(e):!1}addConstraintStrategy(e){if(mA(typeof e.name=="string"&&e.name!=="","strategy.name is required."),mA(e.storage&&typeof e.storage=="function","strategy.storage function is required."),mA(e.deriveConstraint&&typeof e.deriveConstraint=="function","strategy.deriveConstraint function is required."),this.strategies[e.name]&&this.strategies[e.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${e.name}.`);if(this.isStrategyUsed(e.name))throw new Error(`There already exists a route with ${e.name} constraint.`);e.isCustom=!0,e.isAsync=e.deriveConstraint.length===3,this.strategies[e.name]=e,e.mustMatchWhenDerived&&this.noteUsage({[e.name]:e})}deriveConstraints(e,r,i){let n=this.deriveSyncConstraints(e,r);if(i===void 0)return n;this.deriveAsyncConstraints(n,e,r,i)}deriveSyncConstraints(e,r){}noteUsage(e){if(e){let r=this.strategiesInUse.size;for(let i in e)this.strategies[i].isAsync?this.asyncStrategiesInUse.add(i):this.strategiesInUse.add(i);r!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(e){if(!this.strategies[e])throw new Error(`No strategy registered for constraint key ${e}`);return this.strategies[e].storage()}validateConstraints(e){for(let r in e){let i=e[r];if(typeof i>"u")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let n=this.strategies[r];if(!n)throw new Error(`No strategy registered for constraint key ${r}`);n.validate&&n.validate(i)}}deriveAsyncConstraints(e,r,i,n){let s=this.asyncStrategiesInUse.size;if(s===0){n(null,e);return}e=e||{};for(let o of this.asyncStrategiesInUse)this.strategies[o].deriveConstraint(r,i,(c,l)=>{if(c!==null){n(c);return}e[o]=l,--s===0&&n(null,e)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let e=["return {"];for(let r of this.strategiesInUse){let i=this.strategies[r];i.isCustom?e.push(`  ${i.name}: this.strategies.${r}.deriveConstraint(req, ctx),`):r==="version"?e.push("   version: req.headers['accept-version'],"):e.push("   host: req.headers.host || req.headers[':authority'],")}e.push("}"),this.deriveSyncConstraints=new Function("req","ctx",e.join(`
`)).bind(this)}};NG.exports=gA});var qG=w((Rat,jG)=>{"use strict";var xLe=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];jG.exports=xLe});var LG=w((Tat,DG)=>{"use strict";function MG(t,e){return t===50?e===53?"%":e===51?"#":e===52?"$":e===54?"&":e===66||e===98?"+":e===67||e===99?",":e===70||e===102?"/":null:t===51?e===65||e===97?":":e===66||e===98?";":e===68||e===100?"=":e===70||e===102?"?":null:t===52&&e===48?"@":null}function SLe(t,e){let r=!1,i=!1,n="";for(let o=1;o<t.length;o++){let a=t.charCodeAt(o);if(a===37){let c=t.charCodeAt(o+1),l=t.charCodeAt(o+2);MG(c,l)===null?r=!0:(i=!0,c===50&&l===53&&(r=!0,t=t.slice(0,o+1)+"25"+t.slice(o+1),o+=2),o+=2)}else if(a===63||a===35||a===59&&e){n=t.slice(o+1),t=t.slice(0,o);break}}return{path:r?decodeURI(t):t,querystring:n,shouldDecodeParam:i}}function ELe(t){let e=t.indexOf("%");if(e===-1)return t;let r="",i=e;for(let n=e;n<t.length;n++)if(t.charCodeAt(n)===37){let s=t.charCodeAt(n+1),o=t.charCodeAt(n+2),a=MG(s,o);r+=t.slice(i,n)+a,i=n+3}return t.slice(0,e)+r+t.slice(i)}DG.exports={safeDecodeURI:SLe,safeDecodeURIComponent:ELe}});var wA=w(($at,GG)=>{"use strict";var Pr=require("node:assert"),RLe=aA(),Gb=gG(),vA=bn(),{prettyPrintTree:TLe}=EG(),{StaticNode:FG,NODE_TYPES:zG}=PG(),$Le=IG(),Pf=qG(),yA=Lb(),{safeDecodeURI:PLe,safeDecodeURIComponent:UG}=LG(),HG=/^https?:\/\/.*?\//,hl=/(\/:[^/()]*?)\?(\/?)/;if(!Gb(HG))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!Gb(hl))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");function br(t){if(!(this instanceof br))return new br(t);t=t||{},this._opts=t,t.defaultRoute?(Pr(typeof t.defaultRoute=="function","The default route must be a function"),this.defaultRoute=t.defaultRoute):this.defaultRoute=null,t.onBadUrl?(Pr(typeof t.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=t.onBadUrl):this.onBadUrl=null,t.buildPrettyMeta?(Pr(typeof t.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=t.buildPrettyMeta):this.buildPrettyMeta=OLe,t.querystringParser?(Pr(typeof t.querystringParser=="function","querystringParser must be a function"),this.querystringParser=t.querystringParser):this.querystringParser=e=>e===""?{}:RLe.parse(e),this.caseSensitive=t.caseSensitive===void 0?!0:t.caseSensitive,this.ignoreTrailingSlash=t.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=t.ignoreDuplicateSlashes||!1,this.maxParamLength=t.maxParamLength||100,this.allowUnsafeRegex=t.allowUnsafeRegex||!1,this.constrainer=new $Le(t.constraints),this.useSemicolonDelimiter=t.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}br.prototype.on=function(e,r,i,n,s){typeof i=="function"&&(n!==void 0&&(s=n),n=i,i={}),Pr(typeof r=="string","Path should be a string"),Pr(r.length>0,"The path could not be empty"),Pr(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),Pr(typeof n=="function","Handler should be a function");let o=r.match(hl);if(o){Pr(r.length===o.index+o[0].length,"Optional Parameter needs to be the last parameter of the path");let l=r.replace(hl,"$1$2"),u=r.replace(hl,"$2")||"/";this.on(e,l,i,n,s),this.on(e,u,i,n,s);return}let a=r;this.ignoreDuplicateSlashes&&(r=bA(r)),this.ignoreTrailingSlash&&(r=_A(r));let c=Array.isArray(e)?e:[e];for(let l of c)Pr(typeof l=="string","Method should be a string"),Pr(Pf.includes(l),`Method '${l}' is not an http method.`),this._on(l,r,i,n,s,a)};br.prototype._on=function(e,r,i,n,s){let o={};i.constraints!==void 0&&(Pr(typeof i.constraints=="object"&&i.constraints!==null,"Constraints should be an object"),Object.keys(i.constraints).length!==0&&(o=i.constraints)),this.constrainer.validateConstraints(o),this.constrainer.noteUsage(o),this.trees[e]===void 0&&(this.trees[e]=new FG("/"));let a=r;if(a==="*"&&this.trees[e].prefix.length!==0){let p=this.trees[e];this.trees[e]=new FG(""),this.trees[e].staticChildren["/"]=p}let c=this.trees[e],l=c.prefix.length,u=[];for(let p=0;p<=a.length;p++){if(a.charCodeAt(p)===58&&a.charCodeAt(p+1)===58){p++;continue}let d=a.charCodeAt(p)===58&&a.charCodeAt(p+1)!==58,h=a.charCodeAt(p)===42;if(d||h||p===a.length&&p!==l){let m=a.slice(l,p);this.caseSensitive||(m=m.toLowerCase()),m=m.split("::").join(":"),m=m.split("%").join("%25"),c=c.createStaticChild(m)}if(d){let m=!1,v=[],y=p+1;for(let E=y;;E++){let _=a.charCodeAt(E),b=_===40,$=_===45||_===46,k=_===47||E===a.length;if(b||$||k){let O=a.slice(y,E);if(u.push(O),m=m||b||$,b){let T=WG(a,E),g=a.slice(E,T+1);this.allowUnsafeRegex||Pr(Gb(new RegExp(g)),`The regex '${g}' is not safe!`),v.push(VG(g)),E=T+1}else v.push("(.*?)");let N=E;for(;E<a.length;E++){let T=a.charCodeAt(E);if(T===47)break;if(T===58)if(a.charCodeAt(E+1)===58)E++;else break}let L=a.slice(N,E);if(L&&(L=L.split("::").join(":"),L=L.split("%").join("%25"),v.push(BG(L))),y=E+1,k||a.charCodeAt(E)===47||E===a.length){let T=m?"()"+L:L,g=a.slice(p,E);a=a.slice(0,p+1)+T+a.slice(E),p+=T.length;let x=m?new RegExp("^"+v.join("")+"$"):null;c=c.createParametricChild(x,L||null,g),l=p+1;break}}}}else if(h&&(u.push("*"),c=c.createWildcardChild(),l=p+1,p!==a.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(a=a.toLowerCase()),a==="*"&&(a="/*");for(let p of this.routes){let d=p.opts.constraints||{};if(p.method===e&&p.pattern===a&&vA(d,o))throw new Error(`Method '${e}' already declared for route '${a}' with constraints '${JSON.stringify(o)}'`)}let f={method:e,path:r,pattern:a,params:u,opts:i,handler:n,store:s};this.routes.push(f),c.addRoute(f,this.constrainer)};br.prototype.hasRoute=function(e,r,i){return this.findRoute(e,r,i)!==null};br.prototype.findRoute=function(e,r,i={}){if(this.trees[e]===void 0)return null;let n=r,s=this.trees[e],o=s.prefix.length,a=[];for(let c=0;c<=n.length;c++){if(n.charCodeAt(c)===58&&n.charCodeAt(c+1)===58){c++;continue}let l=n.charCodeAt(c)===58&&n.charCodeAt(c+1)!==58,u=n.charCodeAt(c)===42;if(l||u||c===n.length&&c!==o){let f=n.slice(o,c);if(this.caseSensitive||(f=f.toLowerCase()),f=f.split("::").join(":"),f=f.split("%").join("%25"),s=s.getStaticChild(f),s===null)return null}if(l){let f=!1,p=[],d=c+1;for(let h=d;;h++){let m=n.charCodeAt(h),v=m===40,y=m===45||m===46,E=m===47||h===n.length;if(v||y||E){let _=n.slice(d,h);if(a.push(_),f=f||v||y,v){let k=WG(n,h),O=n.slice(h,k+1);this.allowUnsafeRegex||Pr(Gb(new RegExp(O)),`The regex '${O}' is not safe!`),p.push(VG(O)),h=k+1}else p.push("(.*?)");let b=h;for(;h<n.length;h++){let k=n.charCodeAt(h);if(k===47)break;if(k===58)if(n.charCodeAt(h+1)===58)h++;else break}let $=n.slice(b,h);if($&&($=$.split("::").join(":"),$=$.split("%").join("%25"),p.push(BG($))),d=h+1,E||n.charCodeAt(h)===47||h===n.length){let k=f?"()"+$:$,O=n.slice(c,h);n=n.slice(0,c+1)+k+n.slice(h),c+=k.length;let N=f?new RegExp("^"+p.join("")+"$"):null;if(s=s.getParametricChild(N,$||null,O),s===null)return null;o=c+1;break}}}}else if(u&&(a.push("*"),s=s.getWildcardChild(),o=c+1,c!==n.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(n=n.toLowerCase());for(let c of this.routes){let l=c.opts.constraints||{};if(c.method===e&&c.pattern===n&&vA(l,i))return{handler:c.handler,store:c.store,params:c.params}}return null};br.prototype.hasConstraintStrategy=function(t){return this.constrainer.hasConstraintStrategy(t)};br.prototype.addConstraintStrategy=function(t){this.constrainer.addConstraintStrategy(t),this._rebuild(this.routes)};br.prototype.reset=function(){this.trees={},this.routes=[]};br.prototype.off=function(e,r,i){Pr(typeof r=="string","Path should be a string"),Pr(r.length>0,"The path could not be empty"),Pr(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),Pr(typeof i>"u"||typeof i=="object"&&!Array.isArray(i)&&i!==null,"Constraints should be an object or undefined.");let n=r.match(hl);if(n){Pr(r.length===n.index+n[0].length,"Optional Parameter needs to be the last parameter of the path");let o=r.replace(hl,"$1$2"),a=r.replace(hl,"$2");this.off(e,o,i),this.off(e,a,i);return}this.ignoreDuplicateSlashes&&(r=bA(r)),this.ignoreTrailingSlash&&(r=_A(r));let s=Array.isArray(e)?e:[e];for(let o of s)this._off(o,r,i)};br.prototype._off=function(e,r,i){Pr(typeof e=="string","Method should be a string"),Pr(Pf.includes(e),`Method '${e}' is not an http method.`);function n(c){return e!==c.method||r!==c.path}function s(c){return n(c)||!vA(i,c.opts.constraints||{})}let o=i?s:n,a=this.routes.filter(o);this._rebuild(a)};br.prototype.lookup=function(e,r,i,n){if(typeof i=="function"&&(n=i,i=void 0),n===void 0){let s=this.constrainer.deriveConstraints(e,i),o=this.find(e.method,e.url,s);return this.callHandler(o,e,r,i)}this.constrainer.deriveConstraints(e,i,(s,o)=>{if(s!==null){n(s);return}try{let a=this.find(e.method,e.url,o),c=this.callHandler(a,e,r,i);n(null,c)}catch(a){n(a)}})};br.prototype.callHandler=function(e,r,i,n){return e===null?this._defaultRoute(r,i,n):n===void 0?e.handler(r,i,e.params,e.store,e.searchParams):e.handler.call(n,r,i,e.params,e.store,e.searchParams)};br.prototype.find=function(e,r,i){let n=this.trees[e];if(n===void 0)return null;r.charCodeAt(0)!==47&&(r=r.replace(HG,"/")),this.ignoreDuplicateSlashes&&(r=bA(r));let s,o,a;try{s=PLe(r,this.useSemicolonDelimiter),r=s.path,o=s.querystring,a=s.shouldDecodeParam}catch{return this._onBadUrl(r)}this.ignoreTrailingSlash&&(r=_A(r));let c=r;this.caseSensitive===!1&&(r=r.toLowerCase());let l=this.maxParamLength,u=n.prefix.length,f=[],p=r.length,d=[];for(;;){if(u===p&&n.isLeafNode){let y=n.handlerStorage.getMatchingHandler(i);if(y!==null)return{handler:y.handler,store:y.store,params:y._createParamsObject(f),searchParams:this.querystringParser(o)}}let h=n.getNextNode(r,u,d,f.length);if(h===null){if(d.length===0)return null;let y=d.pop();u=y.brotherPathIndex,f.splice(y.paramsCount),h=y.brotherNode}if(n=h,n.kind===zG.STATIC){u+=n.prefix.length;continue}if(n.kind===zG.WILDCARD){let y=c.slice(u);a&&(y=UG(y)),f.push(y),u=p;continue}let m=c.indexOf("/",u);m===-1&&(m=p);let v=c.slice(u,m);if(a&&(v=UG(v)),n.isRegex){let y=n.regex.exec(v);if(y===null)continue;for(let E=1;E<y.length;E++){let _=y[E];if(_.length>l)return null;f.push(_)}}else{if(v.length>l)return null;f.push(v)}u=m}};br.prototype._rebuild=function(t){this.reset();for(let e of t){let{method:r,path:i,opts:n,handler:s,store:o}=e;this._on(r,i,n,s,o)}};br.prototype._defaultRoute=function(t,e,r){if(this.defaultRoute!==null)return r===void 0?this.defaultRoute(t,e):this.defaultRoute.call(r,t,e);e.statusCode=404,e.end()};br.prototype._onBadUrl=function(t){if(this.onBadUrl===null)return null;let e=this.onBadUrl;return{handler:(r,i,n)=>e(t,r,i),params:{},store:null}};br.prototype.prettyPrint=function(t={}){let e=t.method;t.buildPrettyMeta=this.buildPrettyMeta.bind(this);let r=null;if(e===void 0){let{version:i,host:n,...s}=this.constrainer.strategies;s[yA.name]=yA;let o=new br({...this._opts,constraints:s}),a=this.routes.map(c=>{let l={...c.opts.constraints,[yA.name]:c.method};return{...c,method:"MERGED",opts:{constraints:l}}});o._rebuild(a),r=o.trees.MERGED}else r=this.trees[e];return r==null?"(empty tree)":TLe(r,t)};for(let t in Pf){if(!Pf.hasOwnProperty(t))continue;let e=Pf[t],r=e.toLowerCase();br.prototype[r]=function(i,n,s){return this.on(e,i,n,s)}}br.prototype.all=function(t,e,r){this.on(Pf,t,e,r)};GG.exports=br;function BG(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bA(t){return t.replace(/\/\/+/g,"/")}function _A(t){return t.length>1&&t.charCodeAt(t.length-1)===47?t.slice(0,-1):t}function VG(t){return t.charCodeAt(1)===94&&(t=t.slice(0,1)+t.slice(2)),t.charCodeAt(t.length-2)===36&&(t=t.slice(0,t.length-2)+t.slice(t.length-1)),t}function WG(t,e){let r=1;for(;e<t.length;){if(e++,t[e]==="\\"){e++;continue}if(t[e]===")"?r--:t[e]==="("&&r++,!r)return e}throw new TypeError('Invalid regexp expression in "'+t+'"')}function OLe(t){return t?t.store?Object.assign({},t.store):{}:{}}});var JG=w((Pat,KG)=>{"use strict";function xA(t,e,r,i){if(r===void 0)return e.header("content-length","0"),i(null,null);if(typeof r.resume=="function")return r.on("error",s=>{e.log.error({err:s},"Error on Stream found for HEAD route")}),r.resume(),i(null,null);let n=""+Buffer.byteLength(r);e.header("content-length",n),i(null,null)}function kLe(t){return t==null?xA:Array.isArray(t)?[...t,xA]:[t,xA]}KG.exports={parseHeadOnSendHandlers:kLe}});var dK=w((Oat,fK)=>{"use strict";var ALe=wA(),CLe=mv(),YG=YS(),{onRequestAbortHookRunner:NLe,lifecycleHooks:XG,preParsingHookRunner:ILe,onTimeoutHookRunner:jLe,onRequestHookRunner:qLe}=ya(),{supportedMethods:MLe}=PR(),{normalizeSchema:DLe}=Qd(),{parseHeadOnSendHandlers:LLe}=JG(),{FSTDEP007:FLe,FSTDEP008:zLe,FSTDEP014:ZG}=_o(),{compileSchemasForValidation:ULe,compileSchemasForSerialization:HLe}=VS(),{FST_ERR_SCH_VALIDATION_BUILD:BLe,FST_ERR_SCH_SERIALIZATION_BUILD:VLe,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:WLe,FST_ERR_DUPLICATED_ROUTE:GLe,FST_ERR_INVALID_URL:KLe,FST_ERR_HOOK_INVALID_HANDLER:QG,FST_ERR_ROUTE_OPTIONS_NOT_OBJ:JLe,FST_ERR_ROUTE_DUPLICATED_HANDLER:YLe,FST_ERR_ROUTE_HANDLER_NOT_FN:eK,FST_ERR_ROUTE_MISSING_HANDLER:XLe,FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:ZLe,FST_ERR_ROUTE_METHOD_INVALID:QLe,FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:e2e,FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:t2e,FST_ERR_HOOK_INVALID_ASYNC_HANDLER:SA}=fi(),{kRoutePrefix:r2e,kLogLevel:i2e,kLogSerializers:tK,kHooks:rK,kSchemaController:n2e,kOptions:iK,kReplySerializerDefault:EA,kReplyIsError:s2e,kRequestPayloadStream:o2e,kDisableRequestLogging:a2e,kSchemaErrorFormatter:c2e,kErrorHandler:nK,kHasBeenDecorated:sK,kRequestAcceptVersion:RA,kRouteByFastify:TA,kRouteContext:oK}=Dr(),{buildErrorHandler:l2e}=ep(),{createChildLogger:u2e}=Zd(),{getGenReqId:f2e}=Ob();function d2e(t){let e=ALe(t.config),r,i,n,s,o,a,c,l,u,f,p,d,h,m=!1;return{setup(N,L){r=L.avvio,i=L.fourOhFour,n=L.logger,s=L.hasLogger,o=L.setupResponseListeners,a=L.throwIfAlreadyStarted,d=L.validateHTTPVersion,p=N.exposeHeadRoutes,c=N.disableRequestLogging,l=N.ignoreTrailingSlash,u=N.ignoreDuplicateSlashes,f=Object.prototype.hasOwnProperty.call(N,"return503OnClosing")?N.return503OnClosing:!0,h=L.keepAliveConnections},routing:e.lookup.bind(e),route:k,hasRoute:b,prepareRoute:_,getDefaultRoute:function(){return ZG(),e.defaultRoute},setDefaultRoute:function(N){if(ZG(),typeof N!="function")throw new WLe;e.defaultRoute=N},routeHandler:O,closeRoutes:()=>{m=!0},printRoutes:e.prettyPrint.bind(e),addConstraintStrategy:v,hasConstraintStrategy:y,isAsyncConstraint:E,findRoute:$};function v(N){return a("Cannot add constraint strategy!"),e.addConstraintStrategy(N)}function y(N){return e.hasConstraintStrategy(N)}function E(){return e.constrainer.asyncStrategiesInUse.size>0}function _({method:N,url:L,options:T,handler:g,isFastify:x}){if(typeof L!="string")throw new KLe(typeof L);if(!g&&typeof T=="function")g=T,T={};else if(g&&typeof g=="function"){if(Object.prototype.toString.call(T)!=="[object Object]")throw new JLe(N,L);if(T.handler)throw typeof T.handler=="function"?new YLe(N,L):new eK(N,L)}return T=Object.assign({},T,{method:N,url:L,path:L,handler:g||T&&T.handler}),k.call(this,{options:T,isFastify:x})}function b({options:N}){let L=N.method?.toUpperCase()??"";return $({...N,method:L})!==null}function $(N){let L=e.find(N.method,N.url||"",N.constraints);return L?{handler:L.handler,params:L.params,searchParams:L.searchParams}:null}function k({options:N,isFastify:L}){let T={...N},{exposeHeadRoute:g}=T,R=g!=null?g:p,P=T.method==="GET"||Array.isArray(T.method)&&T.method.includes("GET"),C=T.method==="HEAD"||Array.isArray(T.method)&&T.method.includes("HEAD"),j=R&&P?{...N}:null;a("Cannot add route!");let M=T.url||T.path||"";if(Array.isArray(T.method))for(var A=0;A<T.method.length;++A)T.method[A]=aK(T.method[A]),cK(T.method[A],M,T.schema);else T.method=aK(T.method),cK(T.method,M,T.schema);if(!T.handler)throw new XLe(T.method,M);if(T.errorHandler!==void 0&&typeof T.errorHandler!="function")throw new eK(T.method,M);uK(T.bodyLimit);let S=this[r2e];if(M==="/"&&S.length>0&&T.method!=="HEAD")switch(T.prefixTrailingSlash){case"slash":I.call(this,{path:M,isFastify:L});break;case"no-slash":I.call(this,{path:"",isFastify:L});break;case"both":default:I.call(this,{path:"",isFastify:L}),l!==!0&&(u!==!0||!S.endsWith("/"))&&I.call(this,{path:M,prefixing:!0,isFastify:L})}else M[0]==="/"&&S.endsWith("/")?I.call(this,{path:M.slice(1),isFastify:L}):I.call(this,{path:M,isFastify:L});return this;function I({path:ee,prefixing:Y=!1,isFastify:V=!1}){let Q=S+ee;if(T.url=Q,T.path=Q,T.routePath=ee,T.prefix=S,T.logLevel=T.logLevel||this[i2e],(this[tK]||T.logSerializers)&&(T.logSerializers=Object.assign(Object.create(this[tK]),T.logSerializers)),T.attachValidation==null&&(T.attachValidation=!1),Y===!1)for(let it of this[rK].onRoute)it.call(this,T);for(let it of XG)if(T&&it in T){if(Array.isArray(T[it]))for(let he of T[it]){if(typeof he!="function")throw new QG(it,Object.prototype.toString.call(he));if(it==="onSend"||it==="preSerialization"||it==="onError"||it==="preParsing"){if(he.constructor.name==="AsyncFunction"&&he.length===4)throw new SA}else if(it==="onRequestAbort"){if(he.constructor.name==="AsyncFunction"&&he.length!==1)throw new SA}else if(he.constructor.name==="AsyncFunction"&&he.length===3)throw new SA}else if(T[it]!==void 0&&typeof T[it]!="function")throw new QG(it,Object.prototype.toString.call(T[it]))}let Z=T.constraints||{},se={...T.config,url:Q,method:T.method},ve=new CLe({schema:T.schema,handler:T.handler.bind(this),config:se,errorHandler:T.errorHandler,childLoggerFactory:T.childLoggerFactory,bodyLimit:T.bodyLimit,logLevel:T.logLevel,logSerializers:T.logSerializers,attachValidation:T.attachValidation,schemaErrorFormatter:T.schemaErrorFormatter,replySerializer:this[EA],validatorCompiler:T.validatorCompiler,serializerCompiler:T.serializerCompiler,exposeHeadRoute:R,prefixTrailingSlash:T.prefixTrailingSlash||"both",server:this,isFastify:V});T.version&&(zLe(),Z.version=T.version);let ue=e.findRoute("HEAD",T.url,Z),Se=ue!==null;C&&Se&&!ve[TA]&&ue.store[TA]&&e.off("HEAD",T.url,Z);try{e.on(T.method,T.url,{constraints:Z},O,ve)}catch(it){if(!ve[TA])throw it.message.includes(`Method '${T.method}' already declared for route '${T.url}'`)?new GLe(T.method,T.url):it}if(this.after((it,he)=>{ve.errorHandler=T.errorHandler?l2e(this[nK],T.errorHandler):this[nK],ve._parserOptions.limit=T.bodyLimit||null,ve.logLevel=T.logLevel,ve.logSerializers=T.logSerializers,ve.attachValidation=T.attachValidation,ve[EA]=this[EA],ve.schemaErrorFormatter=T.schemaErrorFormatter||this[c2e]||ve.schemaErrorFormatter,r.once("preReady",()=>{for(let z of XG){let K=this[rK][z].concat(T[z]||[]).map(J=>J.bind(this));ve[z]=K.length?K:null}for(;!ve.Request[sK]&&ve.Request.parent;)ve.Request=ve.Request.parent;for(;!ve.Reply[sK]&&ve.Reply.parent;)ve.Reply=ve.Reply.parent;if(i.setContext(this,ve),T.schema){ve.schema=DLe(ve.schema,this.initialConfig);let z=this[n2e];!T.validatorCompiler&&(T.schema.body||T.schema.headers||T.schema.querystring||T.schema.params)&&z.setupValidator(this[iK]);try{let K=typeof T?.validatorCompiler=="function"||z.isCustomValidatorCompiler;ULe(ve,T.validatorCompiler||z.validatorCompiler,K)}catch(K){throw new BLe(T.method,Q,K.message)}T.schema.response&&!T.serializerCompiler&&z.setupSerializer(this[iK]);try{HLe(ve,T.serializerCompiler||z.serializerCompiler)}catch(K){throw new VLe(T.method,Q,K.message)}}}),he(it)}),R&&P&&!C&&!Se){let it=LLe(j.onSend);_.call(this,{method:"HEAD",url:ee,options:{...j,onSend:it},isFastify:!0})}else Se&&g&&FLe()}}function O(N,L,T,g,x){let R=f2e(g.server,N),P={level:g.logLevel};g.logSerializers&&(P.serializers=g.logSerializers);let C=u2e(g,n,N,R,P);if(C[a2e]=c,!d(N.httpVersion)){C.info({res:{statusCode:505}},"request aborted - invalid HTTP version");let S='{"error":"HTTP Version Not Supported","message":"HTTP Version Not Supported","statusCode":505}',I={"Content-Type":"application/json","Content-Length":S.length};L.writeHead(505,I),L.end(S);return}if(m===!0&&(N.httpVersionMajor!==2&&L.setHeader("Connection","close"),f)){let S={"Content-Type":"application/json","Content-Length":"80"};L.writeHead(503,S),L.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}'),C.info({res:{statusCode:503}},"request aborted - refusing to accept new requests as server is closing");return}String.prototype.toLowerCase.call(N.headers.connection||"")==="keep-alive"&&h.has(N.socket)===!1&&(h.add(N.socket),N.socket.on("close",m2e.bind({keepAliveConnections:h,socket:N.socket}))),N.headers[RA]!==void 0&&(N.headers["accept-version"]=N.headers[RA],N.headers[RA]=void 0);let M=new g.Request(R,T,N,x,C,g),A=new g.Reply(L,M,C);c===!1&&C.info({req:M},"incoming request"),(s===!0||g.onResponse!==null)&&o(A),g.onRequest!==null?qLe(g.onRequest,M,A,lK):lK(null,M,A),g.onRequestAbort!==null&&N.on("close",()=>{N.aborted&&NLe(g.onRequestAbort,M,p2e.bind(null,A))}),g.onTimeout!==null&&(M.raw.socket._meta||M.raw.socket.on("timeout",h2e),M.raw.socket._meta={context:g,request:M,reply:A})}}function p2e(t,e){e&&t.log.error({err:e},"onRequestAborted hook failed")}function h2e(){let{context:t,request:e,reply:r}=this._meta;jLe(t.onTimeout,e,r,g2e)}function aK(t){if(typeof t!="string")throw new QLe;if(t=t.toUpperCase(),MLe.indexOf(t)===-1)throw new ZLe(t);return t}function cK(t,e,r){if((t==="GET"||t==="HEAD")&&r&&r.body)throw new e2e(t,e)}function uK(t){if(t!==void 0&&(!Number.isInteger(t)||t<=0))throw new t2e(t)}function lK(t,e,r){if(r.sent!==!0){if(t!=null){r[s2e]=!0,r.send(t);return}e[o2e]=e.raw,e[oK].preParsing!==null?ILe(e[oK].preParsing,e,r,YG):YG(null,e,r)}}function m2e(){this.keepAliveConnections.delete(this.socket)}function g2e(){}fK.exports={buildRouting:d2e,validateBodyLimitOption:uK}});var bK=w((kat,vK)=>{"use strict";var y2e=wA(),pK=Qy(),hK=hv(),v2e=mv(),{kRoutePrefix:b2e,kCanSetNotFoundHandler:om,kFourOhFourLevelInstance:am,kFourOhFourContext:Ks,kHooks:_2e,kErrorHandler:mK}=Dr(),{lifecycleHooks:w2e}=ya(),{buildErrorHandler:x2e}=ep(),{FST_ERR_NOT_FOUND:S2e}=fi(),{createChildLogger:gK}=Zd(),{getGenReqId:yK}=Ob();function E2e(t){let{logger:e,disableRequestLogging:r}=t,i=y2e({onBadUrl:a(),defaultRoute:f}),n=null;return{router:i,setNotFoundHandler:l,setContext:c,arrange404:s};function s(p){p[am]=p,p[om]=!0,i.onBadUrl=i.onBadUrl.bind(p),i.defaultRoute=i.defaultRoute.bind(p)}function o(p,d){let{url:h,method:m}=p.raw,v=`Route ${m}:${h} not found`;r||p.log.info(v),d.code(404).send({message:v,error:"Not Found",statusCode:404})}function a(){return function(d,h,m){let v=this[am][Ks],y=yK(v.server,h),E=gK(v,e,h,y),_=new hK(y,null,h,null,E,v),b=new pK(m,_,E);n(_,b)}}function c(p,d){let h=Object.assign({},p[Ks]);h.onSend=d.onSend,d[Ks]=h}function l(p,d,h,m){this[om]===void 0&&(this[om]=!0),this[Ks]===void 0&&(this[Ks]=null);let v=this,y=this[b2e]||"/";if(this[om]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${y}'`);typeof p=="object"&&(p.preHandler&&(Array.isArray(p.preHandler)?p.preHandler=p.preHandler.map(E=>E.bind(v)):p.preHandler=p.preHandler.bind(v)),p.preValidation&&(Array.isArray(p.preValidation)?p.preValidation=p.preValidation.map(E=>E.bind(v)):p.preValidation=p.preValidation.bind(v))),typeof p=="function"&&(d=p,p=void 0),p=p||{},d?(this[am][om]=!1,d=d.bind(this),n=d):(d=o,n=o),this.after((E,_)=>{u.call(this,y,p,d,h,m),_(E)})}function u(p,d,h,m,v){let y=new v2e({schema:d.schema,handler:h,config:d.config||{},server:this});if(m.once("preReady",()=>{let E=this[Ks];for(let _ of w2e){let b=this[_2e][_].concat(d[_]||[]).map($=>$.bind(this));E[_]=b.length?b:null}E.errorHandler=d.errorHandler?x2e(this[mK],d.errorHandler):this[mK]}),this[Ks]!==null&&p==="/"){Object.assign(this[Ks],y);return}this[am][Ks]=y,i.all(p+(p.endsWith("/")?"*":"/*"),v,y),i.all(p,v,y)}function f(p,d){let h=this[am][Ks],m=yK(h.server,p),v=gK(h,e,p,m);v.info({req:p},"incoming request");let y=new hK(m,null,p,null,v,h),E=new pK(d,y,v);y.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),y.log.warn(i.prettyPrint()),E.code(404).send(new S2e)}}vK.exports=E2e});var wK=w((Aat,Kb)=>{"use strict";Kb.exports=bt;Kb.exports.default=bt;var _K={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:72e3},forceCloseConnections:{oneOf:[{type:"string",pattern:"idle"},{type:"boolean"}]},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},allowUnsafeRegex:{type:"boolean",default:!1},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{anyOf:[{enum:[!1]},{type:"string"}],default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:72e3},exposeHeadRoutes:{type:"boolean",default:!0},useSemicolonDelimiter:{type:"boolean",default:!0},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}},R2e=Object.prototype.hasOwnProperty,T2e=new RegExp("idle","u");function bt(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){t.connectionTimeout===void 0&&(t.connectionTimeout=0),t.keepAliveTimeout===void 0&&(t.keepAliveTimeout=72e3),t.maxRequestsPerSocket===void 0&&(t.maxRequestsPerSocket=0),t.requestTimeout===void 0&&(t.requestTimeout=0),t.bodyLimit===void 0&&(t.bodyLimit=1048576),t.caseSensitive===void 0&&(t.caseSensitive=!0),t.allowUnsafeRegex===void 0&&(t.allowUnsafeRegex=!1),t.ignoreTrailingSlash===void 0&&(t.ignoreTrailingSlash=!1),t.ignoreDuplicateSlashes===void 0&&(t.ignoreDuplicateSlashes=!1),t.disableRequestLogging===void 0&&(t.disableRequestLogging=!1),t.jsonShorthand===void 0&&(t.jsonShorthand=!0),t.maxParamLength===void 0&&(t.maxParamLength=100),t.onProtoPoisoning===void 0&&(t.onProtoPoisoning="error"),t.onConstructorPoisoning===void 0&&(t.onConstructorPoisoning="error"),t.pluginTimeout===void 0&&(t.pluginTimeout=1e4),t.requestIdHeader===void 0&&(t.requestIdHeader="request-id"),t.requestIdLogLabel===void 0&&(t.requestIdLogLabel="reqId"),t.http2SessionTimeout===void 0&&(t.http2SessionTimeout=72e3),t.exposeHeadRoutes===void 0&&(t.exposeHeadRoutes=!0),t.useSemicolonDelimiter===void 0&&(t.useSemicolonDelimiter=!0);let h=o;for(let m in t)R2e.call(_K.properties,m)||delete t[m];if(h===o){let m=t.connectionTimeout,v=o;if(!(typeof m=="number"&&!(m%1)&&!isNaN(m)&&isFinite(m))){let y=typeof m,E;if(E===void 0)if(y==="boolean"||m===null||y==="string"&&m&&m==+m&&!(m%1))E=+m;else return bt.errors=[{instancePath:e+"/connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;E!==void 0&&(m=E,t!==void 0&&(t.connectionTimeout=E))}var a=v===o;if(a){let y=t.keepAliveTimeout,E=o;if(!(typeof y=="number"&&!(y%1)&&!isNaN(y)&&isFinite(y))){let b=typeof y,$;if($===void 0)if(b==="boolean"||y===null||b==="string"&&y&&y==+y&&!(y%1))$=+y;else return bt.errors=[{instancePath:e+"/keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;$!==void 0&&(y=$,t!==void 0&&(t.keepAliveTimeout=$))}var a=E===o;if(a){if(t.forceCloseConnections!==void 0){let b=t.forceCloseConnections,$=o,k=o,O=!1,N=null,L=o;if(typeof b!="string"){let x=typeof b,R;if(R===void 0)if(x=="number"||x=="boolean")R=""+b;else if(b===null)R="";else{let P={instancePath:e+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}R!==void 0&&(b=R,t!==void 0&&(t.forceCloseConnections=R))}if(o===L&&typeof b=="string"&&!T2e.test(b)){let x={instancePath:e+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/pattern",keyword:"pattern",params:{pattern:"idle"},message:'must match pattern "idle"'};s===null?s=[x]:s.push(x),o++}var c=L===o;c&&(O=!0,N=0);let T=o;if(typeof b!="boolean"){let x;if(x===void 0)if(b==="false"||b===0||b===null)x=!1;else if(b==="true"||b===1)x=!0;else{let R={instancePath:e+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/1/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[R]:s.push(R),o++}x!==void 0&&(b=x,t!==void 0&&(t.forceCloseConnections=x))}var c=T===o;if(c&&O?(O=!1,N=[N,1]):c&&(O=!0,N=1),O)o=k,s!==null&&(k?s.length=k:s=null);else{let x={instancePath:e+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf",keyword:"oneOf",params:{passingSchemas:N},message:"must match exactly one schema in oneOf"};return s===null?s=[x]:s.push(x),o++,bt.errors=s,!1}var a=$===o}else var a=!0;if(a){let b=t.maxRequestsPerSocket,$=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b))&&b!==null){let O=typeof b,N;if(N===void 0)if(O==="boolean"||b===null||O==="string"&&b&&b==+b&&!(b%1))N=+b;else if(b===""||b===0||b===!1)N=null;else return bt.errors=[{instancePath:e+"/maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;N!==void 0&&(b=N,t!==void 0&&(t.maxRequestsPerSocket=N))}var a=$===o;if(a){let O=t.requestTimeout,N=o;if(!(typeof O=="number"&&!(O%1)&&!isNaN(O)&&isFinite(O))){let T=typeof O,g;if(g===void 0)if(T==="boolean"||O===null||T==="string"&&O&&O==+O&&!(O%1))g=+O;else return bt.errors=[{instancePath:e+"/requestTimeout",schemaPath:"#/properties/requestTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;g!==void 0&&(O=g,t!==void 0&&(t.requestTimeout=g))}var a=N===o;if(a){let T=t.bodyLimit,g=o;if(!(typeof T=="number"&&!(T%1)&&!isNaN(T)&&isFinite(T))){let R=typeof T,P;if(P===void 0)if(R==="boolean"||T===null||R==="string"&&T&&T==+T&&!(T%1))P=+T;else return bt.errors=[{instancePath:e+"/bodyLimit",schemaPath:"#/properties/bodyLimit/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;P!==void 0&&(T=P,t!==void 0&&(t.bodyLimit=P))}var a=g===o;if(a){let R=t.caseSensitive,P=o;if(typeof R!="boolean"){let j;if(j===void 0)if(R==="false"||R===0||R===null)j=!1;else if(R==="true"||R===1)j=!0;else return bt.errors=[{instancePath:e+"/caseSensitive",schemaPath:"#/properties/caseSensitive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;j!==void 0&&(R=j,t!==void 0&&(t.caseSensitive=j))}var a=P===o;if(a){let j=t.allowUnsafeRegex,M=o;if(typeof j!="boolean"){let S;if(S===void 0)if(j==="false"||j===0||j===null)S=!1;else if(j==="true"||j===1)S=!0;else return bt.errors=[{instancePath:e+"/allowUnsafeRegex",schemaPath:"#/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;S!==void 0&&(j=S,t!==void 0&&(t.allowUnsafeRegex=S))}var a=M===o;if(a){if(t.http2!==void 0){let S=t.http2,I=o;if(typeof S!="boolean"){let Y;if(Y===void 0)if(S==="false"||S===0||S===null)Y=!1;else if(S==="true"||S===1)Y=!0;else return bt.errors=[{instancePath:e+"/http2",schemaPath:"#/properties/http2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Y!==void 0&&(S=Y,t!==void 0&&(t.http2=Y))}var a=I===o}else var a=!0;if(a){if(t.https!==void 0){let S=t.https,I=o,ee=o,Y=!0,V=o,Q=o,Z=o,se=o,ve=!1,ue=null,Se=o;if(typeof S!="boolean"){let z;if(z===void 0)if(S==="false"||S===0||S===null)z=!1;else if(S==="true"||S===1)z=!0;else{let K={};s===null?s=[K]:s.push(K),o++}z!==void 0&&(S=z,t!==void 0&&(t.https=z))}var l=Se===o;l&&(ve=!0,ue=0);let it=o;if(S!==null){let z;if(z===void 0)if(S===""||S===0||S===!1)z=null;else{let K={};s===null?s=[K]:s.push(K),o++}z!==void 0&&(S=z,t!==void 0&&(t.https=z))}var l=it===o;if(l&&ve)ve=!1,ue=[ue,1];else{l&&(ve=!0,ue=1);let z=o;if(o===z)if(S&&typeof S=="object"&&!Array.isArray(S)){let J;if(S.allowHTTP1===void 0&&(J="allowHTTP1")){let B={};s===null?s=[B]:s.push(B),o++}else{let B=o;for(let X in S)X!=="allowHTTP1"&&delete S[X];if(B===o&&S.allowHTTP1!==void 0){let X=S.allowHTTP1;if(typeof X!="boolean"){let G;if(G===void 0)if(X==="false"||X===0||X===null)G=!1;else if(X==="true"||X===1)G=!0;else{let re={};s===null?s=[re]:s.push(re),o++}G!==void 0&&(X=G,S!==void 0&&(S.allowHTTP1=G))}}}}else{let J={};s===null?s=[J]:s.push(J),o++}var l=z===o;l&&ve?(ve=!1,ue=[ue,2]):l&&(ve=!0,ue=2)}if(ve)o=se,s!==null&&(se?s.length=se:s=null);else{let z={};s===null?s=[z]:s.push(z),o++}var u=Z===o;if(u){let z={};s===null?s=[z]:s.push(z),o++}else o=Q,s!==null&&(Q?s.length=Q:s=null);var f=V===o;if(o=ee,s!==null&&(ee?s.length=ee:s=null),f){let z=o;t.https=!0;var f=z===o;Y=f}if(!Y){let z={instancePath:e+"/https",schemaPath:"#/properties/https/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[z]:s.push(z),o++,bt.errors=s,!1}var a=I===o}else var a=!0;if(a){let S=t.ignoreTrailingSlash,I=o;if(typeof S!="boolean"){let Y;if(Y===void 0)if(S==="false"||S===0||S===null)Y=!1;else if(S==="true"||S===1)Y=!0;else return bt.errors=[{instancePath:e+"/ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Y!==void 0&&(S=Y,t!==void 0&&(t.ignoreTrailingSlash=Y))}var a=I===o;if(a){let Y=t.ignoreDuplicateSlashes,V=o;if(typeof Y!="boolean"){let Z;if(Z===void 0)if(Y==="false"||Y===0||Y===null)Z=!1;else if(Y==="true"||Y===1)Z=!0;else return bt.errors=[{instancePath:e+"/ignoreDuplicateSlashes",schemaPath:"#/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Z!==void 0&&(Y=Z,t!==void 0&&(t.ignoreDuplicateSlashes=Z))}var a=V===o;if(a){let Z=t.disableRequestLogging,se=o;if(typeof Z!="boolean"){let ue;if(ue===void 0)if(Z==="false"||Z===0||Z===null)ue=!1;else if(Z==="true"||Z===1)ue=!0;else return bt.errors=[{instancePath:e+"/disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ue!==void 0&&(Z=ue,t!==void 0&&(t.disableRequestLogging=ue))}var a=se===o;if(a){let ue=t.jsonShorthand,Se=o;if(typeof ue!="boolean"){let he;if(he===void 0)if(ue==="false"||ue===0||ue===null)he=!1;else if(ue==="true"||ue===1)he=!0;else return bt.errors=[{instancePath:e+"/jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;he!==void 0&&(ue=he,t!==void 0&&(t.jsonShorthand=he))}var a=Se===o;if(a){let he=t.maxParamLength,z=o;if(!(typeof he=="number"&&!(he%1)&&!isNaN(he)&&isFinite(he))){let J=typeof he,B;if(B===void 0)if(J==="boolean"||he===null||J==="string"&&he&&he==+he&&!(he%1))B=+he;else return bt.errors=[{instancePath:e+"/maxParamLength",schemaPath:"#/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;B!==void 0&&(he=B,t!==void 0&&(t.maxParamLength=B))}var a=z===o;if(a){let J=t.onProtoPoisoning,B=o;if(typeof J!="string"){let G=typeof J,re;if(re===void 0)if(G=="number"||G=="boolean")re=""+J;else if(J===null)re="";else return bt.errors=[{instancePath:e+"/onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;re!==void 0&&(J=re,t!==void 0&&(t.onProtoPoisoning=re))}var a=B===o;if(a){let G=t.onConstructorPoisoning,re=o;if(typeof G!="string"){let ne=typeof G,ae;if(ae===void 0)if(ne=="number"||ne=="boolean")ae=""+G;else if(G===null)ae="";else return bt.errors=[{instancePath:e+"/onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ae!==void 0&&(G=ae,t!==void 0&&(t.onConstructorPoisoning=ae))}var a=re===o;if(a){let ne=t.pluginTimeout,ae=o;if(!(typeof ne=="number"&&!(ne%1)&&!isNaN(ne)&&isFinite(ne))){let fe=typeof ne,we;if(we===void 0)if(fe==="boolean"||ne===null||fe==="string"&&ne&&ne==+ne&&!(ne%1))we=+ne;else return bt.errors=[{instancePath:e+"/pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;we!==void 0&&(ne=we,t!==void 0&&(t.pluginTimeout=we))}var a=ae===o;if(a){let fe=t.requestIdHeader,we=o,cn=o,Tt=!1,xt=o;if(fe!==!1){let Ye={instancePath:e+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/0/enum",keyword:"enum",params:{allowedValues:_K.properties.requestIdHeader.anyOf[0].enum},message:"must be equal to one of the allowed values"};s===null?s=[Ye]:s.push(Ye),o++}var p=xt===o;if(Tt=Tt||p,!Tt){let Ye=o;if(typeof fe!="string"){let Yn=typeof fe,Ee;if(Ee===void 0)if(Yn=="number"||Yn=="boolean")Ee=""+fe;else if(fe===null)Ee="";else{let ct={instancePath:e+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[ct]:s.push(ct),o++}Ee!==void 0&&(fe=Ee,t!==void 0&&(t.requestIdHeader=Ee))}var p=Ye===o;Tt=Tt||p}if(Tt)o=cn,s!==null&&(cn?s.length=cn:s=null);else{let Ye={instancePath:e+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[Ye]:s.push(Ye),o++,bt.errors=s,!1}var a=we===o;if(a){let Ye=t.requestIdLogLabel,Xt=o;if(typeof Ye!="string"){let Ee=typeof Ye,ct;if(ct===void 0)if(Ee=="number"||Ee=="boolean")ct=""+Ye;else if(Ye===null)ct="";else return bt.errors=[{instancePath:e+"/requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ct!==void 0&&(Ye=ct,t!==void 0&&(t.requestIdLogLabel=ct))}var a=Xt===o;if(a){let Ee=t.http2SessionTimeout,ct=o;if(!(typeof Ee=="number"&&!(Ee%1)&&!isNaN(Ee)&&isFinite(Ee))){let lt=typeof Ee,De;if(De===void 0)if(lt==="boolean"||Ee===null||lt==="string"&&Ee&&Ee==+Ee&&!(Ee%1))De=+Ee;else return bt.errors=[{instancePath:e+"/http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;De!==void 0&&(Ee=De,t!==void 0&&(t.http2SessionTimeout=De))}var a=ct===o;if(a){let lt=t.exposeHeadRoutes,De=o;if(typeof lt!="boolean"){let Xe;if(Xe===void 0)if(lt==="false"||lt===0||lt===null)Xe=!1;else if(lt==="true"||lt===1)Xe=!0;else return bt.errors=[{instancePath:e+"/exposeHeadRoutes",schemaPath:"#/properties/exposeHeadRoutes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Xe!==void 0&&(lt=Xe,t!==void 0&&(t.exposeHeadRoutes=Xe))}var a=De===o;if(a){let Xe=t.useSemicolonDelimiter,fr=o;if(typeof Xe!="boolean"){let Oe;if(Oe===void 0)if(Xe==="false"||Xe===0||Xe===null)Oe=!1;else if(Xe==="true"||Xe===1)Oe=!0;else return bt.errors=[{instancePath:e+"/useSemicolonDelimiter",schemaPath:"#/properties/useSemicolonDelimiter/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Oe!==void 0&&(Xe=Oe,t!==void 0&&(t.useSemicolonDelimiter=Oe))}var a=fr===o;if(a){if(t.versioning!==void 0){let Oe=t.versioning,jt=o;if(o===jt)if(Oe&&typeof Oe=="object"&&!Array.isArray(Oe)){let St;if(Oe.storage===void 0&&(St="storage")||Oe.deriveVersion===void 0&&(St="deriveVersion"))return bt.errors=[{instancePath:e+"/versioning",schemaPath:"#/properties/versioning/required",keyword:"required",params:{missingProperty:St},message:"must have required property '"+St+"'"}],!1}else return bt.errors=[{instancePath:e+"/versioning",schemaPath:"#/properties/versioning/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=jt===o}else var a=!0;if(a)if(t.constraints!==void 0){let Oe=t.constraints,jt=o;if(o===jt)if(Oe&&typeof Oe=="object"&&!Array.isArray(Oe))for(let St in Oe){let nt=Oe[St],wc=o;if(o===wc)if(nt&&typeof nt=="object"&&!Array.isArray(nt)){let $t;if(nt.name===void 0&&($t="name")||nt.storage===void 0&&($t="storage")||nt.validate===void 0&&($t="validate")||nt.deriveConstraint===void 0&&($t="deriveConstraint"))return bt.errors=[{instancePath:e+"/constraints/"+St.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/required",keyword:"required",params:{missingProperty:$t},message:"must have required property '"+$t+"'"}],!1;if(nt.name!==void 0){let It=nt.name;if(typeof It!="string"){let xc=typeof It,Ct;if(Ct===void 0)if(xc=="number"||xc=="boolean")Ct=""+It;else if(It===null)Ct="";else return bt.errors=[{instancePath:e+"/constraints/"+St.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct!==void 0&&(It=Ct,nt!==void 0&&(nt.name=Ct))}}}else return bt.errors=[{instancePath:e+"/constraints/"+St.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=wc===o;if(!d)break}else return bt.errors=[{instancePath:e+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=jt===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}else return bt.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return bt.errors=s,o===0}Kb.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:72e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,allowUnsafeRegex:!1,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:72e3,exposeHeadRoutes:!0,useSemicolonDelimiter:!0}});var xK=w((Cat,Yb)=>{"use strict";var Jb=wK(),$2e=Hy()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:P2e}=fi();function O2e(t){let e=$2e(t);if(!Jb(e)){let r=new P2e(JSON.stringify(Jb.errors.map(i=>i.message)));throw r.errors=Jb.errors,r}return $A(e)}function $A(t){let e=Object.getOwnPropertyNames(t);for(let r of e){let i=t[r];ArrayBuffer.isView(i)&&!(i instanceof DataView)||(t[r]=i&&typeof i=="object"?$A(i):i)}return Object.freeze(t)}Yb.exports=O2e;Yb.exports.defaultInitOptions=Jb.defaultInitOptions;Yb.exports.utils={deepFreezeObject:$A}});var AK=w((Nat,kK)=>{"use strict";var{kAvvioBoot:k2e,kChildren:SK,kRoutePrefix:EK,kLogLevel:RK,kLogSerializers:PA,kHooks:OA,kSchemaController:Of,kContentTypeParser:TK,kReply:$K,kRequest:PK,kFourOhFour:A2e,kPluginNameChain:OK}=Dr(),C2e=Qy(),N2e=hv(),I2e=Xk(),j2e=BR(),{buildHooks:q2e}=ya(),cm=iA();kK.exports=function(e,r,i){let n=cm.registerPlugin.call(e,r),s=cm.getPluginName(r)||cm.getFuncPreview(r);if(n)return e[OK].push(s),e;let o=Object.create(e);e[SK].push(o),o.ready=e[k2e].bind(o),o[SK]=[],o[$K]=C2e.buildReply(o[$K]),o[PK]=N2e.buildRequest(o[PK]),o[TK]=j2e.helpers.buildContentTypeParser(o[TK]),o[OA]=q2e(o[OA]),o[EK]=M2e(o[EK],i.prefix),o[RK]=i.logLevel||o[RK],o[Of]=I2e.buildSchemaController(e[Of]),o.getSchema=o[Of].getSchema.bind(o[Of]),o.getSchemas=o[Of].getSchemas.bind(o[Of]),o[cm.kRegisteredPlugins]=Object.create(o[cm.kRegisteredPlugins]),o[OK]=[s],(o[PA]||i.logSerializers)&&(o[PA]=Object.assign(Object.create(o[PA]),i.logSerializers)),i.prefix&&o[A2e].arrange404(o);for(let a of o[OA].onRegister)a.call(this,o,i);return o};function M2e(t,e){return e?(t.endsWith("/")&&e[0]==="/"?e=e.slice(1):e[0]!=="/"&&(e="/"+e),t+e):t}});var NK=w((Iat,CK)=>{"use strict";CK.exports=function(){return{[Symbol.iterator]:function*(){},add(){},delete(){},has(){return!0}}}});var IK=w(kA=>{"use strict";kA.parse=L2e;kA.serialize=F2e;var D2e=Object.prototype.toString,Xb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function L2e(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},i=e||{},n=i.decode||z2e,s=0;s<t.length;){var o=t.indexOf("=",s);if(o===-1)break;var a=t.indexOf(";",s);if(a===-1)a=t.length;else if(a<o){s=t.lastIndexOf(";",o-1)+1;continue}var c=t.slice(s,o).trim();if(r[c]===void 0){var l=t.slice(o+1,a).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1)),r[c]=B2e(l,n)}s=a+1}return r}function F2e(t,e,r){var i=r||{},n=i.encode||U2e;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!Xb.test(t))throw new TypeError("argument name is invalid");var s=n(e);if(s&&!Xb.test(s))throw new TypeError("argument val is invalid");var o=t+"="+s;if(i.maxAge!=null){var a=i.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(i.domain){if(!Xb.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain="+i.domain}if(i.path){if(!Xb.test(i.path))throw new TypeError("option path is invalid");o+="; Path="+i.path}if(i.expires){var c=i.expires;if(!H2e(c)||isNaN(c.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+c.toUTCString()}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.partitioned&&(o+="; Partitioned"),i.priority){var l=typeof i.priority=="string"?i.priority.toLowerCase():i.priority;switch(l){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){var u=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function z2e(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function U2e(t){return encodeURIComponent(t)}function H2e(t){return D2e.call(t)==="[object Date]"||t instanceof Date}function B2e(t,e){try{return e(t)}catch{return t}}});var MK=w((qat,qK)=>{"use strict";var{URL:jK}=require("node:url"),AA="http://localhost";qK.exports=function(e,r){(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]")&&e.startsWith("//")&&(e=AA+e);let i=typeof e=="object"?Object.assign(new jK(AA),e):new jK(e,AA);if(typeof r=="string"){r=new URLSearchParams(r);for(let n of r.keys()){i.searchParams.delete(n);for(let s of r.getAll(n))i.searchParams.append(n,s)}}else{let n=Object.assign({},e.query,r);for(let s in n){let o=n[s];if(Array.isArray(o)){i.searchParams.delete(s);for(let a of o)i.searchParams.append(s,a)}else i.searchParams.set(s,o)}}return i}});var DK=w((Mat,CA)=>{"use strict";var{randomUUID:V2e}=require("node:crypto"),{Readable:W2e}=require("node:stream"),kf;function G2e(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}function K2e(t){kf=kf??new TextEncoder;let e=`----formdata-${V2e()}`,r=`--${e}\r
Content-Disposition: form-data`;let i=c=>c.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),n=c=>c.replace(/\r?\n|\r/g,`\r
`),s=new Uint8Array([13,10]);async function*o(){for(let[c,l]of t)if(typeof l=="string")yield kf.encode(`${r}; name="${i(n(c))}"\r
\r
`),yield kf.encode(`${n(l)}\r
`);else{let u=`${r}; name="${i(n(c))}"`;l.name&&(u+=`; filename="${i(l.name)}"`),u+=`\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,yield kf.encode(u),l.stream?yield*l.stream():yield l,yield s}yield kf.encode(`--${e}--`)}return{stream:W2e.from(o()),contentType:`multipart/form-data; boundary=${e}`}}CA.exports.isFormDataLike=G2e;CA.exports.formDataToStream=K2e});var zK=w((Dat,Zb)=>{"use strict";var{Readable:LK,addAbortSignal:J2e}=require("node:stream"),IA=require("node:util"),Y2e=IK(),X2e=require("node:assert"),{createDeprecation:Z2e}=LS(),Q2e=MK(),{isFormDataLike:eFe,formDataToStream:tFe}=DK(),{EventEmitter:rFe}=require("node:events"),iFe=Z2e({name:"FastifyDeprecationLightMyRequest",code:"FST_LIGHTMYREQUEST_DEP01",message:'You are accessing "request.connection", use "request.socket" instead.'});function nFe(t){return t.port?t.host:t.hostname+(t.protocol==="https:"?":443":":80")}var NA=class extends rFe{constructor(e){super(),this.remoteAddress=e}};function FK(t){return new e(this);function e(r){Js.call(r,{...t,Request:void 0}),Object.assign(this,r);for(let i of Object.keys(Js.prototype))this.constructor.prototype[i]=Js.prototype[i];return IA.inherits(this.constructor,t.Request),this}}function Js(t){LK.call(this,{autoDestroy:!1});let e=Q2e(t.url||t.path,t.query);this.url=e.pathname+e.search,this.aborted=!1,this.httpVersionMajor=1,this.httpVersionMinor=1,this.httpVersion="1.1",this.method=t.method?t.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let r=t.headers||{};for(let o in r){let a=o.toLowerCase();if((a==="user-agent"||a==="content-type")&&r[o]===void 0){this.headers[a]=void 0;continue}let c=r[o];X2e(c!==void 0,'invalid value "undefined" for header '+o),this.headers[a]=""+c}if("user-agent"in this.headers||(this.headers["user-agent"]="lightMyRequest"),this.headers.host=this.headers.host||t.authority||nFe(e),t.cookies){let{cookies:o}=t,a=Object.keys(o).map(c=>Y2e.serialize(c,o[c]));this.headers.cookie&&a.unshift(this.headers.cookie),this.headers.cookie=a.join("; ")}this.socket=new NA(t.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return iFe(),this.socket},configurable:!0});let i=t.payload||t.body||null,n=i&&typeof i.resume=="function";if(eFe(i)){let o=tFe(i);i=o.stream,n=!0,this.headers["content-type"]=o.contentType}i&&typeof i!="string"&&!n&&!Buffer.isBuffer(i)&&(i=JSON.stringify(i),"content-type"in this.headers||(this.headers["content-type"]="application/json")),i&&!n&&!Object.prototype.hasOwnProperty.call(this.headers,"content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(i)?i.length:Buffer.byteLength(i)).toString());for(let o of Object.keys(this.headers))this.rawHeaders.push(o,this.headers[o]);this._lightMyRequest={payload:i,isDone:!1,simulate:t.simulate||{}};let s=t.signal;return s&&J2e(s,this),this}IA.inherits(Js,LK);IA.inherits(FK,Js);Js.prototype.prepare=function(t){let e=this._lightMyRequest.payload;if(!e||typeof e.resume!="function")return t();let r=[];e.on("data",i=>r.push(Buffer.from(i))),e.on("end",()=>{let i=Buffer.concat(r);return this.headers["content-length"]=this.headers["content-length"]||""+i.length,this._lightMyRequest.payload=i,t()}),e.resume()};Js.prototype._read=function(t){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};Js.prototype.destroy=function(t){this.destroyed||this._lightMyRequest.isDone||(this.destroyed=!0,t&&(this._error=!0,process.nextTick(()=>this.emit("error",t))),process.nextTick(()=>this.emit("close")))};Zb.exports=Js;Zb.exports.Request=Js;Zb.exports.CustomRequest=FK});var HK=w((Lat,lm)=>{"use strict";var Af={decodeValues:!0,map:!1,silent:!1};function jA(t){return typeof t=="string"&&!!t.trim()}function qA(t,e){var r=t.split(";").filter(jA),i=r.shift(),n=sFe(i),s=n.name,o=n.value;e=e?Object.assign({},Af,e):Af;try{o=e.decodeValues?decodeURIComponent(o):o}catch(c){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+o+"'. Set options.decodeValues to false to disable this feature.",c)}var a={name:s,value:o};return r.forEach(function(c){var l=c.split("="),u=l.shift().trimLeft().toLowerCase(),f=l.join("=");u==="expires"?a.expires=new Date(f):u==="max-age"?a.maxAge=parseInt(f,10):u==="secure"?a.secure=!0:u==="httponly"?a.httpOnly=!0:u==="samesite"?a.sameSite=f:a[u]=f}),a}function sFe(t){var e="",r="",i=t.split("=");return i.length>1?(e=i.shift(),r=i.join("=")):r=t,{name:e,value:r}}function UK(t,e){if(e=e?Object.assign({},Af,e):Af,!t)return e.map?{}:[];if(t.headers)if(typeof t.headers.getSetCookie=="function")t=t.headers.getSetCookie();else if(t.headers["set-cookie"])t=t.headers["set-cookie"];else{var r=t.headers[Object.keys(t.headers).find(function(n){return n.toLowerCase()==="set-cookie"})];!r&&t.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),t=r}if(Array.isArray(t)||(t=[t]),e=e?Object.assign({},Af,e):Af,e.map){var i={};return t.filter(jA).reduce(function(n,s){var o=qA(s,e);return n[o.name]=o,n},i)}else return t.filter(jA).map(function(n){return qA(n,e)})}function oFe(t){if(Array.isArray(t))return t;if(typeof t!="string")return[];var e=[],r=0,i,n,s,o,a;function c(){for(;r<t.length&&/\s/.test(t.charAt(r));)r+=1;return r<t.length}function l(){return n=t.charAt(r),n!=="="&&n!==";"&&n!==","}for(;r<t.length;){for(i=r,a=!1;c();)if(n=t.charAt(r),n===","){for(s=r,r+=1,c(),o=r;r<t.length&&l();)r+=1;r<t.length&&t.charAt(r)==="="?(a=!0,r=o,e.push(t.substring(i,s)),i=r):r=s+1}else r+=1;(!a||r>=t.length)&&e.push(t.substring(i,t.length))}return e}lm.exports=UK;lm.exports.parse=UK;lm.exports.parseString=qA;lm.exports.splitCookiesString=oFe});var WK=w((Fat,VK)=>{"use strict";var um=require("node:http"),{Writable:aFe,Readable:cFe}=require("node:stream"),lFe=require("node:util"),uFe=HK();function Qa(t,e,r){um.ServerResponse.call(this,t),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(dFe()),this._promiseCallback=typeof r=="function";let i=!1,n=o=>{if(i=!0,this._promiseCallback)return process.nextTick(()=>e(o));process.nextTick(()=>e(null,o))},s=o=>{if(!i){if(i=!0,this._promiseCallback)return process.nextTick(()=>r(o));process.nextTick(()=>e(o,null))}};this.once("finish",()=>{let o=fFe(this);o.raw.req=t,n(o)}),this.connection.once("error",s),this.once("error",s),this.once("close",s)}lFe.inherits(Qa,um.ServerResponse);Qa.prototype.setTimeout=function(t,e){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},t),this.on("timeout",e),this};Qa.prototype.writeHead=function(){let t=um.ServerResponse.prototype.writeHead.apply(this,arguments);return BK(this),t};Qa.prototype.write=function(t,e,r){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),um.ServerResponse.prototype.write.call(this,t,e,r),this._lightMyRequest.payloadChunks.push(Buffer.from(t,e)),!0};Qa.prototype.end=function(t,e,r){t&&this.write(t,e),um.ServerResponse.prototype.end.call(this,r),this.emit("finish"),this.destroy()};Qa.prototype.destroy=function(t){this.destroyed||(this.destroyed=!0,t&&process.nextTick(()=>this.emit("error",t)),process.nextTick(()=>this.emit("close")))};Qa.prototype.addTrailers=function(t){for(let e in t)this._lightMyRequest.trailers[e.toLowerCase().trim()]=t[e].toString().trim()};function fFe(t){t._lightMyRequest.headers===null&&BK(t),pFe(t);let e={raw:{res:t},headers:t._lightMyRequest.headers,statusCode:t.statusCode,statusMessage:t.statusMessage,trailers:{},get cookies(){return uFe.parse(this)}},r=Buffer.concat(t._lightMyRequest.payloadChunks);return e.rawPayload=r,e.payload=r.toString(),e.body=e.payload,e.trailers=t._lightMyRequest.trailers,e.json=function(){return JSON.parse(e.payload)},e.stream=function(){return cFe.from(t._lightMyRequest.payloadChunks)},e}function dFe(){return new aFe({write(t,e,r){setImmediate(r)}})}function pFe(t){let e=t._lightMyRequest.headers;for(let r of Object.keys(e)){let i=e[r];Array.isArray(i)?e[r]=i.map(n=>""+n):e[r]=""+i}}function BK(t){t._lightMyRequest.headers=Object.assign({},t.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(e=>{let r=new RegExp("\\r\\n"+e+": ([^\\r]*)\\r\\n"),i=t._header.match(r);i&&(t._lightMyRequest.headers[e.toLowerCase()]=i[1])})}VK.exports=Qa});var GK=w((zat,MA)=>{"use strict";MA.exports=Ar;MA.exports.default=Ar;var hFe={type:"object",properties:{url:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},path:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{anyOf:[{type:"object",additionalProperties:!0},{type:"string"}]},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE","acl","bind","checkout","connect","copy","delete","get","head","link","lock","m-search","merge","mkactivity","mkcalendar","mkcol","move","notify","options","patch","post","propfind","proppatch","purge","put","rebind","report","search","source","subscribe","trace","unbind","unlink","unlock","unsubscribe"]},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]};function Ar(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0,a=o,c=!1,l=null,u=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.url===void 0&&(b="url")){let $={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};s===null?s=[$]:s.push($),o++}}var p=u===o;p&&(c=!0,l=0);let f=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.path===void 0&&(b="path")){let $={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};s===null?s=[$]:s.push($),o++}}var p=f===o;if(p&&c?(c=!1,l=[l,1]):p&&(c=!0,l=1),c)o=a,s!==null&&(a?s.length=a:s=null);else{let b={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};return s===null?s=[b]:s.push(b),o++,Ar.errors=s,!1}if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.url!==void 0){let b=t.url,$=o,k=o,O=!1,N=null,L=o;if(typeof b!="string"){let g=typeof b,x;if(x===void 0)if(g=="number"||g=="boolean")x=""+b;else if(b===null)x="";else{let R={instancePath:e+"/url",schemaPath:"#/properties/url/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[R]:s.push(R),o++}x!==void 0&&(b=x,t!==void 0&&(t.url=x))}var h=L===o;h&&(O=!0,N=0);let T=o;if(o===T)if(b&&typeof b=="object"&&!Array.isArray(b)){let g;if(b.pathname===void 0&&(g="pathname")){let x={instancePath:e+"/url",schemaPath:"#/properties/url/oneOf/1/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};s===null?s=[x]:s.push(x),o++}else{if(b.protocol!==void 0){let x=b.protocol,R=o;if(typeof x!="string"){let P=typeof x,C;if(C===void 0)if(P=="number"||P=="boolean")C=""+x;else if(x===null)C="";else{let j={instancePath:e+"/url/protocol",schemaPath:"#/properties/url/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[j]:s.push(j),o++}C!==void 0&&(x=C,b!==void 0&&(b.protocol=C))}var d=R===o}else var d=!0;if(d){if(b.hostname!==void 0){let x=b.hostname,R=o;if(typeof x!="string"){let C=typeof x,j;if(j===void 0)if(C=="number"||C=="boolean")j=""+x;else if(x===null)j="";else{let M={instancePath:e+"/url/hostname",schemaPath:"#/properties/url/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[M]:s.push(M),o++}j!==void 0&&(x=j,b!==void 0&&(b.hostname=j))}var d=R===o}else var d=!0;if(d)if(b.pathname!==void 0){let x=b.pathname,R=o;if(typeof x!="string"){let C=typeof x,j;if(j===void 0)if(C=="number"||C=="boolean")j=""+x;else if(x===null)j="";else{let M={instancePath:e+"/url/pathname",schemaPath:"#/properties/url/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[M]:s.push(M),o++}j!==void 0&&(x=j,b!==void 0&&(b.pathname=j))}var d=R===o}else var d=!0}}}else{let g={instancePath:e+"/url",schemaPath:"#/properties/url/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[g]:s.push(g),o++}var h=T===o;if(h&&O?(O=!1,N=[N,1]):h&&(O=!0,N=1),O)o=k,s!==null&&(k?s.length=k:s=null);else{let g={instancePath:e+"/url",schemaPath:"#/properties/url/oneOf",keyword:"oneOf",params:{passingSchemas:N},message:"must match exactly one schema in oneOf"};return s===null?s=[g]:s.push(g),o++,Ar.errors=s,!1}var m=$===o}else var m=!0;if(m){if(t.path!==void 0){let b=t.path,$=o,k=o,O=!1,N=null,L=o;if(typeof b!="string"){let x=typeof b,R;if(R===void 0)if(x=="number"||x=="boolean")R=""+b;else if(b===null)R="";else{let P={instancePath:e+"/path",schemaPath:"#/properties/path/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}R!==void 0&&(b=R,t!==void 0&&(t.path=R))}var y=L===o;y&&(O=!0,N=0);let T=o;if(o===T)if(b&&typeof b=="object"&&!Array.isArray(b)){let x;if(b.pathname===void 0&&(x="pathname")){let R={instancePath:e+"/path",schemaPath:"#/properties/path/oneOf/1/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"};s===null?s=[R]:s.push(R),o++}else{if(b.protocol!==void 0){let R=b.protocol,P=o;if(typeof R!="string"){let C=typeof R,j;if(j===void 0)if(C=="number"||C=="boolean")j=""+R;else if(R===null)j="";else{let M={instancePath:e+"/path/protocol",schemaPath:"#/properties/path/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[M]:s.push(M),o++}j!==void 0&&(R=j,b!==void 0&&(b.protocol=j))}var v=P===o}else var v=!0;if(v){if(b.hostname!==void 0){let R=b.hostname,P=o;if(typeof R!="string"){let j=typeof R,M;if(M===void 0)if(j=="number"||j=="boolean")M=""+R;else if(R===null)M="";else{let A={instancePath:e+"/path/hostname",schemaPath:"#/properties/path/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[A]:s.push(A),o++}M!==void 0&&(R=M,b!==void 0&&(b.hostname=M))}var v=P===o}else var v=!0;if(v)if(b.pathname!==void 0){let R=b.pathname,P=o;if(typeof R!="string"){let j=typeof R,M;if(M===void 0)if(j=="number"||j=="boolean")M=""+R;else if(R===null)M="";else{let A={instancePath:e+"/path/pathname",schemaPath:"#/properties/path/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[A]:s.push(A),o++}M!==void 0&&(R=M,b!==void 0&&(b.pathname=M))}var v=P===o}else var v=!0}}}else{let x={instancePath:e+"/path",schemaPath:"#/properties/path/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[x]:s.push(x),o++}var y=T===o;if(y&&O?(O=!1,N=[N,1]):y&&(O=!0,N=1),O)o=k,s!==null&&(k?s.length=k:s=null);else{let x={instancePath:e+"/path",schemaPath:"#/properties/path/oneOf",keyword:"oneOf",params:{passingSchemas:N},message:"must match exactly one schema in oneOf"};return s===null?s=[x]:s.push(x),o++,Ar.errors=s,!1}var m=$===o}else var m=!0;if(m){if(t.cookies!==void 0){let b=t.cookies,$=o;if(o===$&&!(b&&typeof b=="object"&&!Array.isArray(b)))return Ar.errors=[{instancePath:e+"/cookies",schemaPath:"#/properties/cookies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=$===o}else var m=!0;if(m){if(t.headers!==void 0){let b=t.headers,$=o;if(o===$&&!(b&&typeof b=="object"&&!Array.isArray(b)))return Ar.errors=[{instancePath:e+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=$===o}else var m=!0;if(m){if(t.query!==void 0){let b=t.query,$=o,k=o,O=!1,N=o;if(o===N&&!(b&&typeof b=="object"&&!Array.isArray(b))){let T={instancePath:e+"/query",schemaPath:"#/properties/query/anyOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[T]:s.push(T),o++}var E=N===o;if(O=O||E,!O){let T=o;if(typeof b!="string"){let x=typeof b,R;if(R===void 0)if(x=="number"||x=="boolean")R=""+b;else if(b===null)R="";else{let P={instancePath:e+"/query",schemaPath:"#/properties/query/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}R!==void 0&&(b=R,t!==void 0&&(t.query=R))}var E=T===o;O=O||E}if(O)o=k,s!==null&&(k?s.length=k:s=null);else{let T={instancePath:e+"/query",schemaPath:"#/properties/query/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[T]:s.push(T),o++,Ar.errors=s,!1}var m=$===o}else var m=!0;if(m){if(t.simulate!==void 0){let b=t.simulate,$=o;if(o===$)if(b&&typeof b=="object"&&!Array.isArray(b)){if(b.end!==void 0){let O=b.end,N=o;if(typeof O!="boolean"){let L;if(L===void 0)if(O==="false"||O===0||O===null)L=!1;else if(O==="true"||O===1)L=!0;else return Ar.errors=[{instancePath:e+"/simulate/end",schemaPath:"#/properties/simulate/properties/end/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;L!==void 0&&(O=L,b!==void 0&&(b.end=L))}var _=N===o}else var _=!0;if(_){if(b.split!==void 0){let O=b.split,N=o;if(typeof O!="boolean"){let T;if(T===void 0)if(O==="false"||O===0||O===null)T=!1;else if(O==="true"||O===1)T=!0;else return Ar.errors=[{instancePath:e+"/simulate/split",schemaPath:"#/properties/simulate/properties/split/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;T!==void 0&&(O=T,b!==void 0&&(b.split=T))}var _=N===o}else var _=!0;if(_){if(b.error!==void 0){let O=b.error,N=o;if(typeof O!="boolean"){let T;if(T===void 0)if(O==="false"||O===0||O===null)T=!1;else if(O==="true"||O===1)T=!0;else return Ar.errors=[{instancePath:e+"/simulate/error",schemaPath:"#/properties/simulate/properties/error/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;T!==void 0&&(O=T,b!==void 0&&(b.error=T))}var _=N===o}else var _=!0;if(_)if(b.close!==void 0){let O=b.close,N=o;if(typeof O!="boolean"){let T;if(T===void 0)if(O==="false"||O===0||O===null)T=!1;else if(O==="true"||O===1)T=!0;else return Ar.errors=[{instancePath:e+"/simulate/close",schemaPath:"#/properties/simulate/properties/close/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;T!==void 0&&(O=T,b!==void 0&&(b.close=T))}var _=N===o}else var _=!0}}}else return Ar.errors=[{instancePath:e+"/simulate",schemaPath:"#/properties/simulate/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=$===o}else var m=!0;if(m){if(t.authority!==void 0){let b=t.authority,$=o;if(typeof b!="string"){let O=typeof b,N;if(N===void 0)if(O=="number"||O=="boolean")N=""+b;else if(b===null)N="";else return Ar.errors=[{instancePath:e+"/authority",schemaPath:"#/properties/authority/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N!==void 0&&(b=N,t!==void 0&&(t.authority=N))}var m=$===o}else var m=!0;if(m){if(t.remoteAddress!==void 0){let b=t.remoteAddress,$=o;if(typeof b!="string"){let O=typeof b,N;if(N===void 0)if(O=="number"||O=="boolean")N=""+b;else if(b===null)N="";else return Ar.errors=[{instancePath:e+"/remoteAddress",schemaPath:"#/properties/remoteAddress/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N!==void 0&&(b=N,t!==void 0&&(t.remoteAddress=N))}var m=$===o}else var m=!0;if(m){if(t.method!==void 0){let b=t.method,$=o;if(typeof b!="string"){let O=typeof b,N;if(N===void 0)if(O=="number"||O=="boolean")N=""+b;else if(b===null)N="";else return Ar.errors=[{instancePath:e+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N!==void 0&&(b=N,t!==void 0&&(t.method=N))}if(!(b==="ACL"||b==="BIND"||b==="CHECKOUT"||b==="CONNECT"||b==="COPY"||b==="DELETE"||b==="GET"||b==="HEAD"||b==="LINK"||b==="LOCK"||b==="M-SEARCH"||b==="MERGE"||b==="MKACTIVITY"||b==="MKCALENDAR"||b==="MKCOL"||b==="MOVE"||b==="NOTIFY"||b==="OPTIONS"||b==="PATCH"||b==="POST"||b==="PROPFIND"||b==="PROPPATCH"||b==="PURGE"||b==="PUT"||b==="REBIND"||b==="REPORT"||b==="SEARCH"||b==="SOURCE"||b==="SUBSCRIBE"||b==="TRACE"||b==="UNBIND"||b==="UNLINK"||b==="UNLOCK"||b==="UNSUBSCRIBE"||b==="acl"||b==="bind"||b==="checkout"||b==="connect"||b==="copy"||b==="delete"||b==="get"||b==="head"||b==="link"||b==="lock"||b==="m-search"||b==="merge"||b==="mkactivity"||b==="mkcalendar"||b==="mkcol"||b==="move"||b==="notify"||b==="options"||b==="patch"||b==="post"||b==="propfind"||b==="proppatch"||b==="purge"||b==="put"||b==="rebind"||b==="report"||b==="search"||b==="source"||b==="subscribe"||b==="trace"||b==="unbind"||b==="unlink"||b==="unlock"||b==="unsubscribe"))return Ar.errors=[{instancePath:e+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:hFe.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=$===o}else var m=!0;if(m)if(t.validate!==void 0){let b=t.validate,$=o;if(typeof b!="boolean"){let O;if(O===void 0)if(b==="false"||b===0||b===null)O=!1;else if(b==="true"||b===1)O=!0;else return Ar.errors=[{instancePath:e+"/validate",schemaPath:"#/properties/validate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;O!==void 0&&(b=O,t!==void 0&&(t.validate=O))}var m=$===o}else var m=!0}}}}}}}}}else return Ar.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ar.errors=s,o===0}});var YK=w((Uat,dm)=>{"use strict";var mFe=require("node:assert"),DA=zK(),Qb=WK(),t_="The dispatch function has already been invoked",KK=GK();function LA(t,e,r){return r===void 0?new fm(t,e):e_(t,e,r)}function JK(t,e,r,i){return r.once("error",function(n){this.destroyed&&i.destroy(n)}),r.once("close",function(){this.destroyed&&!this._error&&i.destroy()}),r.prepare(()=>t.call(e,r,i))}function e_(t,e,r){if(e=typeof e=="string"?{url:e}:e,e.validate!==!1&&(mFe(typeof t=="function","dispatchFunc should be a function"),!KK(e)))throw new Error(KK.errors.map(o=>o.message));let i=e.server||{},n=e.Request?DA.CustomRequest:DA;if(t.request&&t.request.app===t&&(Object.setPrototypeOf(Object.getPrototypeOf(t.request),n.prototype),Object.setPrototypeOf(Object.getPrototypeOf(t.response),Qb.prototype)),typeof r=="function"){let s=new n(e),o=new Qb(s,r);return JK(t,i,s,o)}else return new Promise((s,o)=>{let a=new n(e),c=new Qb(a,s,o);JK(t,i,a,c)})}function fm(t,e){typeof e=="string"?this.option={url:e}:this.option=Object.assign({},e),this.dispatch=t,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var gFe=["delete","get","head","options","patch","post","put","trace"];gFe.forEach(t=>{fm.prototype[t]=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(t_);return this.option.url=e,this.option.method=t.toUpperCase(),this}});var yFe=["body","cookies","headers","payload","query"];yFe.forEach(t=>{fm.prototype[t]=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(t_);return this.option[t]=e,this}});fm.prototype.end=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(t_);if(this._hasInvoked=!0,typeof t=="function")e_(this.dispatch,this.option,t);else return this._promise=e_(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(t=>{t!=="constructor"&&(fm.prototype[t]=function(...e){if(!this._promise){if(this._hasInvoked===!0)throw new Error(t_);this._hasInvoked=!0,this._promise=e_(this.dispatch,this.option)}return this._promise[t](...e)})});function vFe(t){return t instanceof DA||t instanceof Qb||t&&t.constructor&&t.constructor.name==="_CustomLMRRequest"}dm.exports=LA;dm.exports.default=LA;dm.exports.inject=LA;dm.exports.isInjection=vFe});var f7=w((Hat,ym)=>{"use strict";var bFe="4.28.1",_Fe=fD(),FA=require("node:http"),pm,{kAvvioBoot:hm,kChildren:zA,kServerBindings:XK,kBodyLimit:wFe,kRoutePrefix:ZK,kLogLevel:xFe,kLogSerializers:SFe,kHooks:UA,kSchemaController:ec,kRequestAcceptVersion:EFe,kReplySerializerDefault:QK,kContentTypeParser:RFe,kReply:TFe,kRequest:$Fe,kFourOhFour:PFe,kState:Or,kOptions:HA,kPluginNameChain:mm,kSchemaErrorFormatter:BA,kErrorHandler:r_,kKeepAliveConnections:VA,kChildLoggerFactory:WA,kGenReqId:GA}=Dr(),{createServer:OFe,compileValidateHTTPVersion:kFe}=ID(),gm=Qy(),i_=hv(),AFe=mv(),{supportedMethods:CFe}=PR(),Cf=NR(),ml=BR(),e7=Xk(),{Hooks:NFe,hookRunnerApplication:t7,supportedHooks:KA}=ya(),{createLogger:IFe,createChildLogger:r7,defaultChildLoggerFactory:jFe}=Zd(),i7=iA(),{getGenReqId:n7,reqIdGenFactory:s7}=Ob(),{buildRouting:qFe,validateBodyLimitOption:MFe}=dK(),DFe=bK(),u7=xK(),LFe=AK(),{FSTDEP009:FFe}=_o(),zFe=NK(),{appendStackTrace:UFe,AVVIO_ERRORS_MAP:o7,...gl}=fi(),{defaultInitOptions:an}=u7,{FST_ERR_ASYNC_CONSTRAINT:HFe,FST_ERR_BAD_URL:BFe,FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:VFe,FST_ERR_OPTIONS_NOT_OBJ:WFe,FST_ERR_QSP_NOT_FN:GFe,FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:KFe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:JFe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:YFe,FST_ERR_VERSION_CONSTRAINT_NOT_STR:XFe,FST_ERR_INSTANCE_ALREADY_LISTENING:ZFe,FST_ERR_REOPENED_CLOSE_SERVER:QFe,FST_ERR_ROUTE_REWRITE_NOT_STR:eze,FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:a7,FST_ERR_ERROR_HANDLER_NOT_FN:tze}=gl,{buildErrorHandler:c7}=ep();function rze(t){let e={};return["errorHandler","logLevel","logSerializers"].concat(KA).forEach(i=>{e[i]=t.store[i]}),Object.assign({},e)}function JA(t){if(t=t||{},typeof t!="object")throw new WFe;if(t.querystringParser&&typeof t.querystringParser!="function")throw new GFe(typeof t.querystringParser);if(t.schemaController&&t.schemaController.bucket&&typeof t.schemaController.bucket!="function")throw new KFe(typeof t.schemaController.bucket);MFe(t.bodyLimit);let e=t.requestIdHeader===!1?!1:(t.requestIdHeader||an.requestIdHeader).toLowerCase(),r=s7(e,t.genReqId),i=t.requestIdLogLabel||"reqId",n=t.bodyLimit||an.bodyLimit,s=t.disableRequestLogging||!1,o=Object.assign({customOptions:{},plugins:[]},t.ajv),a=t.frameworkErrors;if(!o.customOptions||Object.prototype.toString.call(o.customOptions)!=="[object Object]")throw new JFe(typeof o.customOptions);if(!o.plugins||!Array.isArray(o.plugins))throw new YFe(typeof o.plugins);let{logger:c,hasLogger:l}=IFe(t);t.connectionTimeout=t.connectionTimeout||an.connectionTimeout,t.keepAliveTimeout=t.keepAliveTimeout||an.keepAliveTimeout,t.maxRequestsPerSocket=t.maxRequestsPerSocket||an.maxRequestsPerSocket,t.requestTimeout=t.requestTimeout||an.requestTimeout,t.logger=c,t.requestIdHeader=e,t.requestIdLogLabel=i,t.disableRequestLogging=s,t.ajv=o,t.clientErrorHandler=t.clientErrorHandler||M;let u=u7(t);t.exposeHeadRoutes=u.exposeHeadRoutes;let f=t.constraints;t.versioning&&(FFe(),f={...f,version:{name:"version",mustMatchWhenDerived:!0,storage:t.versioning.storage,deriveConstraint:t.versioning.deriveVersion,validate(z){if(typeof z!="string")throw new XFe}}});let p=qFe({config:{defaultRoute:A,onBadUrl:S,constraints:f,ignoreTrailingSlash:t.ignoreTrailingSlash||an.ignoreTrailingSlash,ignoreDuplicateSlashes:t.ignoreDuplicateSlashes||an.ignoreDuplicateSlashes,maxParamLength:t.maxParamLength||an.maxParamLength,caseSensitive:t.caseSensitive,allowUnsafeRegex:t.allowUnsafeRegex||an.allowUnsafeRegex,buildPrettyMeta:rze,querystringParser:t.querystringParser,useSemicolonDelimiter:t.useSemicolonDelimiter??an.useSemicolonDelimiter}}),d=DFe(t),h=it(p,t);t.http2SessionTimeout=u.http2SessionTimeout;let{server:m,listen:v}=OFe(t,h),y=typeof m.closeAllConnections=="function",E=typeof m.closeIdleConnections=="function",_=t.forceCloseConnections;if(_==="idle"&&!E)throw new VFe;typeof _!="boolean"&&(_=E?"idle":!1);let b=!y&&_===!0?new Set:zFe(),$=gm.setupResponseListeners,k=e7.buildSchemaController(null,t.schemaController),O={[Or]:{listening:!1,closing:!1,started:!1,ready:!1,booting:!1,readyPromise:null},[VA]:b,[HA]:t,[zA]:[],[XK]:[],[wFe]:n,[ZK]:"",[xFe]:"",[SFe]:null,[UA]:new NFe,[ec]:k,[BA]:null,[r_]:c7(),[WA]:jFe,[QK]:null,[RFe]:new ml(n,t.onProtoPoisoning||an.onProtoPoisoning,t.onConstructorPoisoning||an.onConstructorPoisoning),[TFe]:gm.buildReply(gm),[$Fe]:i_.buildRequest(i_,t.trustProxy),[PFe]:d,[i7.kRegisteredPlugins]:[],[mm]:["fastify"],[hm]:null,[GA]:r,routing:h,getDefaultRoute:p.getDefaultRoute.bind(p),setDefaultRoute:p.setDefaultRoute.bind(p),delete:function(K,J,B){return p.prepareRoute.call(this,{method:"DELETE",url:K,options:J,handler:B})},get:function(K,J,B){return p.prepareRoute.call(this,{method:"GET",url:K,options:J,handler:B})},head:function(K,J,B){return p.prepareRoute.call(this,{method:"HEAD",url:K,options:J,handler:B})},patch:function(K,J,B){return p.prepareRoute.call(this,{method:"PATCH",url:K,options:J,handler:B})},post:function(K,J,B){return p.prepareRoute.call(this,{method:"POST",url:K,options:J,handler:B})},put:function(K,J,B){return p.prepareRoute.call(this,{method:"PUT",url:K,options:J,handler:B})},options:function(K,J,B){return p.prepareRoute.call(this,{method:"OPTIONS",url:K,options:J,handler:B})},all:function(K,J,B){return p.prepareRoute.call(this,{method:CFe,url:K,options:J,handler:B})},route:function(K){return p.route.call(this,{options:K})},hasRoute:function(K){return p.hasRoute.call(this,{options:K})},findRoute:function(K){return p.findRoute(K)},log:c,withTypeProvider:P,addHook:C,addSchema:j,getSchema:k.getSchema.bind(k),getSchemas:k.getSchemas.bind(k),setValidatorCompiler:Y,setSerializerCompiler:Q,setSchemaController:Z,setReplySerializer:se,setSchemaErrorFormatter:V,setGenReqId:he,addContentTypeParser:ml.helpers.addContentTypeParser,hasContentTypeParser:ml.helpers.hasContentTypeParser,getDefaultJsonParser:ml.defaultParsers.getDefaultJsonParser,defaultTextParser:ml.defaultParsers.defaultTextParser,removeContentTypeParser:ml.helpers.removeContentTypeParser,removeAllContentTypeParsers:ml.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,hasPlugin:function(z){return this[i7.kRegisteredPlugins].includes(z)||this[mm].includes(z)},listen:v,server:m,addresses:function(){let z=this[XK].map(K=>K.address());return z.push(this.server.address()),z.filter(K=>K)},decorate:Cf.add,hasDecorator:Cf.exist,decorateReply:Cf.decorateReply,decorateRequest:Cf.decorateRequest,hasRequestDecorator:Cf.existRequest,hasReplyDecorator:Cf.existReply,inject:x,printRoutes:Se,setNotFoundHandler:ee,setErrorHandler:ve,setChildLoggerFactory:ue,initialConfig:u,addConstraintStrategy:p.addConstraintStrategy.bind(p),hasConstraintStrategy:p.hasConstraintStrategy.bind(p)};Object.defineProperties(O,{listeningOrigin:{get(){let z=this.addresses().slice(-1).pop();if(typeof z=="string")return z;let K=z.family==="IPv6"?`[${z.address}]`:z.address;return`${this[HA].https?"https":"http"}://${K}:${z.port}`}},pluginName:{configurable:!0,get(){return this[mm].length>1?this[mm].join(" -> "):this[mm][0]}},prefix:{configurable:!0,get(){return this[ZK]}},validatorCompiler:{configurable:!0,get(){return this[ec].getValidatorCompiler()}},serializerCompiler:{configurable:!0,get(){return this[ec].getSerializerCompiler()}},childLoggerFactory:{configurable:!0,get(){return this[WA]}},version:{configurable:!0,get(){return bFe}},errorHandler:{configurable:!0,get(){return this[r_].func}},genReqId:{configurable:!0,get(){return this[GA]}}}),t.schemaErrorFormatter&&(l7(t.schemaErrorFormatter),O[BA]=t.schemaErrorFormatter.bind(O));let N=Number(t.pluginTimeout),L=_Fe(O,{autostart:!1,timeout:isNaN(N)===!1?N:an.pluginTimeout,expose:{use:"register"}});L.override=LFe,L.on("start",()=>O[Or].started=!0),O[hm]=O.ready,O.ready=R,O.printPlugins=L.prettyPrint.bind(L),L.once("preReady",()=>{O.onClose((z,K)=>{O[Or].closing=!0,p.closeRoutes(),t7("preClose",O[hm],O,function(){if(O[Or].listening){if(_==="idle")z.server.closeIdleConnections();else if(y&&_)z.server.closeAllConnections();else if(_===!0)for(let J of O[VA])J.destroy(),O[VA].delete(J)}!t.serverFactory||O[Or].listening?z.server.close(function(J){J&&J.code!=="ERR_SERVER_NOT_RUNNING"?K(null):K()}):process.nextTick(K,null)})})});let T=new AFe({server:O,config:{}});O.setNotFoundHandler(),d.arrange404(O),p.setup(t,{avvio:L,fourOhFour:d,logger:c,hasLogger:l,setupResponseListeners:$,throwIfAlreadyStarted:g,validateHTTPVersion:kFe(t),keepAliveConnections:b}),m.on("clientError",t.clientErrorHandler.bind(O));try{let K=require("node:diagnostics_channel").channel("fastify.initialization");K.hasSubscribers&&K.publish({fastify:O})}catch{}return"asyncDispose"in Symbol&&(O[Symbol.asyncDispose]=function(){return O.close()}),O;function g(z){if(O[Or].started)throw new ZFe(z)}function x(z,K){if(pm===void 0&&(pm=YK()),O[Or].started){if(O[Or].closing){let J=new QFe;if(K){K(J);return}else return Promise.reject(J)}return pm(h,z,K)}if(K)this.ready(J=>{J?K(J,null):pm(h,z,K)});else return pm((J,B)=>{this.ready(function(X){if(X){B.emit("error",X);return}h(J,B)})},z)}function R(z){if(this[Or].readyPromise!==null){if(z!=null){this[Or].readyPromise.then(()=>z(null,O),z);return}return this[Or].readyPromise}let K,J;if(process.nextTick(B),this[Or].readyPromise=new Promise(function(G,re){K=G,J=re}),z)this[Or].readyPromise.then(()=>z(null,O),z);else return this[Or].readyPromise;function B(){O[hm]((G,re)=>{G||O[Or].started||O[Or].ready||O[Or].booting?X(G):(O[Or].booting=!0,t7("onReady",O[hm],O,X)),re()})}function X(G){if(G=G!=null&&o7[G.code]!=null?UFe(G,new o7[G.code](G.message)):G,G)return J(G);K(O),O[Or].booting=!1,O[Or].ready=!0,O[Or].promise=null}}function P(){return this}function C(z,K){if(g('Cannot call "addHook"!'),K==null)throw new gl.FST_ERR_HOOK_INVALID_HANDLER(z,K);if(z==="onSend"||z==="preSerialization"||z==="onError"||z==="preParsing"){if(K.constructor.name==="AsyncFunction"&&K.length===4)throw new gl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(z==="onReady"||z==="onListen"){if(K.constructor.name==="AsyncFunction"&&K.length!==0)throw new gl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(z==="onRequestAbort"){if(K.constructor.name==="AsyncFunction"&&K.length!==1)throw new gl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(K.constructor.name==="AsyncFunction"&&K.length===3)throw new gl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER;return z==="onClose"?this.onClose(K):z==="onReady"||z==="onListen"||z==="onRoute"?this[UA].add(z,K):this.after((B,X)=>{J.call(this,z,K),X(B)}),this;function J(B,X){this[UA].add(B,X),this[zA].forEach(G=>J.call(G,B,X))}}function j(z){return g('Cannot call "addSchema"!'),this[ec].add(z),this[zA].forEach(K=>K.addSchema(z)),this}function M(z,K){if(z.code==="ECONNRESET"||K.destroyed)return;let J,B,X,G;z.code==="ERR_HTTP_REQUEST_TIMEOUT"?(B="408",X=FA.STATUS_CODES[B],J=`{"error":"${X}","message":"Client Timeout","statusCode":408}`,G="timeout"):z.code==="HPE_HEADER_OVERFLOW"?(B="431",X=FA.STATUS_CODES[B],J=`{"error":"${X}","message":"Exceeded maximum allowed HTTP header size","statusCode":431}`,G="header_overflow"):(B="400",X=FA.STATUS_CODES[B],J=`{"error":"${X}","message":"Client Error","statusCode":400}`,G="error"),this.log.trace({err:z},`client ${G}`),K.writable&&K.write(`HTTP/1.1 ${B} ${X}\r
Content-Length: ${J.length}\r
Content-Type: application/json\r
\r
${J}`),K.destroy(z)}function A(z,K){z.headers["accept-version"]!==void 0&&(z.headers[EFe]=z.headers["accept-version"],z.headers["accept-version"]=void 0),d.router.lookup(z,K)}function S(z,K,J){if(a){let X=n7(T.server,K),G=r7(T,c,K,X),re=new i_(X,null,K,null,G,T),wt=new gm(J,re,G);return s===!1&&G.info({req:re},"incoming request"),a(new BFe(z),re,wt)}let B=`{"error":"Bad Request","code":"FST_ERR_BAD_URL","message":"'${z}' is not a valid url component","statusCode":400}`;J.writeHead(400,{"Content-Type":"application/json","Content-Length":B.length}),J.end(B)}function I(z,K,J){if(z!==!1)return function(X){if(X){if(a){let re=n7(T.server,K),wt=r7(T,c,K,re),ne=new i_(re,null,K,null,wt,T),ae=new gm(J,ne,wt);return s===!1&&wt.info({req:ne},"incoming request"),a(new HFe,ne,ae)}let G='{"error":"Internal Server Error","message":"Unexpected error from async constraint","statusCode":500}';J.writeHead(500,{"Content-Type":"application/json","Content-Length":G.length}),J.end(G)}}}function ee(z,K){return g('Cannot call "setNotFoundHandler"!'),d.setNotFoundHandler.call(this,z,K,L,p.routeHandler),this}function Y(z){return g('Cannot call "setValidatorCompiler"!'),this[ec].setValidatorCompiler(z),this}function V(z){return g('Cannot call "setSchemaErrorFormatter"!'),l7(z),this[BA]=z.bind(this),this}function Q(z){return g('Cannot call "setSerializerCompiler"!'),this[ec].setSerializerCompiler(z),this}function Z(z){g('Cannot call "setSchemaController"!');let K=this[ec],J=e7.buildSchemaController(K,Object.assign({},K.opts,z));return this[ec]=J,this.getSchema=J.getSchema.bind(J),this.getSchemas=J.getSchemas.bind(J),this}function se(z){return g('Cannot call "setReplySerializer"!'),this[QK]=z,this}function ve(z){if(g('Cannot call "setErrorHandler"!'),typeof z!="function")throw new tze;return this[r_]=c7(this[r_],z.bind(this)),this}function ue(z){return g('Cannot call "setChildLoggerFactory"!'),this[WA]=z,this}function Se(z={}){return z.includeMeta=z.includeHooks?z.includeMeta?KA.concat(z.includeMeta):KA:z.includeMeta,p.printRoutes(z)}function it(z,{rewriteUrl:K,logger:J}){let B;return function(G,re){if(B===void 0&&(B=z.isAsyncConstraint()),K){G.originalUrl=G.url;let wt=K.call(O,G);if(typeof wt=="string")G.url=wt;else{let ne=new eze(G.url,typeof wt);G.destroy(ne)}}z.routing(G,re,I(B,G,re))}}function he(z){return g('Cannot call "setGenReqId"!'),this[GA]=s7(this[HA].requestIdHeader,z),this}}function l7(t){if(typeof t!="function")throw new a7(typeof t);if(t.constructor.name==="AsyncFunction")throw new a7("AsyncFunction")}ym.exports=JA;ym.exports.errorCodes=gl;ym.exports.fastify=JA;ym.exports.default=JA});var d7=w((Bat,ize)=>{ize.exports={name:"dotenv",version:"16.4.5",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var g7=w((Vat,Wo)=>{var YA=require("fs"),XA=require("path"),nze=require("os"),sze=require("crypto"),oze=d7(),ZA=oze.version,aze=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function cze(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let i;for(;(i=aze.exec(r))!=null;){let n=i[1],s=i[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),e[n]=s}return e}function lze(t){let e=m7(t),r=jr.configDotenv({path:e});if(!r.parsed){let o=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw o.code="MISSING_DATA",o}let i=h7(t).split(","),n=i.length,s;for(let o=0;o<n;o++)try{let a=i[o].trim(),c=dze(r,a);s=jr.decrypt(c.ciphertext,c.key);break}catch(a){if(o+1>=n)throw a}return jr.parse(s)}function uze(t){console.log(`[dotenv@${ZA}][INFO] ${t}`)}function fze(t){console.log(`[dotenv@${ZA}][WARN] ${t}`)}function n_(t){console.log(`[dotenv@${ZA}][DEBUG] ${t}`)}function h7(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function dze(t,e){let r;try{r=new URL(e)}catch(a){if(a.code==="ERR_INVALID_URL"){let c=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw c.code="INVALID_DOTENV_KEY",c}throw a}let i=r.password;if(!i){let a=new Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let n=r.searchParams.get("environment");if(!n){let a=new Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let s=`DOTENV_VAULT_${n.toUpperCase()}`,o=t.parsed[s];if(!o){let a=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${s} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:o,key:i}}function m7(t){let e=null;if(t&&t.path&&t.path.length>0)if(Array.isArray(t.path))for(let r of t.path)YA.existsSync(r)&&(e=r.endsWith(".vault")?r:`${r}.vault`);else e=t.path.endsWith(".vault")?t.path:`${t.path}.vault`;else e=XA.resolve(process.cwd(),".env.vault");return YA.existsSync(e)?e:null}function p7(t){return t[0]==="~"?XA.join(nze.homedir(),t.slice(1)):t}function pze(t){uze("Loading env from encrypted .env.vault");let e=jr._parseVault(t),r=process.env;return t&&t.processEnv!=null&&(r=t.processEnv),jr.populate(r,e,t),{parsed:e}}function hze(t){let e=XA.resolve(process.cwd(),".env"),r="utf8",i=!!(t&&t.debug);t&&t.encoding?r=t.encoding:i&&n_("No encoding is specified. UTF-8 is used by default");let n=[e];if(t&&t.path)if(!Array.isArray(t.path))n=[p7(t.path)];else{n=[];for(let c of t.path)n.push(p7(c))}let s,o={};for(let c of n)try{let l=jr.parse(YA.readFileSync(c,{encoding:r}));jr.populate(o,l,t)}catch(l){i&&n_(`Failed to load ${c} ${l.message}`),s=l}let a=process.env;return t&&t.processEnv!=null&&(a=t.processEnv),jr.populate(a,o,t),s?{parsed:o,error:s}:{parsed:o}}function mze(t){if(h7(t).length===0)return jr.configDotenv(t);let e=m7(t);return e?jr._configVault(t):(fze(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),jr.configDotenv(t))}function gze(t,e){let r=Buffer.from(e.slice(-64),"hex"),i=Buffer.from(t,"base64"),n=i.subarray(0,12),s=i.subarray(-16);i=i.subarray(12,-16);try{let o=sze.createDecipheriv("aes-256-gcm",r,n);return o.setAuthTag(s),`${o.update(i)}${o.final()}`}catch(o){let a=o instanceof RangeError,c=o.message==="Invalid key length",l=o.message==="Unsupported state or unable to authenticate data";if(a||c){let u=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw u.code="INVALID_DOTENV_KEY",u}else if(l){let u=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw u.code="DECRYPTION_FAILED",u}else throw o}}function yze(t,e,r={}){let i=!!(r&&r.debug),n=!!(r&&r.override);if(typeof e!="object"){let s=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw s.code="OBJECT_REQUIRED",s}for(let s of Object.keys(e))Object.prototype.hasOwnProperty.call(t,s)?(n===!0&&(t[s]=e[s]),i&&n_(n===!0?`"${s}" is already defined and WAS overwritten`:`"${s}" is already defined and was NOT overwritten`)):t[s]=e[s]}var jr={configDotenv:hze,_configVault:pze,_parseVault:lze,config:mze,decrypt:gze,parse:cze,populate:yze};Wo.exports.configDotenv=jr.configDotenv;Wo.exports._configVault=jr._configVault;Wo.exports._parseVault=jr._parseVault;Wo.exports.config=jr.config;Wo.exports.decrypt=jr.decrypt;Wo.exports.parse=jr.parse;Wo.exports.populate=jr.populate;Wo.exports=jr});var v7=w((Wat,y7)=>{var Nf={};process.env.DOTENV_CONFIG_ENCODING!=null&&(Nf.encoding=process.env.DOTENV_CONFIG_ENCODING);process.env.DOTENV_CONFIG_PATH!=null&&(Nf.path=process.env.DOTENV_CONFIG_PATH);process.env.DOTENV_CONFIG_DEBUG!=null&&(Nf.debug=process.env.DOTENV_CONFIG_DEBUG);process.env.DOTENV_CONFIG_OVERRIDE!=null&&(Nf.override=process.env.DOTENV_CONFIG_OVERRIDE);process.env.DOTENV_CONFIG_DOTENV_KEY!=null&&(Nf.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY);y7.exports=Nf});var _7=w((Gat,b7)=>{var vze=/^dotenv_config_(encoding|path|debug|override|DOTENV_KEY)=(.+)$/;b7.exports=function(e){return e.reduce(function(r,i){let n=i.match(vze);return n&&(r[n[1]]=n[2]),r},{})}});var eC=w((nct,Y7)=>{"use strict";var wze=require("node:events").EventEmitter,xze=require("node:util").inherits;function yl(t){if(typeof t=="string"&&(t=Buffer.from(t)),!Buffer.isBuffer(t))throw new TypeError("The needle has to be a String or a Buffer.");let e=t.length;if(e===0)throw new Error("The needle cannot be an empty String/Buffer.");if(e>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Array(256).fill(e),this._lookbehind_size=0,this._needle=t,this._bufpos=0,this._lookbehind=Buffer.alloc(e);for(var r=0;r<e-1;++r)this._occ[t[r]]=e-1-r}xze(yl,wze);yl.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};yl.prototype.push=function(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t,"binary"));let r=t.length;this._bufpos=e||0;let i;for(;i!==r&&this.matches<this.maxMatches;)i=this._sbmh_feed(t);return i};yl.prototype._sbmh_feed=function(t){let e=t.length,r=this._needle,i=r.length,n=r[i-1],s=-this._lookbehind_size,o;if(s<0){for(;s<0&&s<=e-i;){if(o=this._sbmh_lookup_char(t,s+i-1),o===n&&this._sbmh_memcmp(t,s,i-1))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=s+i;s+=this._occ[o]}if(s<0)for(;s<0&&!this._sbmh_memcmp(t,s,e-s);)++s;if(s>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let a=this._lookbehind_size+s;return a>0&&this.emit("info",!1,this._lookbehind,0,a),this._lookbehind.copy(this._lookbehind,0,a,this._lookbehind_size-a),this._lookbehind_size-=a,t.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=e,this._bufpos=e,e}}if(s+=(s>=0)*this._bufpos,t.indexOf(r,s)!==-1)return s=t.indexOf(r,s),++this.matches,s>0?this.emit("info",!0,t,this._bufpos,s):this.emit("info",!0),this._bufpos=s+i;for(s=e-i;s<e&&(t[s]!==r[0]||Buffer.compare(t.subarray(s,s+e-s),r.subarray(0,e-s))!==0);)++s;return s<e&&(t.copy(this._lookbehind,0,s,s+(e-s)),this._lookbehind_size=e-s),s>0&&this.emit("info",!1,t,this._bufpos,s<e?s:e),this._bufpos=e,e};yl.prototype._sbmh_lookup_char=function(t,e){return e<0?this._lookbehind[this._lookbehind_size+e]:t[e]};yl.prototype._sbmh_memcmp=function(t,e,r){for(var i=0;i<r;++i)if(this._sbmh_lookup_char(t,e+i)!==this._needle[i])return!1;return!0};Y7.exports=yl});var Q7=w((sct,Z7)=>{"use strict";var Sze=require("node:util").inherits,X7=require("node:stream").Readable;function tC(t){X7.call(this,t)}Sze(tC,X7);tC.prototype._read=function(t){};Z7.exports=tC});var o_=w((oct,eJ)=>{"use strict";eJ.exports=function(e,r,i){if(!e||e[r]===void 0||e[r]===null)return i;if(typeof e[r]!="number"||isNaN(e[r]))throw new TypeError("Limit "+r+" is not a valid number");return e[r]}});var nJ=w((act,iJ)=>{"use strict";var rJ=require("node:events").EventEmitter,Eze=require("node:util").inherits,tJ=o_(),Rze=eC(),Tze=Buffer.from(`\r
\r
`),$ze=/\r\n/g,Pze=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function jf(t){rJ.call(this),t=t||{};let e=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=tJ(t,"maxHeaderPairs",2e3),this.maxHeaderSize=tJ(t,"maxHeaderSize",80*1024),this.buffer="",this.header={},this.finished=!1,this.ss=new Rze(Tze),this.ss.on("info",function(r,i,n,s){i&&!e.maxed&&(e.nread+s-n>=e.maxHeaderSize?(s=e.maxHeaderSize-e.nread+n,e.nread=e.maxHeaderSize,e.maxed=!0):e.nread+=s-n,e.buffer+=i.toString("binary",n,s)),r&&e._finish()})}Eze(jf,rJ);jf.prototype.push=function(t){let e=this.ss.push(t);if(this.finished)return e};jf.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};jf.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let t=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",t)};jf.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let t=this.buffer.split($ze),e=t.length,r,i;for(var n=0;n<e;++n){if(t[n].length===0)continue;if((t[n][0]==="	"||t[n][0]===" ")&&i){this.header[i][this.header[i].length-1]+=t[n];continue}let s=t[n].indexOf(":");if(s===-1||s===0)return;if(r=Pze.exec(t[n]),i=r[1].toLowerCase(),this.header[i]=this.header[i]||[],this.header[i].push(r[2]||""),++this.npairs===this.maxHeaderPairs)break}};iJ.exports=jf});var iC=w((cct,oJ)=>{"use strict";var rC=require("node:stream").Writable,Oze=require("node:util").inherits,kze=eC(),sJ=Q7(),Aze=nJ(),Cze=45,Nze=Buffer.from("-"),Ize=Buffer.from(`\r
`),jze=function(){};function ys(t){if(!(this instanceof ys))return new ys(t);if(rC.call(this,t),!t||!t.headerFirst&&typeof t.boundary!="string")throw new TypeError("Boundary required");typeof t.boundary=="string"?this.setBoundary(t.boundary):this._bparser=void 0,this._headerFirst=t.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:t.partHwm},this._pause=!1;let e=this;this._hparser=new Aze(t),this._hparser.on("header",function(r){e._inHeader=!1,e._part.emit("header",r)})}Oze(ys,rC);ys.prototype.emit=function(t){if(t==="finish"&&!this._realFinish){if(!this._finished){let e=this;process.nextTick(function(){if(e.emit("error",new Error("Unexpected end of multipart data")),e._part&&!e._ignoreData){let r=e._isPreamble?"Preamble":"Part";e._part.emit("error",new Error(r+" terminated early due to unexpected end of multipart data")),e._part.push(null),process.nextTick(function(){e._realFinish=!0,e.emit("finish"),e._realFinish=!1});return}e._realFinish=!0,e.emit("finish"),e._realFinish=!1})}}else rC.prototype.emit.apply(this,arguments)};ys.prototype._write=function(t,e,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new sJ(this._partOpts),this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._ignore());let i=this._hparser.push(t);if(!this._inHeader&&i!==void 0&&i<t.length)t=t.slice(i);else return r()}this._firstWrite&&(this._bparser.push(Ize),this._firstWrite=!1),this._bparser.push(t),this._pause?this._cb=r:r()};ys.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};ys.prototype.setBoundary=function(t){let e=this;this._bparser=new kze(`\r
--`+t),this._bparser.on("info",function(r,i,n,s){e._oninfo(r,i,n,s)})};ys.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",jze),this._part.resume())};ys.prototype._oninfo=function(t,e,r,i){let n,s=this,o=0,a,c=!0;if(!this._part&&this._justMatched&&e){for(;this._dashes<2&&r+o<i;)if(e[r+o]===Cze)++o,++this._dashes;else{this._dashes&&(n=Nze),this._dashes=0;break}if(this._dashes===2&&(r+o<i&&this.listenerCount("trailer")!==0&&this.emit("trailer",e.slice(r+o,i)),this.reset(),this._finished=!0,s._parts===0&&(s._realFinish=!0,s.emit("finish"),s._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new sJ(this._partOpts),this._part._read=function(l){s._unpause()},this._isPreamble&&this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._isPreamble!==!0&&this.listenerCount("part")!==0?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),e&&r<i&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(n&&(c=this._part.push(n)),c=this._part.push(e.slice(r,i)),c||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(n&&this._hparser.push(n),a=this._hparser.push(e.slice(r,i)),!this._inHeader&&a!==void 0&&a<i&&this._oninfo(!1,e,r+a,i))),t&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:r!==i&&(++this._parts,this._part.on("end",function(){--s._parts===0&&(s._finished?(s._realFinish=!0,s.emit("finish"),s._realFinish=!1):s._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)};ys.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let t=this._cb;this._cb=void 0,t()}};oJ.exports=ys});var a_=w((nC,lJ)=>{"use strict";var aJ=new TextDecoder("utf-8"),cJ=new Map([["utf-8",aJ],["utf8",aJ]]);function qze(t){let e;for(;;)switch(t){case"utf-8":case"utf8":return vm.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return vm.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return vm.utf16le;case"base64":return vm.base64;default:if(e===void 0){e=!0,t=t.toLowerCase();continue}return vm.other.bind(t)}}var vm={utf8:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.utf8Slice(0,t.length)),latin1:(t,e)=>t.length===0?"":typeof t=="string"?t:t.latin1Slice(0,t.length),utf16le:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.ucs2Slice(0,t.length)),base64:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.base64Slice(0,t.length)),other:(t,e)=>{if(t.length===0)return"";if(typeof t=="string"&&(t=Buffer.from(t,e)),cJ.has(nC.toString()))try{return cJ.get(nC).decode(t)}catch{}return typeof t=="string"?t:t.toString()}};function Mze(t,e,r){return t&&qze(r)(t,e)}lJ.exports=Mze});var oC=w((lct,hJ)=>{"use strict";var c_=a_(),uJ=/%[a-fA-F0-9][a-fA-F0-9]/g,Dze={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"\x07","%08":"\b","%09":"	","%0a":`
`,"%0A":`
`,"%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"\x1B","%1B":"\x1B","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7F","%7F":"\x7F","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8A","%8A":"\x8A","%8b":"\x8B","%8B":"\x8B","%8c":"\x8C","%8C":"\x8C","%8d":"\x8D","%8D":"\x8D","%8e":"\x8E","%8E":"\x8E","%8f":"\x8F","%8F":"\x8F","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9A","%9A":"\x9A","%9b":"\x9B","%9B":"\x9B","%9c":"\x9C","%9C":"\x9C","%9d":"\x9D","%9D":"\x9D","%9e":"\x9E","%9E":"\x9E","%9f":"\x9F","%9F":"\x9F","%a0":"\xA0","%A0":"\xA0","%a1":"\xA1","%A1":"\xA1","%a2":"\xA2","%A2":"\xA2","%a3":"\xA3","%A3":"\xA3","%a4":"\xA4","%A4":"\xA4","%a5":"\xA5","%A5":"\xA5","%a6":"\xA6","%A6":"\xA6","%a7":"\xA7","%A7":"\xA7","%a8":"\xA8","%A8":"\xA8","%a9":"\xA9","%A9":"\xA9","%aa":"\xAA","%Aa":"\xAA","%aA":"\xAA","%AA":"\xAA","%ab":"\xAB","%Ab":"\xAB","%aB":"\xAB","%AB":"\xAB","%ac":"\xAC","%Ac":"\xAC","%aC":"\xAC","%AC":"\xAC","%ad":"\xAD","%Ad":"\xAD","%aD":"\xAD","%AD":"\xAD","%ae":"\xAE","%Ae":"\xAE","%aE":"\xAE","%AE":"\xAE","%af":"\xAF","%Af":"\xAF","%aF":"\xAF","%AF":"\xAF","%b0":"\xB0","%B0":"\xB0","%b1":"\xB1","%B1":"\xB1","%b2":"\xB2","%B2":"\xB2","%b3":"\xB3","%B3":"\xB3","%b4":"\xB4","%B4":"\xB4","%b5":"\xB5","%B5":"\xB5","%b6":"\xB6","%B6":"\xB6","%b7":"\xB7","%B7":"\xB7","%b8":"\xB8","%B8":"\xB8","%b9":"\xB9","%B9":"\xB9","%ba":"\xBA","%Ba":"\xBA","%bA":"\xBA","%BA":"\xBA","%bb":"\xBB","%Bb":"\xBB","%bB":"\xBB","%BB":"\xBB","%bc":"\xBC","%Bc":"\xBC","%bC":"\xBC","%BC":"\xBC","%bd":"\xBD","%Bd":"\xBD","%bD":"\xBD","%BD":"\xBD","%be":"\xBE","%Be":"\xBE","%bE":"\xBE","%BE":"\xBE","%bf":"\xBF","%Bf":"\xBF","%bF":"\xBF","%BF":"\xBF","%c0":"\xC0","%C0":"\xC0","%c1":"\xC1","%C1":"\xC1","%c2":"\xC2","%C2":"\xC2","%c3":"\xC3","%C3":"\xC3","%c4":"\xC4","%C4":"\xC4","%c5":"\xC5","%C5":"\xC5","%c6":"\xC6","%C6":"\xC6","%c7":"\xC7","%C7":"\xC7","%c8":"\xC8","%C8":"\xC8","%c9":"\xC9","%C9":"\xC9","%ca":"\xCA","%Ca":"\xCA","%cA":"\xCA","%CA":"\xCA","%cb":"\xCB","%Cb":"\xCB","%cB":"\xCB","%CB":"\xCB","%cc":"\xCC","%Cc":"\xCC","%cC":"\xCC","%CC":"\xCC","%cd":"\xCD","%Cd":"\xCD","%cD":"\xCD","%CD":"\xCD","%ce":"\xCE","%Ce":"\xCE","%cE":"\xCE","%CE":"\xCE","%cf":"\xCF","%Cf":"\xCF","%cF":"\xCF","%CF":"\xCF","%d0":"\xD0","%D0":"\xD0","%d1":"\xD1","%D1":"\xD1","%d2":"\xD2","%D2":"\xD2","%d3":"\xD3","%D3":"\xD3","%d4":"\xD4","%D4":"\xD4","%d5":"\xD5","%D5":"\xD5","%d6":"\xD6","%D6":"\xD6","%d7":"\xD7","%D7":"\xD7","%d8":"\xD8","%D8":"\xD8","%d9":"\xD9","%D9":"\xD9","%da":"\xDA","%Da":"\xDA","%dA":"\xDA","%DA":"\xDA","%db":"\xDB","%Db":"\xDB","%dB":"\xDB","%DB":"\xDB","%dc":"\xDC","%Dc":"\xDC","%dC":"\xDC","%DC":"\xDC","%dd":"\xDD","%Dd":"\xDD","%dD":"\xDD","%DD":"\xDD","%de":"\xDE","%De":"\xDE","%dE":"\xDE","%DE":"\xDE","%df":"\xDF","%Df":"\xDF","%dF":"\xDF","%DF":"\xDF","%e0":"\xE0","%E0":"\xE0","%e1":"\xE1","%E1":"\xE1","%e2":"\xE2","%E2":"\xE2","%e3":"\xE3","%E3":"\xE3","%e4":"\xE4","%E4":"\xE4","%e5":"\xE5","%E5":"\xE5","%e6":"\xE6","%E6":"\xE6","%e7":"\xE7","%E7":"\xE7","%e8":"\xE8","%E8":"\xE8","%e9":"\xE9","%E9":"\xE9","%ea":"\xEA","%Ea":"\xEA","%eA":"\xEA","%EA":"\xEA","%eb":"\xEB","%Eb":"\xEB","%eB":"\xEB","%EB":"\xEB","%ec":"\xEC","%Ec":"\xEC","%eC":"\xEC","%EC":"\xEC","%ed":"\xED","%Ed":"\xED","%eD":"\xED","%ED":"\xED","%ee":"\xEE","%Ee":"\xEE","%eE":"\xEE","%EE":"\xEE","%ef":"\xEF","%Ef":"\xEF","%eF":"\xEF","%EF":"\xEF","%f0":"\xF0","%F0":"\xF0","%f1":"\xF1","%F1":"\xF1","%f2":"\xF2","%F2":"\xF2","%f3":"\xF3","%F3":"\xF3","%f4":"\xF4","%F4":"\xF4","%f5":"\xF5","%F5":"\xF5","%f6":"\xF6","%F6":"\xF6","%f7":"\xF7","%F7":"\xF7","%f8":"\xF8","%F8":"\xF8","%f9":"\xF9","%F9":"\xF9","%fa":"\xFA","%Fa":"\xFA","%fA":"\xFA","%FA":"\xFA","%fb":"\xFB","%Fb":"\xFB","%fB":"\xFB","%FB":"\xFB","%fc":"\xFC","%Fc":"\xFC","%fC":"\xFC","%FC":"\xFC","%fd":"\xFD","%Fd":"\xFD","%fD":"\xFD","%FD":"\xFD","%fe":"\xFE","%Fe":"\xFE","%fE":"\xFE","%FE":"\xFE","%ff":"\xFF","%Ff":"\xFF","%fF":"\xFF","%FF":"\xFF"};function fJ(t){return Dze[t]}var l_=0,dJ=1,sC=2,pJ=3;function Lze(t){let e=[],r=l_,i="",n=!1,s=!1,o=0,a="",c=t.length;for(var l=0;l<c;++l){let u=t[l];if(u==="\\"&&n)if(s)s=!1;else{s=!0;continue}else if(u==='"')if(s)s=!1;else{n?(n=!1,r=l_):n=!0;continue}else if(s&&n&&(a+="\\"),s=!1,(r===sC||r===pJ)&&u==="'"){r===sC?(r=pJ,i=a.substring(1)):r=dJ,a="";continue}else if(r===l_&&(u==="*"||u==="=")&&e.length){r=u==="*"?sC:dJ,e[o]=[a,void 0],a="";continue}else if(!n&&u===";"){r=l_,i?(a.length&&(a=c_(a.replace(uJ,fJ),"binary",i)),i=""):a.length&&(a=c_(a,"binary","utf8")),e[o]===void 0?e[o]=a:e[o][1]=a,a="",++o;continue}else if(!n&&(u===" "||u==="	"))continue;a+=u}return i&&a.length?a=c_(a.replace(uJ,fJ),"binary",i):a&&(a=c_(a,"binary","utf8")),e[o]===void 0?a&&(e[o]=a):e[o][1]=a,e}hJ.exports=Lze});var gJ=w((uct,mJ)=>{"use strict";mJ.exports=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;--r)switch(e.charCodeAt(r)){case 47:case 92:return e=e.slice(r+1),e===".."||e==="."?"":e}return e===".."||e==="."?"":e}});var _J=w((fct,bJ)=>{"use strict";var{Readable:vJ}=require("node:stream"),{inherits:Fze}=require("node:util"),zze=iC(),yJ=oC(),Uze=a_(),Hze=gJ(),vl=o_(),Bze=/^boundary$/i,Vze=/^form-data$/i,Wze=/^charset$/i,Gze=/^filename$/i,Kze=/^name$/i;u_.detect=/^multipart\/form-data/i;function u_(t,e){let r,i,n=this,s,o=e.limits,a=e.isPartAFile||((g,x,R)=>x==="application/octet-stream"||R!==void 0),c=e.parsedConType||[],l=e.defCharset||"utf8",u=e.preservePath,f={highWaterMark:e.fileHwm};for(r=0,i=c.length;r<i;++r)if(Array.isArray(c[r])&&Bze.test(c[r][0])){s=c[r][1];break}function p(){k===0&&L&&!t._done&&(L=!1,n.end())}if(typeof s!="string")throw new Error("Multipart: Boundary not found");let d=vl(o,"fieldSize",1*1024*1024),h=vl(o,"fileSize",1/0),m=vl(o,"files",1/0),v=vl(o,"fields",1/0),y=vl(o,"parts",1/0),E=vl(o,"headerPairs",2e3),_=vl(o,"headerSize",80*1024),b=0,$=0,k=0,O,N,L=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=t;let T={boundary:s,maxHeaderPairs:E,maxHeaderSize:_,partHwm:f.highWaterMark,highWaterMark:e.highWaterMark};this.parser=new zze(T),this.parser.on("drain",function(){if(n._needDrain=!1,n._cb&&!n._pause){let g=n._cb;n._cb=void 0,g()}}).on("part",function g(x){if(++n._nparts>y)return n.parser.removeListener("part",g),n.parser.on("part",qf),t.hitPartsLimit=!0,t.emit("partsLimit"),qf(x);if(N){let R=N;R.emit("end"),R.removeAllListeners("end")}x.on("header",function(R){let P,C,j,M,A,S,I=0;if(R["content-type"]&&(j=yJ(R["content-type"][0]),j[0])){for(P=j[0].toLowerCase(),r=0,i=j.length;r<i;++r)if(Wze.test(j[r][0])){M=j[r][1].toLowerCase();break}}if(P===void 0&&(P="text/plain"),M===void 0&&(M=l),R["content-disposition"]){if(j=yJ(R["content-disposition"][0]),!Vze.test(j[0]))return qf(x);for(r=0,i=j.length;r<i;++r)Kze.test(j[r][0])?C=j[r][1]:Gze.test(j[r][0])&&(S=j[r][1],u||(S=Hze(S)))}else return qf(x);R["content-transfer-encoding"]?A=R["content-transfer-encoding"][0].toLowerCase():A="7bit";let ee,Y;if(a(C,P,S)){if(b===m)return t.hitFilesLimit||(t.hitFilesLimit=!0,t.emit("filesLimit")),qf(x);if(++b,t.listenerCount("file")===0){n.parser._ignore();return}++k;let V=new aC(f);O=V,V.on("end",function(){if(--k,n._pause=!1,p(),n._cb&&!n._needDrain){let Q=n._cb;n._cb=void 0,Q()}}),V._read=function(Q){if(n._pause&&(n._pause=!1,n._cb&&!n._needDrain)){let Z=n._cb;n._cb=void 0,Z()}},t.emit("file",C,V,S,A,P),ee=function(Q){if((I+=Q.length)>h){let Z=h-I+Q.length;Z>0&&V.push(Q.slice(0,Z)),V.truncated=!0,V.bytesRead=h,x.removeAllListeners("data"),V.emit("limit");return}else V.push(Q)||(n._pause=!0);V.bytesRead=I},Y=function(){O=void 0,V.push(null)}}else{if($===v)return t.hitFieldsLimit||(t.hitFieldsLimit=!0,t.emit("fieldsLimit")),qf(x);++$,++k;let V="",Q=!1;N=x,ee=function(Z){if((I+=Z.length)>d){let se=d-(I-Z.length);V+=Z.toString("binary",0,se),Q=!0,x.removeAllListeners("data")}else V+=Z.toString("binary")},Y=function(){N=void 0,V.length&&(V=Uze(V,"binary",M)),t.emit("field",C,V,!1,Q,A,P),--k,p()}}x._readableState.sync=!1,x.on("data",ee),x.on("end",Y)}).on("error",function(R){O&&O.emit("error",R)})}).on("error",function(g){t.emit("error",g)}).on("finish",function(){L=!0,p()})}u_.prototype.write=function(t,e){let r=this.parser.write(t);r&&!this._pause?e():(this._needDrain=!r,this._cb=e)};u_.prototype.end=function(){let t=this;t.parser.writable?t.parser.end():t._boy._done||process.nextTick(function(){t._boy._done=!0,t._boy.emit("finish")})};function qf(t){t.resume()}function aC(t){vJ.call(this,t),this.bytesRead=0,this.truncated=!1}Fze(aC,vJ);aC.prototype._read=function(t){};bJ.exports=u_});var xJ=w((dct,wJ)=>{"use strict";var Jze=/\+/g,Yze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function cC(){this.buffer=void 0}cC.prototype.write=function(t){t=t.replace(Jze," ");let e="",r=0,i=0,n=t.length;for(;r<n;++r)this.buffer!==void 0?Yze[t.charCodeAt(r)]?(this.buffer+=t[r],++i,this.buffer.length===2&&(e+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(e+="%"+this.buffer,this.buffer=void 0,--r):t[r]==="%"&&(r>i&&(e+=t.substring(i,r),i=r),this.buffer="",++i);return i<n&&this.buffer===void 0&&(e+=t.substring(i)),e};cC.prototype.reset=function(){this.buffer=void 0};wJ.exports=cC});var EJ=w((pct,SJ)=>{"use strict";var Xze=xJ(),Mf=a_(),lC=o_(),Zze=/^charset$/i;f_.detect=/^application\/x-www-form-urlencoded/i;function f_(t,e){let r=e.limits,i=e.parsedConType;this.boy=t,this.fieldSizeLimit=lC(r,"fieldSize",1*1024*1024),this.fieldNameSizeLimit=lC(r,"fieldNameSize",100),this.fieldsLimit=lC(r,"fields",1/0);let n;for(var s=0,o=i.length;s<o;++s)if(Array.isArray(i[s])&&Zze.test(i[s][0])){n=i[s][1].toLowerCase();break}n===void 0&&(n=e.defCharset||"utf8"),this.decoder=new Xze,this.charset=n,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}f_.prototype.write=function(t,e){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),e();let r,i,n,s=0,o=t.length;for(;s<o;)if(this._state==="key"){for(r=i=void 0,n=s;n<o;++n){if(this._checkingBytes||++s,t[n]===61){r=n;break}else if(t[n]===38){i=n;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesKey}if(r!==void 0)r>s&&(this._key+=this.decoder.write(t.toString("binary",s,r))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),s=r+1;else if(i!==void 0){++this._fields;let a,c=this._keyTrunc;if(i>s?a=this._key+=this.decoder.write(t.toString("binary",s,i)):a=this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),a.length&&this.boy.emit("field",Mf(a,"binary",this.charset),"",c,!1),s=i+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(n>s&&(this._key+=this.decoder.write(t.toString("binary",s,n))),s=n,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(s<o&&(this._key+=this.decoder.write(t.toString("binary",s))),s=o)}else{for(i=void 0,n=s;n<o;++n){if(this._checkingBytes||++s,t[n]===38){i=n;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesVal}if(i!==void 0){if(++this._fields,i>s&&(this._val+=this.decoder.write(t.toString("binary",s,i))),this.boy.emit("field",Mf(this._key,"binary",this.charset),Mf(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),s=i+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(n>s&&(this._val+=this.decoder.write(t.toString("binary",s,n))),s=n,(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(s<o&&(this._val+=this.decoder.write(t.toString("binary",s))),s=o)}e()};f_.prototype.end=function(){this.boy._done||(this._state==="key"&&this._key.length>0?this.boy.emit("field",Mf(this._key,"binary",this.charset),"",this._keyTrunc,!1):this._state==="val"&&this.boy.emit("field",Mf(this._key,"binary",this.charset),Mf(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))};SJ.exports=f_});var $J=w((hct,bm)=>{"use strict";var uC=require("node:stream").Writable,{inherits:Qze}=require("node:util"),eUe=iC(),RJ=_J(),TJ=EJ(),tUe=oC();function Ko(t){if(!(this instanceof Ko))return new Ko(t);if(typeof t!="object")throw new TypeError("Busboy expected an options-Object.");if(typeof t.headers!="object")throw new TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof t.headers["content-type"]!="string")throw new TypeError("Missing Content-Type-header.");let{headers:e,...r}=t;this.opts={autoDestroy:!1,...r},uC.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(e),this._finished=!1}Qze(Ko,uC);Ko.prototype.emit=function(t){if(t==="finish"){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}uC.prototype.emit.apply(this,arguments)};Ko.prototype.getParserByHeaders=function(t){let e=tUe(t["content-type"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:t,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:e,preservePath:this.opts.preservePath};if(RJ.detect.test(e[0]))return new RJ(this,r);if(TJ.detect.test(e[0]))return new TJ(this,r);throw new Error("Unsupported Content-Type.")};Ko.prototype._write=function(t,e,r){this._parser.write(t,r)};bm.exports=Ko;bm.exports.default=Ko;bm.exports.Busboy=Ko;bm.exports.Dicer=eUe});var OJ=w((mct,fC)=>{"use strict";var rUe=/at\s{1}(?:.*\.)?plugin\s{1}.*\n\s*(.*)/,iUe=/(\w*(\.\w*)*)\..*/;fC.exports=function(e){if(e.name.length>0)return e.name;let r=Error.stackTraceLimit;Error.stackTraceLimit=10;try{throw new Error("anonymous function")}catch(i){return Error.stackTraceLimit=r,PJ(i.stack)}};function PJ(t){let e=t.match(rUe);return e?e[1].split(/[/\\]/).slice(-1)[0].match(iUe)[1]:"anonymous"}fC.exports.extractPluginName=PJ});var AJ=w((gct,kJ)=>{"use strict";kJ.exports=function(e){return e[0]==="@"&&(e=e.slice(1).replace("/","-")),e.replace(/-(.)/g,function(i,n){return n.toUpperCase()})}});var Fi=w((yct,d_)=>{"use strict";var nUe=OJ(),sUe=AJ(),oUe=0;function dC(t,e={}){let r=!1;if(typeof t.default<"u"&&(t=t.default),typeof t!="function")throw new TypeError(`fastify-plugin expects a function, instead got a '${typeof t}'`);if(typeof e=="string"&&(e={fastify:e}),typeof e!="object"||Array.isArray(e)||e===null)throw new TypeError("The options object should be an object");if(e.fastify!==void 0&&typeof e.fastify!="string")throw new TypeError(`fastify-plugin expects a version string, instead got '${typeof e.fastify}'`);e.name||(r=!0,e.name=nUe(t)+"-auto-"+oUe++),t[Symbol.for("skip-override")]=e.encapsulate!==!0,t[Symbol.for("fastify.display-name")]=e.name,t[Symbol.for("plugin-meta")]=e,t.default||(t.default=t);let i=sUe(e.name);return!r&&!t[i]&&(t[i]=t),t}d_.exports=dC;d_.exports.default=dC;d_.exports.fastifyPlugin=dC});var IJ=w((vct,NJ)=>{"use strict";var Jo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],bl=Math.random;function CJ(){return Jo[255*bl()|0]+Jo[255*bl()|0]+Jo[255*bl()|0]+Jo[255*bl()|0]+Jo[255*bl()|0]+Jo[255*bl()|0]+Jo[255*bl()|0]}NJ.exports.generateId=function(){let e=0,r=CJ();return function(){return e===255?(r=CJ())+Jo[e=0]:r+Jo[++e]}}()});var qJ=w((bct,jJ)=>{"use strict";jJ.exports=(t,e)=>new Promise((r,i)=>{if(typeof t.resume!="function"||(t.unpipe&&t.unpipe(),t.resume(),t._readableState&&t._readableState.ended)||!t.readable||t.destroyed)return r();function n(){t.removeListener("end",s),t.removeListener("close",s),t.removeListener("error",o)}function s(){n(),r()}function o(a){n(),e?i(a):r()}t.on("end",s),t.on("close",s),t.on("error",o)})});var MJ=w((_ct,p_)=>{"use strict";var aUe=Object.getPrototypeOf({});function pC(t){function e(y){return y!=="constructor"&&y!=="prototype"&&y!=="__proto__"}function r(y){let E=0,_=y.length,b=new Array(_);for(E=0;E<_;++E)b[E]=d(y[E]);return b}function i(y){let E={};if(c&&Object.getPrototypeOf(y)!==aUe)return c(y);let _=a(y),b,$,k;for(b=0,$=_.length;b<$;++b)e(k=_[b])&&(E[k]=d(y[k]));return E}function n(y,E){let _=y.length,b=E.length,$=0,k=new Array(_+b);for($=0;$<_;++$)k[$]=d(y[$]);for($=0;$<b;++$)k[$+_]=d(E[$]);return k}let s=Object.prototype.propertyIsEnumerable;function o(y){let E=Object.keys(y),_=Object.getOwnPropertySymbols(y);for(let b=0,$=_.length;b<$;++b)s.call(y,_[b])&&E.push(_[b]);return E}let a=t&&t.symbols?o:Object.keys,c=typeof t?.cloneProtoObject=="function"?t.cloneProtoObject:void 0;function l(y){return typeof y=="object"&&y!==null&&!(y instanceof RegExp)&&!(y instanceof Date)}function u(y){return typeof y!="object"||y===null}let f=typeof Buffer<"u"?y=>typeof y!="object"||y===null||y instanceof RegExp||y instanceof Date||y instanceof Buffer:y=>typeof y!="object"||y===null||y instanceof RegExp||y instanceof Date,p=t&&typeof t.mergeArray=="function"?t.mergeArray({clone:d,deepmerge:m,getKeys:a,isMergeableObject:l}):n;function d(y){return l(y)?Array.isArray(y)?r(y):i(y):y}function h(y,E){let _={},b=a(y),$=a(E),k,O,N;for(k=0,O=b.length;k<O;++k)e(N=b[k])&&$.indexOf(N)===-1&&(_[N]=d(y[N]));for(k=0,O=$.length;k<O;++k)e(N=$[k])&&(N in y&&(b.indexOf(N)!==-1&&(_[N]=m(y[N],E[N])),!0)||(_[N]=d(E[N])));return _}function m(y,E){let _=Array.isArray(E),b=Array.isArray(y);return u(E)?E:f(y)?d(E):_&&b?p(y,E):_!==b?d(E):h(y,E)}function v(){switch(arguments.length){case 0:return{};case 1:return d(arguments[0]);case 2:return m(arguments[0],arguments[1])}let y;for(let E=0,_=arguments.length;E<_;++E)y=m(y,arguments[E]);return y}return t&&t.all?v:m}p_.exports=pC;p_.exports.default=pC;p_.exports.deepmerge=pC});var VJ=w((wct,_m)=>{"use strict";var cUe=$J(),lUe=require("node:os"),uUe=Fi(),{createWriteStream:fUe}=require("node:fs"),{unlink:dUe}=require("node:fs/promises"),DJ=require("node:path"),{generateId:pUe}=IJ(),hUe=require("node:util"),Yo=ma(),mUe=qJ(),gUe=MJ()({all:!0}),{PassThrough:yUe,pipeline:vUe,Readable:bUe}=require("node:stream"),_Ue=hUe.promisify(vUe),wUe=LR(),gC=Symbol("multipart"),h_=Symbol("multipartHandler"),LJ=Yo("FST_PARTS_LIMIT","reach parts limit",413),FJ=Yo("FST_FILES_LIMIT","reach files limit",413),zJ=Yo("FST_FIELDS_LIMIT","reach fields limit",413),hC=Yo("FST_REQ_FILE_TOO_LARGE","request file too large",413),mC=Yo("FST_PROTO_VIOLATION","prototype property is not allowed as field name",400),UJ=Yo("FST_INVALID_MULTIPART_CONTENT_TYPE","the request is not multipart",406),HJ=Yo("FST_INVALID_JSON_FIELD_ERROR","a request field is not a valid JSON as declared by its Content-Type",406),BJ=Yo("FST_FILE_BUFFER_NOT_FOUND","the file buffer was not found",500),xUe=Yo("FST_NO_FORM_DATA","FormData is not available",500);function SUe(t,e,r){t[gC]=!0,r()}function EUe(t){try{return new cUe(t)}catch(e){let r=new yUe;return process.nextTick(function(){r.emit("error",e)}),r}}function yC(t,e,r){e.limits={...e.limits,parts:e.limits?.parts||1e3,fileSize:e.limits?.fileSize||t.initialConfig.bodyLimit};let i=e.attachFieldsToBody;(i===!0||i==="keyValues")&&(typeof e.sharedSchemaId=="string"&&i===!0&&t.addSchema({$id:e.sharedSchemaId,type:"object",properties:{fieldname:{type:"string"},encoding:{type:"string"},filename:{type:"string"},mimetype:{type:"string"}}}),t.addHook("preValidation",async function(d,h){if(d.isMultipart()){for await(let m of d.parts())d.body=m.fields,m.file&&(e.onFile?await e.onFile.call(d,m):await m.toBuffer());if(i==="keyValues"){let m={};if(d.body){let v=Object.keys(d.body);for(let y=0;y<v.length;++y){let E=v[y],_=d.body[E];if(_.value!==void 0)m[E]=_.value;else if(_._buf)m[E]=_._buf;else if(Array.isArray(_)){let b=[];for(let $=0;$<_.length;++$){let k=_[$];k.value!==void 0?b.push(k.value):k._buf&&b.push(k._buf)}b.length&&(m[E]=b)}}}d.body=m}}}),globalThis.FormData&&!t.hasRequestDecorator("formData")&&t.decorateRequest("formData",async function(){let d=new FormData;for(let m in this.body){let v=this.body[m];if(Array.isArray(v))for(let y of v)await h(m,y);else await h(m,v)}async function h(m,v){v.type==="file"||i==="keyValues"&&Buffer.isBuffer(v)?d.append(m,new Blob([await v.toBuffer()],{type:v.mimetype}),v.filename):d.append(m,v.value)}return d})),t.hasRequestDecorator("formData")||t.decorateRequest("formData",async function(){throw new xUe});let n=typeof e.throwFileSizeLimit=="boolean"?e.throwFileSizeLimit:!0;t.decorate("multipartErrors",{PartsLimitError:LJ,FilesLimitError:FJ,FieldsLimitError:zJ,PrototypeViolationError:mC,InvalidMultipartContentTypeError:UJ,RequestFileTooLargeError:hC,FileBufferNotFoundError:BJ}),t.addContentTypeParser("multipart/form-data",SUe),t.decorateRequest(gC,!1),t.decorateRequest(h_,o),t.decorateRequest("parts",p),t.decorateRequest("isMultipart",s),t.decorateRequest("tmpUploads",null),t.decorateRequest("savedRequestFiles",null),t.decorateRequest("file",u),t.decorateRequest("files",f),t.decorateRequest("saveRequestFiles",a),t.decorateRequest("cleanRequestFiles",l),t.addHook("onResponse",async(d,h)=>{await d.cleanRequestFiles()});function s(){return this[gC]}function o(d={}){if(!this.isMultipart())throw new UJ;this.log.debug("starting multipart parsing");let h=[],m=null,v=R=>{m?(m(R),m=null):h.push(R)},y=R=>{if(h.length>0){let P=h[0];h=h.slice(1),R(P)}else m=R},E=()=>new Promise((R,P)=>{y(C=>{C instanceof Error?C.message==="Unexpected end of multipart data"?R(null):P(C):R(C)})}),_={},b=null,$=null,k=this.raw,O=gUe({headers:k.headers},e,d);this.log.trace({busboyOptions:O},"Providing options to busboy");let N=EUe(O);k.on("close",x),k.on("error",x),N.on("field",L).on("file",T).on("end",x).on("finish",x).on("close",x).on("error",x),N.on("partsLimit",function(){let R=new LJ;g(R),process.nextTick(()=>x(R))}),N.on("filesLimit",function(){let R=new FJ;g(R),process.nextTick(()=>x(R))}),N.on("fieldsLimit",function(){let R=new zJ;g(R),process.nextTick(()=>x(R))}),k.pipe(N);function L(R,P,C,j,M,A){if(R in Object.prototype){g(new mC);return}if(A.startsWith("application/json")){if(j){g(new HJ);return}try{P=wUe.parse(P),A="application/json"}catch{g(new HJ);return}}let S={type:"field",fieldname:R,mimetype:A,encoding:M,value:P,fieldnameTruncated:C,valueTruncated:j,fields:_};_[R]===void 0?_[R]=S:Array.isArray(_[R])?_[R].push(S):_[R]=[_[R],S],v(S)}function T(R,P,C,j,M){if(R in Object.prototype){mUe(P),g(new mC);return}let A=typeof d.throwFileSizeLimit=="boolean"?d.throwFileSizeLimit:n,S={type:"file",fieldname:R,filename:C,encoding:j,mimetype:M,file:P,fields:_,_buf:null,async toBuffer(){if(this._buf)return this._buf;let I=[],ee;for await(let Y of this.file)I.push(Y),A&&this.file.truncated&&(ee=new hC,ee.part=this,g(ee),I.length=0);if(ee)throw ee;return this._buf=Buffer.concat(I),this._buf}};A&&P.on("limit",function(){let I=new hC;I.part=S,g(I)}),_[R]===void 0?_[R]=S:Array.isArray(_[R])?_[R].push(S):_[R]=[_[R],S],$=P,v(S)}function g(R){b=R,$=null}function x(R){k.unpipe(N),(R||k.aborted)&&$&&($.destroy(),$=null),v(R||b||null)}return E}async function a(d){if(this.savedRequestFiles)return this.savedRequestFiles;let h;if(i===!0){if(!this.body)return[];h=c.call(this,this.body)}else h=await this.files(d);this.savedRequestFiles=[];let m=d&&d.tmpdir||lUe.tmpdir();this.tmpUploads=[];for await(let v of h){let y=DJ.join(m,pUe()+DJ.extname(v.filename)),E=fUe(y);try{await _Ue(v.file,E),this.savedRequestFiles.push({...v,filepath:y}),this.tmpUploads.push(y)}catch(_){throw this.log.error({err:_},"save request file"),_}}return this.savedRequestFiles}function*c(d){try{let h=Array.isArray(d)?d:Object.values(d);for(let m=0;m<h.length;++m){let v=h[m];if(Array.isArray(v))for(let y of c.call(this,v))yield y;if(v.file){if(!v._buf)throw new BJ;v.file=bUe.from(v._buf),yield v}}}catch(h){throw this.log.error({err:h},"save request file failed"),h}}async function l(){if(this.tmpUploads)for(let d=0;d<this.tmpUploads.length;++d){let h=this.tmpUploads[d];try{await dUe(h)}catch(m){this.log.error(m,"Could not delete file")}}}async function u(d){let h=this[h_](d),m;for(;(m=await h())!=null;)if(m.file)return m}async function*f(d){let h=this[h_](d),m;for(;(m=await h())!=null;)m.file&&(yield m)}async function*p(d){let h=this[h_](d),m;for(;(m=await h())!=null;)yield m}r()}function RUe(t){return t.addKeyword({keyword:"isFile",compile:(e,r)=>(r.type="string",r.format="binary",delete r.isFile,i=>!!i.file),error:{message:"should be a file"}})}_m.exports=uUe(yC,{fastify:"4.x",name:"@fastify/multipart"});_m.exports.default=yC;_m.exports.fastifyMultipart=yC;_m.exports.ajvFilePlugin=RUe});var wC=w((Ect,Em)=>{"use strict";function _C(t){if(!new.target)return new _C(t);let{supportedValues:e=[],cache:r}=t&&typeof t=="object"&&t||{};this.supportedValues=e,this.cache=r}_C.prototype.negotiate=function(t){return typeof t!="string"?null:this.cache?(this.cache.has(t)||this.cache.set(t,Sm(t,this.supportedValues)),this.cache.get(t)):Sm(t,this.supportedValues)};function Sm(t,e){if(!t||!Array.isArray(e)||e.length===0)return null;if(t==="*")return e[0];let r=null,i=1/0,n=0;function s(o,a){if(a===0||n>a)return!1;let c=o==="*"&&e[0]||o,l=e.indexOf(c);return l===-1?!1:l===0&&a===1?(r=c,!0):((n<a||i>l)&&(r=c,i=l,n=a),!1)}return TUe(t,s),r}var wm=0,xm=1,m_=2,bC=3;function TUe(t,e){let r="",i,n=wm;for(let s=0,o=t.length;s<o;++s){let a=t[s];if(!(a===" "||a==="	")){if(a===";"){n===xm&&(n=m_,i="");continue}else if(a===","){if(n===xm){if(e(r,1)){n=bC;break}n=wm,r=""}else if(n===m_){if(e(r,parseFloat(i)||0)){n=bC;break}n=wm,r="",i=""}continue}else if(n===m_){if(a==="q"||a==="=")continue;if(a==="."||a==="1"||a==="0"||a==="2"||a==="3"||a==="4"||a==="5"||a==="6"||a==="7"||a==="8"||a==="9"){i+=a;continue}}else if(n===wm){n=xm,r+=a;continue}if(n===xm){let c=t[s-1];(c===" "||c==="	")&&(r=""),r+=a;continue}if(e(r,parseFloat(i)||0)){n=bC;break}n=wm,r=a,i=""}}n===xm?e(r,1):n===m_&&e(r,parseFloat(i)||0)}Em.exports=Sm;Em.exports.default=Sm;Em.exports.negotiate=Sm;Em.exports.Negotiator=_C});var JJ=w((Rct,KJ)=>{KJ.exports=GJ;function GJ(t,e){if(t&&e)return GJ(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var s=t.apply(this,i),o=i[i.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var SC=w((Tct,xC)=>{var YJ=JJ();xC.exports=YJ(g_);xC.exports.strict=YJ(XJ);g_.proto=g_(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return g_(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return XJ(this)},configurable:!0})});function g_(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function XJ(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var y_=w(($ct,QJ)=>{var $Ue=SC(),PUe=function(){},OUe=function(t){return t.setHeader&&typeof t.abort=="function"},kUe=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},ZJ=function(t,e,r){if(typeof e=="function")return ZJ(t,null,e);e||(e={}),r=$Ue(r||PUe);var i=t._writableState,n=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,c=function(){t.writable||l()},l=function(){o=!1,s||r.call(t)},u=function(){s=!1,o||r.call(t)},f=function(v){r.call(t,v?new Error("exited with error code: "+v):null)},p=function(v){r.call(t,v)},d=function(){process.nextTick(h)},h=function(){if(!a){if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"))}},m=function(){t.req.on("finish",l)};return OUe(t)?(t.on("complete",l),t.on("abort",d),t.req?m():t.on("request",m)):o&&!i&&(t.on("end",c),t.on("close",c)),kUe(t)&&t.on("exit",f),t.on("end",u),t.on("finish",l),e.error!==!1&&t.on("error",p),t.on("close",d),function(){a=!0,t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("exit",f),t.removeListener("end",u),t.removeListener("error",p),t.removeListener("close",d)}};QJ.exports=ZJ});var RC=w((Pct,tY)=>{var AUe=SC(),CUe=y_(),EC=require("fs"),Rm=function(){},NUe=/^v?\.0/.test(process.version),v_=function(t){return typeof t=="function"},IUe=function(t){return!NUe||!EC?!1:(t instanceof(EC.ReadStream||Rm)||t instanceof(EC.WriteStream||Rm))&&v_(t.close)},jUe=function(t){return t.setHeader&&v_(t.abort)},qUe=function(t,e,r,i){i=AUe(i);var n=!1;t.on("close",function(){n=!0}),CUe(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,IUe(t))return t.close(Rm);if(jUe(t))return t.abort();if(v_(t.destroy))return t.destroy();i(o||new Error("stream was destroyed"))}}},eY=function(t){t()},MUe=function(t,e){return t.pipe(e)},DUe=function(){var t=Array.prototype.slice.call(arguments),e=v_(t[t.length-1]||Rm)&&t.pop()||Rm;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,i=t.map(function(n,s){var o=s<t.length-1,a=s>0;return qUe(n,o,a,function(c){r||(r=c),c&&i.forEach(eY),!o&&(i.forEach(eY),e(r))})});return t.reduce(MUe)};tY.exports=DUe});var rY=w((Oct,LUe)=>{LUe.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var nY=w((kct,iY)=>{iY.exports=rY()});var Xo=w((Act,TC)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?TC.exports={nextTick:FUe}:TC.exports=process;function FUe(t,e,r,i){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,s,o;switch(n){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,i)});default:for(s=new Array(n-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var $C=w((Cct,sY)=>{var zUe={}.toString;sY.exports=Array.isArray||function(t){return zUe.call(t)=="[object Array]"}});var PC=w((Nct,oY)=>{oY.exports=require("stream")});var Tm=w((OC,cY)=>{var b_=require("buffer"),Zo=b_.Buffer;function aY(t,e){for(var r in t)e[r]=t[r]}Zo.from&&Zo.alloc&&Zo.allocUnsafe&&Zo.allocUnsafeSlow?cY.exports=b_:(aY(b_,OC),OC.Buffer=Df);function Df(t,e,r){return Zo(t,e,r)}aY(Zo,Df);Df.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Zo(t,e,r)};Df.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Zo(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Df.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Zo(t)};Df.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return b_.SlowBuffer(t)}});var vs=w(Ri=>{function UUe(t){return Array.isArray?Array.isArray(t):__(t)==="[object Array]"}Ri.isArray=UUe;function HUe(t){return typeof t=="boolean"}Ri.isBoolean=HUe;function BUe(t){return t===null}Ri.isNull=BUe;function VUe(t){return t==null}Ri.isNullOrUndefined=VUe;function WUe(t){return typeof t=="number"}Ri.isNumber=WUe;function GUe(t){return typeof t=="string"}Ri.isString=GUe;function KUe(t){return typeof t=="symbol"}Ri.isSymbol=KUe;function JUe(t){return t===void 0}Ri.isUndefined=JUe;function YUe(t){return __(t)==="[object RegExp]"}Ri.isRegExp=YUe;function XUe(t){return typeof t=="object"&&t!==null}Ri.isObject=XUe;function ZUe(t){return __(t)==="[object Date]"}Ri.isDate=ZUe;function QUe(t){return __(t)==="[object Error]"||t instanceof Error}Ri.isError=QUe;function e4e(t){return typeof t=="function"}Ri.isFunction=e4e;function t4e(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Ri.isPrimitive=t4e;Ri.isBuffer=require("buffer").Buffer.isBuffer;function __(t){return Object.prototype.toString.call(t)}});var lY=w((jct,kC)=>{typeof Object.create=="function"?kC.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:kC.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var Kt=w((qct,CC)=>{try{if(AC=require("util"),typeof AC.inherits!="function")throw"";CC.exports=AC.inherits}catch{CC.exports=lY()}var AC});var fY=w((Mct,NC)=>{"use strict";function r4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var uY=Tm().Buffer,$m=require("util");function i4e(t,e,r){t.copy(e,r)}NC.exports=function(){function t(){r4e(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},t.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n},t.prototype.concat=function(r){if(this.length===0)return uY.alloc(0);for(var i=uY.allocUnsafe(r>>>0),n=this.head,s=0;n;)i4e(n.data,i,s),s+=n.data.length,n=n.next;return i},t}();$m&&$m.inspect&&$m.inspect.custom&&(NC.exports.prototype[$m.inspect.custom]=function(){var t=$m.inspect({length:this.length});return this.constructor.name+" "+t})});var IC=w((Dct,dY)=>{"use strict";var w_=Xo();function n4e(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,w_.nextTick(x_,this,t)):w_.nextTick(x_,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,w_.nextTick(x_,r,s)):w_.nextTick(x_,r,s):e&&e(s)}),this)}function s4e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function x_(t,e){t.emit("error",e)}dY.exports={destroy:n4e,undestroy:s4e}});var S_=w((Lct,pY)=>{pY.exports=require("util").deprecate});var qC=w((Fct,wY)=>{"use strict";var _l=Xo();wY.exports=Cr;function mY(t){var e=this;this.next=null,this.entry=null,this.finish=function(){S4e(e,t)}}var o4e=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:_l.nextTick,Lf;Cr.WritableState=Om;var gY=Object.create(vs());gY.inherits=Kt();var a4e={deprecate:S_()},yY=PC(),R_=Tm().Buffer,c4e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l4e(t){return R_.from(t)}function u4e(t){return R_.isBuffer(t)||t instanceof c4e}var vY=IC();gY.inherits(Cr,yY);function f4e(){}function Om(t,e){Lf=Lf||wl(),t=t||{};var r=e instanceof Lf;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,n=t.writableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){v4e(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new mY(this)}Om.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Om.prototype,"buffer",{get:a4e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var E_;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E_=Function.prototype[Symbol.hasInstance],Object.defineProperty(Cr,Symbol.hasInstance,{value:function(t){return E_.call(this,t)?!0:this!==Cr?!1:t&&t._writableState instanceof Om}})):E_=function(t){return t instanceof this};function Cr(t){if(Lf=Lf||wl(),!E_.call(Cr,this)&&!(this instanceof Lf))return new Cr(t);this._writableState=new Om(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),yY.call(this)}Cr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function d4e(t,e){var r=new Error("write after end");t.emit("error",r),_l.nextTick(e,r)}function p4e(t,e,r,i){var n=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),_l.nextTick(i,s),n=!1),n}Cr.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&u4e(t);return s&&!R_.isBuffer(t)&&(t=l4e(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=f4e),i.ended?d4e(this,r):(s||p4e(this,i,t,r))&&(i.pendingcb++,n=m4e(this,i,s,t,e,r)),n};Cr.prototype.cork=function(){var t=this._writableState;t.corked++};Cr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&bY(this,t))};Cr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function h4e(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=R_.from(e,r)),e}Object.defineProperty(Cr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m4e(t,e,r,i,n,s){if(!r){var o=h4e(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else jC(t,e,!1,a,i,n,s);return c}function jC(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function g4e(t,e,r,i,n){--e.pendingcb,r?(_l.nextTick(n,i),_l.nextTick(Pm,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(n(i),t._writableState.errorEmitted=!0,t.emit("error",i),Pm(t,e))}function y4e(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function v4e(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(y4e(r),e)g4e(t,r,i,e,n);else{var s=_Y(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&bY(t,r),i?o4e(hY,t,r,s,n):hY(t,r,s,n)}}function hY(t,e,r,i){r||b4e(t,e),e.pendingcb--,i(),Pm(t,e)}function b4e(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function bY(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,jC(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new mY(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,u=r.callback,f=e.objectMode?1:c.length;if(jC(t,e,!1,f,c,l,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Cr.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Cr.prototype._writev=null;Cr.prototype.end=function(t,e,r){var i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||x4e(this,i,r)};function _Y(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function _4e(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Pm(t,e)})}function w4e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,_l.nextTick(_4e,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Pm(t,e){var r=_Y(e);return r&&(w4e(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function x4e(t,e,r){e.ending=!0,Pm(t,e),r&&(e.finished?_l.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function S4e(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Cr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Cr.prototype.destroy=vY.destroy;Cr.prototype._undestroy=vY.undestroy;Cr.prototype._destroy=function(t,e){this.end(),e(t)}});var wl=w((zct,RY)=>{"use strict";var xY=Xo(),E4e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};RY.exports=Qo;var SY=Object.create(vs());SY.inherits=Kt();var EY=LC(),DC=qC();SY.inherits(Qo,EY);for(MC=E4e(DC.prototype),T_=0;T_<MC.length;T_++)$_=MC[T_],Qo.prototype[$_]||(Qo.prototype[$_]=DC.prototype[$_]);var MC,$_,T_;function Qo(t){if(!(this instanceof Qo))return new Qo(t);EY.call(this,t),DC.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",R4e)}Object.defineProperty(Qo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R4e(){this.allowHalfOpen||this._writableState.ended||xY.nextTick(T4e,this)}function T4e(t){t.end()}Object.defineProperty(Qo.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Qo.prototype._destroy=function(t,e){this.push(null),this.end(),xY.nextTick(e,t)}});var UC=w($Y=>{"use strict";var zC=Tm().Buffer,TY=zC.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $4e(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function P4e(t){var e=$4e(t);if(typeof e!="string"&&(zC.isEncoding===TY||!TY(t)))throw new Error("Unknown encoding: "+t);return e||t}$Y.StringDecoder=km;function km(t){this.encoding=P4e(t);var e;switch(this.encoding){case"utf16le":this.text=I4e,this.end=j4e,e=4;break;case"utf8":this.fillLast=A4e,e=4;break;case"base64":this.text=q4e,this.end=M4e,e=3;break;default:this.write=D4e,this.end=L4e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=zC.allocUnsafe(e)}km.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};km.prototype.end=N4e;km.prototype.text=C4e;km.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function FC(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function O4e(t,e,r){var i=e.length-1;if(i<r)return 0;var n=FC(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=FC(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=FC(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function k4e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function A4e(t){var e=this.lastTotal-this.lastNeed,r=k4e(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function C4e(t,e){var r=O4e(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function N4e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function I4e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function j4e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function q4e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function M4e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function D4e(t){return t.toString(this.encoding)}function L4e(t){return t&&t.length?this.write(t):""}});var LC=w((Bct,LY)=>{"use strict";var zf=Xo();LY.exports=or;var F4e=$C(),Am;or.ReadableState=IY;var Hct=require("events").EventEmitter,AY=function(t,e){return t.listeners(e).length},GC=PC(),Cm=Tm().Buffer,z4e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function U4e(t){return Cm.from(t)}function H4e(t){return Cm.isBuffer(t)||t instanceof z4e}var CY=Object.create(vs());CY.inherits=Kt();var HC=require("util"),kt=void 0;HC&&HC.debuglog?kt=HC.debuglog("stream"):kt=function(){};var B4e=fY(),NY=IC(),Ff;CY.inherits(or,GC);var BC=["error","close","destroy","pause","resume"];function V4e(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):F4e(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function IY(t,e){Am=Am||wl(),t=t||{};var r=e instanceof Am;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,n=t.readableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new B4e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ff||(Ff=UC().StringDecoder),this.decoder=new Ff(t.encoding),this.encoding=t.encoding)}function or(t){if(Am=Am||wl(),!(this instanceof or))return new or(t);this._readableState=new IY(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),GC.call(this)}Object.defineProperty(or.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});or.prototype.destroy=NY.destroy;or.prototype._undestroy=NY.undestroy;or.prototype._destroy=function(t,e){this.push(null),e(t)};or.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Cm.from(t,e),e=""),i=!0),jY(this,t,e,!1,i)};or.prototype.unshift=function(t){return jY(this,t,null,!0,!1)};function jY(t,e,r,i,n){var s=t._readableState;if(e===null)s.reading=!1,J4e(t,s);else{var o;n||(o=W4e(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Cm.prototype&&(e=U4e(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):VC(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?VC(t,s,e,!1):qY(t,s)):VC(t,s,e,!1))):i||(s.reading=!1)}return G4e(s)}function VC(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&P_(t)),qY(t,e)}function W4e(t,e){var r;return!H4e(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function G4e(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}or.prototype.isPaused=function(){return this._readableState.flowing===!1};or.prototype.setEncoding=function(t){return Ff||(Ff=UC().StringDecoder),this._readableState.decoder=new Ff(t),this._readableState.encoding=t,this};var PY=8388608;function K4e(t){return t>=PY?t=PY:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function OY(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=K4e(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}or.prototype.read=function(t){kt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return kt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?WC(this):P_(this),null;if(t=OY(t,e),t===0&&e.ended)return e.length===0&&WC(this),null;var i=e.needReadable;kt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,kt("length less than watermark",i)),e.ended||e.reading?(i=!1,kt("reading or ended",i)):i&&(kt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=OY(r,e)));var n;return t>0?n=MY(t,e):n=null,n===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&WC(this)),n!==null&&this.emit("data",n),n};function J4e(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,P_(t)}}function P_(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(kt("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?zf.nextTick(kY,t):kY(t))}function kY(t){kt("emit readable"),t.emit("readable"),KC(t)}function qY(t,e){e.readingMore||(e.readingMore=!0,zf.nextTick(Y4e,t,e))}function Y4e(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(kt("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}or.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};or.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,kt("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:v;i.endEmitted?zf.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,E){kt("onunpipe"),y===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,u())}function a(){kt("onend"),t.end()}var c=X4e(r);t.on("drain",c);var l=!1;function u(){kt("cleanup"),t.removeListener("close",h),t.removeListener("finish",m),t.removeListener("drain",c),t.removeListener("error",d),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",p),l=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var f=!1;r.on("data",p);function p(y){kt("ondata"),f=!1;var E=t.write(y);E===!1&&!f&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&DY(i.pipes,t)!==-1)&&!l&&(kt("false write response, pause",i.awaitDrain),i.awaitDrain++,f=!0),r.pause())}function d(y){kt("onerror",y),v(),t.removeListener("error",d),AY(t,"error")===0&&t.emit("error",y)}V4e(t,"error",d);function h(){t.removeListener("finish",m),v()}t.once("close",h);function m(){kt("onfinish"),t.removeListener("close",h),v()}t.once("finish",m);function v(){kt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(kt("pipe resume"),r.resume()),t};function X4e(t){return function(){var e=t._readableState;kt("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&AY(t,"data")&&(e.flowing=!0,KC(t))}}or.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=DY(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};or.prototype.on=function(t,e){var r=GC.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&P_(this):zf.nextTick(Z4e,this))}return r};or.prototype.addListener=or.prototype.on;function Z4e(t){kt("readable nexttick read 0"),t.read(0)}or.prototype.resume=function(){var t=this._readableState;return t.flowing||(kt("resume"),t.flowing=!0,Q4e(this,t)),this};function Q4e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,zf.nextTick(eHe,t,e))}function eHe(t,e){e.reading||(kt("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),KC(t),e.flowing&&!e.reading&&t.read(0)}or.prototype.pause=function(){return kt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(kt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function KC(t){var e=t._readableState;for(kt("flow",e.flowing);e.flowing&&t.read()!==null;);}or.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(kt("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(kt("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(o){return function(){return t[o].apply(t,arguments)}}(n));for(var s=0;s<BC.length;s++)t.on(BC[s],this.emit.bind(this,BC[s]));return this._read=function(o){kt("wrapped _read",o),i&&(i=!1,t.resume())},this};Object.defineProperty(or.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});or._fromList=MY;function MY(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=tHe(t,e.buffer,e.decoder),r}function tHe(t,e,r){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?i=e.shift():i=r?rHe(t,e):iHe(t,e),i}function rHe(t,e){var r=e.head,i=1,n=r.data;for(t-=n.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),t-=o,t===0){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}function iHe(t,e){var r=Cm.allocUnsafe(t),i=e.head,n=1;for(i.data.copy(r),t-=i.data.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++n}return e.length-=n,r}function WC(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,zf.nextTick(nHe,e,t))}function nHe(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function DY(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var JC=w((Vct,UY)=>{"use strict";UY.exports=ea;var O_=wl(),zY=Object.create(vs());zY.inherits=Kt();zY.inherits(ea,O_);function sHe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function ea(t){if(!(this instanceof ea))return new ea(t);O_.call(this,t),this._transformState={afterTransform:sHe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",oHe)}function oHe(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){FY(t,e,r)}):FY(this,null,null)}ea.prototype.push=function(t,e){return this._transformState.needTransform=!1,O_.prototype.push.call(this,t,e)};ea.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};ea.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};ea.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ea.prototype._destroy=function(t,e){var r=this;O_.prototype._destroy.call(this,t,function(i){e(i),r.emit("close")})};function FY(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var WY=w((Wct,VY)=>{"use strict";VY.exports=Nm;var HY=JC(),BY=Object.create(vs());BY.inherits=Kt();BY.inherits(Nm,HY);function Nm(t){if(!(this instanceof Nm))return new Nm(t);HY.call(this,t)}Nm.prototype._transform=function(t,e,r){r(null,t)}});var GY=w((ri,k_)=>{var Ys=require("stream");process.env.READABLE_STREAM==="disable"&&Ys?(k_.exports=Ys,ri=k_.exports=Ys.Readable,ri.Readable=Ys.Readable,ri.Writable=Ys.Writable,ri.Duplex=Ys.Duplex,ri.Transform=Ys.Transform,ri.PassThrough=Ys.PassThrough,ri.Stream=Ys):(ri=k_.exports=LC(),ri.Stream=Ys||ri,ri.Readable=ri,ri.Writable=qC(),ri.Duplex=wl(),ri.Transform=JC(),ri.PassThrough=WY())});var YC=w((Gct,KY)=>{KY.exports=aHe;function aHe(t){var e=t._readableState;return e?e.objectMode||typeof t._duplexState=="number"?t.read():t.read(cHe(e)):null}function cHe(t){if(t.buffer.length){var e=t.bufferIndex||0;if(t.buffer.head)return t.buffer.head.data.length;if(t.buffer.length-e>0&&t.buffer[e])return t.buffer[e].length}return t.length}});var QY=w((Kct,ZY)=>{var A_=GY(),JY=y_(),lHe=Kt(),uHe=YC(),YY=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),XC=function(t,e){t._corked?t.once("uncork",e):e()},fHe=function(t,e){t._autoDestroy&&t.destroy(e)},XY=function(t,e){return function(r){r?fHe(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},dHe=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},pHe=function(t){return new A_.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},ii=function(t,e,r){if(!(this instanceof ii))return new ii(t,e,r);A_.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};lHe(ii,A_.Duplex);ii.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new ii(t,e,r)};ii.prototype.cork=function(){++this._corked===1&&this.emit("cork")};ii.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};ii.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=JY(t,{writable:!0,readable:!1},XY(this,this._forwardEnd)),i=function(){var s=e._ondrain;e._ondrain=null,s&&s()},n=function(){e._writable.removeListener("drain",i),r()};this._unwrite&&process.nextTick(i),this._writable=t,this._writable.on("drain",i),this._unwrite=n,this.uncork()};ii.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=JY(t,{writable:!1,readable:!0},XY(this)),i=function(){e._forward()},n=function(){e.push(null)},s=function(){e._readable2.removeListener("readable",i),e._readable2.removeListener("end",n),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:pHe(t),this._readable2.on("readable",i),this._readable2.on("end",n),this._unread=s,this._forward()};ii.prototype._read=function(){this._drained=!0,this._forward()};ii.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=uHe(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};ii.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var e=this;process.nextTick(function(){e._destroy(t)})}};ii.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};ii.prototype._write=function(t,e,r){if(this.destroyed)return r();if(this._corked)return XC(this,this._write.bind(this,t,e,r));if(t===YY)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:r()};ii.prototype._finish=function(t){var e=this;this.emit("preend"),XC(this,function(){dHe(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),XC(e,t)})})};ii.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this.write(YY),A_.Writable.prototype.end.call(this,r))};ZY.exports=ii});var ZC=w((Jct,eX)=>{eX.exports=require("stream")});var Im=w((QC,rX)=>{var C_=require("buffer"),ta=C_.Buffer;function tX(t,e){for(var r in t)e[r]=t[r]}ta.from&&ta.alloc&&ta.allocUnsafe&&ta.allocUnsafeSlow?rX.exports=C_:(tX(C_,QC),QC.Buffer=Uf);function Uf(t,e,r){return ta(t,e,r)}tX(ta,Uf);Uf.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ta(t,e,r)};Uf.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=ta(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Uf.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ta(t)};Uf.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return C_.SlowBuffer(t)}});var nX=w((Yct,eN)=>{"use strict";function hHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var iX=Im().Buffer,jm=require("util");function mHe(t,e,r){t.copy(e,r)}eN.exports=function(){function t(){hHe(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},t.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n},t.prototype.concat=function(r){if(this.length===0)return iX.alloc(0);for(var i=iX.allocUnsafe(r>>>0),n=this.head,s=0;n;)mHe(n.data,i,s),s+=n.data.length,n=n.next;return i},t}();jm&&jm.inspect&&jm.inspect.custom&&(eN.exports.prototype[jm.inspect.custom]=function(){var t=jm.inspect({length:this.length});return this.constructor.name+" "+t})});var tN=w((Xct,sX)=>{"use strict";var N_=Xo();function gHe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,N_.nextTick(I_,this,t)):N_.nextTick(I_,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,N_.nextTick(I_,r,s)):N_.nextTick(I_,r,s):e&&e(s)}),this)}function yHe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function I_(t,e){t.emit("error",e)}sX.exports={destroy:gHe,undestroy:yHe}});var iN=w((Zct,pX)=>{"use strict";var xl=Xo();pX.exports=Nr;function aX(t){var e=this;this.next=null,this.entry=null,this.finish=function(){jHe(e,t)}}var vHe=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:xl.nextTick,Hf;Nr.WritableState=Mm;var cX=Object.create(vs());cX.inherits=Kt();var bHe={deprecate:S_()},lX=ZC(),q_=Im().Buffer,_He=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function wHe(t){return q_.from(t)}function xHe(t){return q_.isBuffer(t)||t instanceof _He}var uX=tN();cX.inherits(Nr,lX);function SHe(){}function Mm(t,e){Hf=Hf||Sl(),t=t||{};var r=e instanceof Hf;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,n=t.writableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){kHe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new aX(this)}Mm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Mm.prototype,"buffer",{get:bHe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var j_;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(j_=Function.prototype[Symbol.hasInstance],Object.defineProperty(Nr,Symbol.hasInstance,{value:function(t){return j_.call(this,t)?!0:this!==Nr?!1:t&&t._writableState instanceof Mm}})):j_=function(t){return t instanceof this};function Nr(t){if(Hf=Hf||Sl(),!j_.call(Nr,this)&&!(this instanceof Hf))return new Nr(t);this._writableState=new Mm(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),lX.call(this)}Nr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function EHe(t,e){var r=new Error("write after end");t.emit("error",r),xl.nextTick(e,r)}function RHe(t,e,r,i){var n=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),xl.nextTick(i,s),n=!1),n}Nr.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&xHe(t);return s&&!q_.isBuffer(t)&&(t=wHe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=SHe),i.ended?EHe(this,r):(s||RHe(this,i,t,r))&&(i.pendingcb++,n=$He(this,i,s,t,e,r)),n};Nr.prototype.cork=function(){var t=this._writableState;t.corked++};Nr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&fX(this,t))};Nr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function THe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=q_.from(e,r)),e}Object.defineProperty(Nr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $He(t,e,r,i,n,s){if(!r){var o=THe(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else rN(t,e,!1,a,i,n,s);return c}function rN(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function PHe(t,e,r,i,n){--e.pendingcb,r?(xl.nextTick(n,i),xl.nextTick(qm,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(n(i),t._writableState.errorEmitted=!0,t.emit("error",i),qm(t,e))}function OHe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function kHe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(OHe(r),e)PHe(t,r,i,e,n);else{var s=dX(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&fX(t,r),i?vHe(oX,t,r,s,n):oX(t,r,s,n)}}function oX(t,e,r,i){r||AHe(t,e),e.pendingcb--,i(),qm(t,e)}function AHe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function fX(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,rN(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new aX(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,u=r.callback,f=e.objectMode?1:c.length;if(rN(t,e,!1,f,c,l,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Nr.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Nr.prototype._writev=null;Nr.prototype.end=function(t,e,r){var i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||IHe(this,i,r)};function dX(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function CHe(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),qm(t,e)})}function NHe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,xl.nextTick(CHe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function qm(t,e){var r=dX(e);return r&&(NHe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function IHe(t,e,r){e.ending=!0,qm(t,e),r&&(e.finished?xl.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function jHe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Nr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Nr.prototype.destroy=uX.destroy;Nr.prototype._undestroy=uX.undestroy;Nr.prototype._destroy=function(t,e){this.end(),e(t)}});var Sl=w((Qct,yX)=>{"use strict";var hX=Xo(),qHe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};yX.exports=ra;var mX=Object.create(vs());mX.inherits=Kt();var gX=oN(),sN=iN();mX.inherits(ra,gX);for(nN=qHe(sN.prototype),M_=0;M_<nN.length;M_++)D_=nN[M_],ra.prototype[D_]||(ra.prototype[D_]=sN.prototype[D_]);var nN,D_,M_;function ra(t){if(!(this instanceof ra))return new ra(t);gX.call(this,t),sN.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",MHe)}Object.defineProperty(ra.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function MHe(){this.allowHalfOpen||this._writableState.ended||hX.nextTick(DHe,this)}function DHe(t){t.end()}Object.defineProperty(ra.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});ra.prototype._destroy=function(t,e){this.push(null),this.end(),hX.nextTick(e,t)}});var lN=w(bX=>{"use strict";var cN=Im().Buffer,vX=cN.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function LHe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function FHe(t){var e=LHe(t);if(typeof e!="string"&&(cN.isEncoding===vX||!vX(t)))throw new Error("Unknown encoding: "+t);return e||t}bX.StringDecoder=Dm;function Dm(t){this.encoding=FHe(t);var e;switch(this.encoding){case"utf16le":this.text=WHe,this.end=GHe,e=4;break;case"utf8":this.fillLast=HHe,e=4;break;case"base64":this.text=KHe,this.end=JHe,e=3;break;default:this.write=YHe,this.end=XHe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=cN.allocUnsafe(e)}Dm.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Dm.prototype.end=VHe;Dm.prototype.text=BHe;Dm.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function aN(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function zHe(t,e,r){var i=e.length-1;if(i<r)return 0;var n=aN(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=aN(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=aN(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function UHe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function HHe(t){var e=this.lastTotal-this.lastNeed,r=UHe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function BHe(t,e){var r=zHe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function VHe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function WHe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function GHe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function KHe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function JHe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function YHe(t){return t.toString(this.encoding)}function XHe(t){return t&&t.length?this.write(t):""}});var oN=w((rlt,AX)=>{"use strict";var Vf=Xo();AX.exports=ar;var ZHe=$C(),Lm;ar.ReadableState=TX;var tlt=require("events").EventEmitter,SX=function(t,e){return t.listeners(e).length},hN=ZC(),Fm=Im().Buffer,QHe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function eBe(t){return Fm.from(t)}function tBe(t){return Fm.isBuffer(t)||t instanceof QHe}var EX=Object.create(vs());EX.inherits=Kt();var uN=require("util"),At=void 0;uN&&uN.debuglog?At=uN.debuglog("stream"):At=function(){};var rBe=nX(),RX=tN(),Bf;EX.inherits(ar,hN);var fN=["error","close","destroy","pause","resume"];function iBe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):ZHe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function TX(t,e){Lm=Lm||Sl(),t=t||{};var r=e instanceof Lm;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,n=t.readableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new rBe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Bf||(Bf=lN().StringDecoder),this.decoder=new Bf(t.encoding),this.encoding=t.encoding)}function ar(t){if(Lm=Lm||Sl(),!(this instanceof ar))return new ar(t);this._readableState=new TX(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),hN.call(this)}Object.defineProperty(ar.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});ar.prototype.destroy=RX.destroy;ar.prototype._undestroy=RX.undestroy;ar.prototype._destroy=function(t,e){this.push(null),e(t)};ar.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Fm.from(t,e),e=""),i=!0),$X(this,t,e,!1,i)};ar.prototype.unshift=function(t){return $X(this,t,null,!0,!1)};function $X(t,e,r,i,n){var s=t._readableState;if(e===null)s.reading=!1,aBe(t,s);else{var o;n||(o=nBe(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Fm.prototype&&(e=eBe(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):dN(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?dN(t,s,e,!1):PX(t,s)):dN(t,s,e,!1))):i||(s.reading=!1)}return sBe(s)}function dN(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&L_(t)),PX(t,e)}function nBe(t,e){var r;return!tBe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function sBe(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}ar.prototype.isPaused=function(){return this._readableState.flowing===!1};ar.prototype.setEncoding=function(t){return Bf||(Bf=lN().StringDecoder),this._readableState.decoder=new Bf(t),this._readableState.encoding=t,this};var _X=8388608;function oBe(t){return t>=_X?t=_X:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function wX(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=oBe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ar.prototype.read=function(t){At("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return At("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?pN(this):L_(this),null;if(t=wX(t,e),t===0&&e.ended)return e.length===0&&pN(this),null;var i=e.needReadable;At("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,At("length less than watermark",i)),e.ended||e.reading?(i=!1,At("reading or ended",i)):i&&(At("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=wX(r,e)));var n;return t>0?n=OX(t,e):n=null,n===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&pN(this)),n!==null&&this.emit("data",n),n};function aBe(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,L_(t)}}function L_(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(At("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Vf.nextTick(xX,t):xX(t))}function xX(t){At("emit readable"),t.emit("readable"),mN(t)}function PX(t,e){e.readingMore||(e.readingMore=!0,Vf.nextTick(cBe,t,e))}function cBe(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(At("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}ar.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};ar.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,At("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:v;i.endEmitted?Vf.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,E){At("onunpipe"),y===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,u())}function a(){At("onend"),t.end()}var c=lBe(r);t.on("drain",c);var l=!1;function u(){At("cleanup"),t.removeListener("close",h),t.removeListener("finish",m),t.removeListener("drain",c),t.removeListener("error",d),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",p),l=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var f=!1;r.on("data",p);function p(y){At("ondata"),f=!1;var E=t.write(y);E===!1&&!f&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&kX(i.pipes,t)!==-1)&&!l&&(At("false write response, pause",i.awaitDrain),i.awaitDrain++,f=!0),r.pause())}function d(y){At("onerror",y),v(),t.removeListener("error",d),SX(t,"error")===0&&t.emit("error",y)}iBe(t,"error",d);function h(){t.removeListener("finish",m),v()}t.once("close",h);function m(){At("onfinish"),t.removeListener("close",h),v()}t.once("finish",m);function v(){At("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(At("pipe resume"),r.resume()),t};function lBe(t){return function(){var e=t._readableState;At("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&SX(t,"data")&&(e.flowing=!0,mN(t))}}ar.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=kX(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ar.prototype.on=function(t,e){var r=hN.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&L_(this):Vf.nextTick(uBe,this))}return r};ar.prototype.addListener=ar.prototype.on;function uBe(t){At("readable nexttick read 0"),t.read(0)}ar.prototype.resume=function(){var t=this._readableState;return t.flowing||(At("resume"),t.flowing=!0,fBe(this,t)),this};function fBe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Vf.nextTick(dBe,t,e))}function dBe(t,e){e.reading||(At("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),mN(t),e.flowing&&!e.reading&&t.read(0)}ar.prototype.pause=function(){return At("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(At("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function mN(t){var e=t._readableState;for(At("flow",e.flowing);e.flowing&&t.read()!==null;);}ar.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(At("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(At("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(o){return function(){return t[o].apply(t,arguments)}}(n));for(var s=0;s<fN.length;s++)t.on(fN[s],this.emit.bind(this,fN[s]));return this._read=function(o){At("wrapped _read",o),i&&(i=!1,t.resume())},this};Object.defineProperty(ar.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ar._fromList=OX;function OX(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=pBe(t,e.buffer,e.decoder),r}function pBe(t,e,r){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?i=e.shift():i=r?hBe(t,e):mBe(t,e),i}function hBe(t,e){var r=e.head,i=1,n=r.data;for(t-=n.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),t-=o,t===0){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}function mBe(t,e){var r=Fm.allocUnsafe(t),i=e.head,n=1;for(i.data.copy(r),t-=i.data.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++n}return e.length-=n,r}function pN(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Vf.nextTick(gBe,e,t))}function gBe(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function kX(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var gN=w((ilt,IX)=>{"use strict";IX.exports=ia;var F_=Sl(),NX=Object.create(vs());NX.inherits=Kt();NX.inherits(ia,F_);function yBe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function ia(t){if(!(this instanceof ia))return new ia(t);F_.call(this,t),this._transformState={afterTransform:yBe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",vBe)}function vBe(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){CX(t,e,r)}):CX(this,null,null)}ia.prototype.push=function(t,e){return this._transformState.needTransform=!1,F_.prototype.push.call(this,t,e)};ia.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};ia.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};ia.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ia.prototype._destroy=function(t,e){var r=this;F_.prototype._destroy.call(this,t,function(i){e(i),r.emit("close")})};function CX(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var DX=w((nlt,MX)=>{"use strict";MX.exports=zm;var jX=gN(),qX=Object.create(vs());qX.inherits=Kt();qX.inherits(zm,jX);function zm(t){if(!(this instanceof zm))return new zm(t);jX.call(this,t)}zm.prototype._transform=function(t,e,r){r(null,t)}});var LX=w((ni,z_)=>{var Xs=require("stream");process.env.READABLE_STREAM==="disable"&&Xs?(z_.exports=Xs,ni=z_.exports=Xs.Readable,ni.Readable=Xs.Readable,ni.Writable=Xs.Writable,ni.Duplex=Xs.Duplex,ni.Transform=Xs.Transform,ni.PassThrough=Xs.PassThrough,ni.Stream=Xs):(ni=z_.exports=oN(),ni.Stream=Xs||ni,ni.Readable=ni,ni.Writable=iN(),ni.Duplex=Sl(),ni.Transform=gN(),ni.PassThrough=DX())});var U_=w((slt,FX)=>{FX.exports=_Be;var bBe=Object.prototype.hasOwnProperty;function _Be(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)bBe.call(r,i)&&(t[i]=r[i])}return t}});var BX=w((olt,H_)=>{var zX=LX().Transform,UX=require("util").inherits,HX=U_();function Wf(t){zX.call(this,t),this._destroyed=!1}UX(Wf,zX);Wf.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function wBe(t,e,r){r(null,t)}function yN(t){return function(e,r,i){return typeof e=="function"&&(i=r,r=e,e={}),typeof r!="function"&&(r=wBe),typeof i!="function"&&(i=null),t(e,r,i)}}H_.exports=yN(function(t,e,r){var i=new Wf(t);return i._transform=e,r&&(i._flush=r),i});H_.exports.ctor=yN(function(t,e,r){function i(n){if(!(this instanceof i))return new i(n);this.options=HX(t,n),Wf.call(this,this.options)}return UX(i,Wf),i.prototype._transform=e,r&&(i.prototype._flush=r),i});H_.exports.obj=yN(function(t,e,r){var i=new Wf(HX({objectMode:!0,highWaterMark:16},t));return i._transform=e,r&&(i._flush=r),i})});var WX=w((alt,VX)=>{var xBe=Object.prototype.toString,vN=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function SBe(t){return xBe.call(t).slice(8,-1)==="ArrayBuffer"}function EBe(t,e,r){e>>>=0;var i=t.byteLength-e;if(i<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=i;else if(r>>>=0,r>i)throw new RangeError("'length' is out of bounds");return vN?Buffer.from(t.slice(e,e+r)):new Buffer(new Uint8Array(t.slice(e,e+r)))}function RBe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return vN?Buffer.from(t,e):new Buffer(t,e)}function TBe(t,e,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return SBe(t)?EBe(t,e,r):typeof t=="string"?RBe(t,e):vN?Buffer.from(t):new Buffer(t)}VX.exports=TBe});var JX=w((clt,KX)=>{var $Be=QY(),PBe=BX(),OBe=WX(),kBe=function(t){return!Buffer.isBuffer(t)&&typeof t!="string"},GX=function(t,e){if(typeof t=="number"&&(t={maxBuffer:t}),typeof t=="function")return GX(null,t);t||(t={});var r=typeof t.maxBuffer=="number"?t.maxBuffer:65535,i=t.strict,n=t.newline!==!1,s=[],o=0,a=$Be.obj(),c=PBe.obj({highWaterMark:1},function(f,p,d){if(kBe(f))return u(f,null,d);if(Buffer.isBuffer(f)||(f=OBe(f)),n){var h=Array.prototype.indexOf.call(f,10);if(h>0&&f[h-1]===13&&h--,h>-1)return s.push(f.slice(0,h)),u(Buffer.concat(s),f.slice(h),d)}if(s.push(f),o+=f.length,o<r)return d();if(i)return d(new Error("No newline found"));u(Buffer.concat(s),null,d)}),l=function(){if(i)return a.destroy(new Error("No newline found"));a.cork(),u(Buffer.concat(s),null,function(f){if(f)return a.destroy(f);a.uncork()})},u=function(f,p,d){a.removeListener("preend",l),e(f,function(h,m){if(h)return d(h);a.setWritable(m),a.setReadable(m),f&&m.write(f),p&&m.write(p),p=s=c=null,d()})};return a.on("preend",l),a.setWritable(c),a};KX.exports=GX});var X_=w(Ui=>{"use strict";var ABe=Ui&&Ui.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.Minipass=Ui.isWritable=Ui.isReadable=Ui.isStream=void 0;var YX=typeof process=="object"&&process?process:{stdout:null,stderr:null},RN=require("node:events"),eZ=ABe(require("node:stream")),CBe=require("node:string_decoder"),NBe=t=>!!t&&typeof t=="object"&&(t instanceof Y_||t instanceof eZ.default||(0,Ui.isReadable)(t)||(0,Ui.isWritable)(t));Ui.isStream=NBe;var IBe=t=>!!t&&typeof t=="object"&&t instanceof RN.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==eZ.default.Writable.prototype.pipe;Ui.isReadable=IBe;var jBe=t=>!!t&&typeof t=="object"&&t instanceof RN.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";Ui.isWritable=jBe;var na=Symbol("EOF"),sa=Symbol("maybeEmitEnd"),tc=Symbol("emittedEnd"),B_=Symbol("emittingEnd"),Um=Symbol("emittedError"),V_=Symbol("closed"),XX=Symbol("read"),W_=Symbol("flush"),ZX=Symbol("flushChunk"),bs=Symbol("encoding"),Gf=Symbol("decoder"),Fr=Symbol("flowing"),Hm=Symbol("paused"),Kf=Symbol("resume"),zr=Symbol("buffer"),zi=Symbol("pipes"),Ur=Symbol("bufferLength"),bN=Symbol("bufferPush"),G_=Symbol("bufferShift"),Ti=Symbol("objectMode"),kr=Symbol("destroyed"),_N=Symbol("error"),wN=Symbol("emitData"),QX=Symbol("emitEnd"),xN=Symbol("emitEnd2"),Zs=Symbol("async"),SN=Symbol("abort"),K_=Symbol("aborted"),Bm=Symbol("signal"),El=Symbol("dataListeners"),dn=Symbol("discarded"),Vm=t=>Promise.resolve().then(t),qBe=t=>t(),MBe=t=>t==="end"||t==="finish"||t==="prefinish",DBe=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,LBe=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),J_=class{src;dest;opts;ondrain;constructor(e,r,i){this.src=e,this.dest=r,this.opts=i,this.ondrain=()=>e[Kf](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},EN=class extends J_{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,i){super(e,r,i),this.proxyErrors=n=>r.emit("error",n),e.on("error",this.proxyErrors)}},FBe=t=>!!t.objectMode,zBe=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",Y_=class extends RN.EventEmitter{[Fr]=!1;[Hm]=!1;[zi]=[];[zr]=[];[Ti];[bs];[Zs];[Gf];[na]=!1;[tc]=!1;[B_]=!1;[V_]=!1;[Um]=null;[Ur]=0;[kr]=!1;[Bm];[K_]=!1;[El]=0;[dn]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");FBe(r)?(this[Ti]=!0,this[bs]=null):zBe(r)?(this[bs]=r.encoding,this[Ti]=!1):(this[Ti]=!1,this[bs]=null),this[Zs]=!!r.async,this[Gf]=this[bs]?new CBe.StringDecoder(this[bs]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[zr]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[zi]});let{signal:i}=r;i&&(this[Bm]=i,i.aborted?this[SN]():i.addEventListener("abort",()=>this[SN]()))}get bufferLength(){return this[Ur]}get encoding(){return this[bs]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Ti]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Zs]}set async(e){this[Zs]=this[Zs]||!!e}[SN](){this[K_]=!0,this.emit("abort",this[Bm]?.reason),this.destroy(this[Bm]?.reason)}get aborted(){return this[K_]}set aborted(e){}write(e,r,i){if(this[K_])return!1;if(this[na])throw new Error("write after end");if(this[kr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(i=r,r="utf8"),r||(r="utf8");let n=this[Zs]?Vm:qBe;if(!this[Ti]&&!Buffer.isBuffer(e)){if(LBe(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(DBe(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Ti]?(this[Fr]&&this[Ur]!==0&&this[W_](!0),this[Fr]?this.emit("data",e):this[bN](e),this[Ur]!==0&&this.emit("readable"),i&&n(i),this[Fr]):e.length?(typeof e=="string"&&!(r===this[bs]&&!this[Gf]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[bs]&&(e=this[Gf].write(e)),this[Fr]&&this[Ur]!==0&&this[W_](!0),this[Fr]?this.emit("data",e):this[bN](e),this[Ur]!==0&&this.emit("readable"),i&&n(i),this[Fr]):(this[Ur]!==0&&this.emit("readable"),i&&n(i),this[Fr])}read(e){if(this[kr])return null;if(this[dn]=!1,this[Ur]===0||e===0||e&&e>this[Ur])return this[sa](),null;this[Ti]&&(e=null),this[zr].length>1&&!this[Ti]&&(this[zr]=[this[bs]?this[zr].join(""):Buffer.concat(this[zr],this[Ur])]);let r=this[XX](e||null,this[zr][0]);return this[sa](),r}[XX](e,r){if(this[Ti])this[G_]();else{let i=r;e===i.length||e===null?this[G_]():typeof i=="string"?(this[zr][0]=i.slice(e),r=i.slice(0,e),this[Ur]-=e):(this[zr][0]=i.subarray(e),r=i.subarray(0,e),this[Ur]-=e)}return this.emit("data",r),!this[zr].length&&!this[na]&&this.emit("drain"),r}end(e,r,i){return typeof e=="function"&&(i=e,e=void 0),typeof r=="function"&&(i=r,r="utf8"),e!==void 0&&this.write(e,r),i&&this.once("end",i),this[na]=!0,this.writable=!1,(this[Fr]||!this[Hm])&&this[sa](),this}[Kf](){this[kr]||(!this[El]&&!this[zi].length&&(this[dn]=!0),this[Hm]=!1,this[Fr]=!0,this.emit("resume"),this[zr].length?this[W_]():this[na]?this[sa]():this.emit("drain"))}resume(){return this[Kf]()}pause(){this[Fr]=!1,this[Hm]=!0,this[dn]=!1}get destroyed(){return this[kr]}get flowing(){return this[Fr]}get paused(){return this[Hm]}[bN](e){this[Ti]?this[Ur]+=1:this[Ur]+=e.length,this[zr].push(e)}[G_](){return this[Ti]?this[Ur]-=1:this[Ur]-=this[zr][0].length,this[zr].shift()}[W_](e=!1){do;while(this[ZX](this[G_]())&&this[zr].length);!e&&!this[zr].length&&!this[na]&&this.emit("drain")}[ZX](e){return this.emit("data",e),this[Fr]}pipe(e,r){if(this[kr])return e;this[dn]=!1;let i=this[tc];return r=r||{},e===YX.stdout||e===YX.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,i?r.end&&e.end():(this[zi].push(r.proxyErrors?new EN(this,e,r):new J_(this,e,r)),this[Zs]?Vm(()=>this[Kf]()):this[Kf]()),e}unpipe(e){let r=this[zi].find(i=>i.dest===e);r&&(this[zi].length===1?(this[Fr]&&this[El]===0&&(this[Fr]=!1),this[zi]=[]):this[zi].splice(this[zi].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let i=super.on(e,r);if(e==="data")this[dn]=!1,this[El]++,!this[zi].length&&!this[Fr]&&this[Kf]();else if(e==="readable"&&this[Ur]!==0)super.emit("readable");else if(MBe(e)&&this[tc])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[Um]){let n=r;this[Zs]?Vm(()=>n.call(this,this[Um])):n.call(this,this[Um])}return i}removeListener(e,r){return this.off(e,r)}off(e,r){let i=super.off(e,r);return e==="data"&&(this[El]=this.listeners("data").length,this[El]===0&&!this[dn]&&!this[zi].length&&(this[Fr]=!1)),i}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[El]=0,!this[dn]&&!this[zi].length&&(this[Fr]=!1)),r}get emittedEnd(){return this[tc]}[sa](){!this[B_]&&!this[tc]&&!this[kr]&&this[zr].length===0&&this[na]&&(this[B_]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[V_]&&this.emit("close"),this[B_]=!1)}emit(e,...r){let i=r[0];if(e!=="error"&&e!=="close"&&e!==kr&&this[kr])return!1;if(e==="data")return!this[Ti]&&!i?!1:this[Zs]?(Vm(()=>this[wN](i)),!0):this[wN](i);if(e==="end")return this[QX]();if(e==="close"){if(this[V_]=!0,!this[tc]&&!this[kr])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Um]=i,super.emit(_N,i);let s=!this[Bm]||this.listeners("error").length?super.emit("error",i):!1;return this[sa](),s}else if(e==="resume"){let s=super.emit("resume");return this[sa](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let n=super.emit(e,...r);return this[sa](),n}[wN](e){for(let i of this[zi])i.dest.write(e)===!1&&this.pause();let r=this[dn]?!1:super.emit("data",e);return this[sa](),r}[QX](){return this[tc]?!1:(this[tc]=!0,this.readable=!1,this[Zs]?(Vm(()=>this[xN]()),!0):this[xN]())}[xN](){if(this[Gf]){let r=this[Gf].end();if(r){for(let i of this[zi])i.dest.write(r);this[dn]||super.emit("data",r)}}for(let r of this[zi])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[Ti]||(e.dataLength=0);let r=this.promise();return this.on("data",i=>{e.push(i),this[Ti]||(e.dataLength+=i.length)}),await r,e}async concat(){if(this[Ti])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[bs]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(kr,()=>r(new Error("stream destroyed"))),this.on("error",i=>r(i)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[dn]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[na])return r();let s,o,a=f=>{this.off("data",c),this.off("end",l),this.off(kr,u),r(),o(f)},c=f=>{this.off("error",a),this.off("end",l),this.off(kr,u),this.pause(),s({value:f,done:!!this[na]})},l=()=>{this.off("error",a),this.off("data",c),this.off(kr,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((f,p)=>{o=p,s=f,this.once(kr,u),this.once("error",a),this.once("end",l),this.once("data",c)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[dn]=!1;let e=!1,r=()=>(this.pause(),this.off(_N,r),this.off(kr,r),this.off("end",r),e=!0,{done:!0,value:void 0}),i=()=>{if(e)return r();let n=this.read();return n===null?r():{done:!1,value:n}};return this.once("end",r),this.once(_N,r),this.once(kr,r),{next:i,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[kr])return e?this.emit("error",e):this.emit(kr),this;this[kr]=!0,this[dn]=!0,this[zr].length=0,this[Ur]=0;let r=this;return typeof r.close=="function"&&!this[V_]&&r.close(),e?this.emit("error",e):this.emit(kr),this}static get isStream(){return Ui.isStream}};Ui.Minipass=Y_});var TN=w((ult,tZ)=>{tZ.exports=require("stream")});var aZ=w((flt,oZ)=>{"use strict";function rZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function iZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rZ(Object(r),!0).forEach(function(i){UBe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rZ(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function UBe(t,e,r){return e=sZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nZ(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,sZ(i.key),i)}}function BBe(t,e,r){return e&&nZ(t.prototype,e),r&&nZ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sZ(t){var e=VBe(t,"string");return typeof e=="symbol"?e:String(e)}function VBe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WBe=require("buffer"),Z_=WBe.Buffer,GBe=require("util"),$N=GBe.inspect,KBe=$N&&$N.custom||"inspect";function JBe(t,e,r){Z_.prototype.copy.call(t,e,r)}oZ.exports=function(){function t(){HBe(this,t),this.head=null,this.tail=null,this.length=0}return BBe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Z_.alloc(0);for(var i=Z_.allocUnsafe(r>>>0),n=this.head,s=0;n;)JBe(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=Z_.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,a),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:KBe,value:function(r,i){return $N(this,iZ(iZ({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var ON=w((dlt,lZ)=>{"use strict";function YBe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(PN,this,t)):process.nextTick(PN,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Q_,r):(r._writableState.errorEmitted=!0,process.nextTick(cZ,r,s)):process.nextTick(cZ,r,s):e?(process.nextTick(Q_,r),e(s)):process.nextTick(Q_,r)}),this)}function cZ(t,e){PN(t,e),Q_(t)}function Q_(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function XBe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function PN(t,e){t.emit("error",e)}function ZBe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}lZ.exports={destroy:YBe,undestroy:XBe,errorOrDestroy:ZBe}});var rc=w((plt,dZ)=>{"use strict";var fZ={};function qn(t,e,r){r||(r=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}class n extends r{constructor(o,a,c){super(i(o,a,c))}}n.prototype.name=r.name,n.prototype.code=t,fZ[t]=n}function uZ(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(i=>String(i)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function QBe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function e3e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function t3e(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}qn("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);qn("ERR_INVALID_ARG_TYPE",function(t,e,r){let i;typeof e=="string"&&QBe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";let n;if(e3e(t," argument"))n=`The ${t} ${i} ${uZ(e,"type")}`;else{let s=t3e(t,".")?"property":"argument";n=`The "${t}" ${s} ${i} ${uZ(e,"type")}`}return n+=`. Received type ${typeof r}`,n},TypeError);qn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");qn("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});qn("ERR_STREAM_PREMATURE_CLOSE","Premature close");qn("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});qn("ERR_MULTIPLE_CALLBACK","Callback called multiple times");qn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");qn("ERR_STREAM_WRITE_AFTER_END","write after end");qn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);qn("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);qn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");dZ.exports.codes=fZ});var kN=w((hlt,pZ)=>{"use strict";var r3e=rc().codes.ERR_INVALID_OPT_VALUE;function i3e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function n3e(t,e,r,i){var n=i3e(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new r3e(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}pZ.exports={getHighWaterMark:n3e}});var NN=w((mlt,bZ)=>{"use strict";bZ.exports=_r;function mZ(t){var e=this;this.next=null,this.entry=null,this.finish=function(){A3e(e,t)}}var Jf;_r.WritableState=Gm;var s3e={deprecate:S_()},gZ=TN(),tw=require("buffer").Buffer,o3e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a3e(t){return tw.from(t)}function c3e(t){return tw.isBuffer(t)||t instanceof o3e}var CN=ON(),l3e=kN(),u3e=l3e.getHighWaterMark,ic=rc().codes,f3e=ic.ERR_INVALID_ARG_TYPE,d3e=ic.ERR_METHOD_NOT_IMPLEMENTED,p3e=ic.ERR_MULTIPLE_CALLBACK,h3e=ic.ERR_STREAM_CANNOT_PIPE,m3e=ic.ERR_STREAM_DESTROYED,g3e=ic.ERR_STREAM_NULL_VALUES,y3e=ic.ERR_STREAM_WRITE_AFTER_END,v3e=ic.ERR_UNKNOWN_ENCODING,Yf=CN.errorOrDestroy;Kt()(_r,gZ);function b3e(){}function Gm(t,e,r){Jf=Jf||Rl(),t=t||{},typeof r!="boolean"&&(r=e instanceof Jf),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=u3e(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){T3e(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new mZ(this)}Gm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Gm.prototype,"buffer",{get:s3e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ew;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ew=Function.prototype[Symbol.hasInstance],Object.defineProperty(_r,Symbol.hasInstance,{value:function(e){return ew.call(this,e)?!0:this!==_r?!1:e&&e._writableState instanceof Gm}})):ew=function(e){return e instanceof this};function _r(t){Jf=Jf||Rl();var e=this instanceof Jf;if(!e&&!ew.call(_r,this))return new _r(t);this._writableState=new Gm(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),gZ.call(this)}_r.prototype.pipe=function(){Yf(this,new h3e)};function _3e(t,e){var r=new y3e;Yf(t,r),process.nextTick(e,r)}function w3e(t,e,r,i){var n;return r===null?n=new g3e:typeof r!="string"&&!e.objectMode&&(n=new f3e("chunk",["string","Buffer"],r)),n?(Yf(t,n),process.nextTick(i,n),!1):!0}_r.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&c3e(t);return s&&!tw.isBuffer(t)&&(t=a3e(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=b3e),i.ending?_3e(this,r):(s||w3e(this,i,t,r))&&(i.pendingcb++,n=S3e(this,i,s,t,e,r)),n};_r.prototype.cork=function(){this._writableState.corked++};_r.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&yZ(this,t))};_r.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v3e(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(_r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function x3e(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=tw.from(e,r)),e}Object.defineProperty(_r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function S3e(t,e,r,i,n,s){if(!r){var o=x3e(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else AN(t,e,!1,a,i,n,s);return c}function AN(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m3e("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function E3e(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(Wm,t,e),t._writableState.errorEmitted=!0,Yf(t,i)):(n(i),t._writableState.errorEmitted=!0,Yf(t,i),Wm(t,e))}function R3e(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function T3e(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new p3e;if(R3e(r),e)E3e(t,r,i,e,n);else{var s=vZ(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&yZ(t,r),i?process.nextTick(hZ,t,r,s,n):hZ(t,r,s,n)}}function hZ(t,e,r,i){r||$3e(t,e),e.pendingcb--,i(),Wm(t,e)}function $3e(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function yZ(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,AN(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new mZ(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,u=r.callback,f=e.objectMode?1:c.length;if(AN(t,e,!1,f,c,l,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}_r.prototype._write=function(t,e,r){r(new d3e("_write()"))};_r.prototype._writev=null;_r.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||k3e(this,i,r),this};Object.defineProperty(_r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function vZ(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function P3e(t,e){t._final(function(r){e.pendingcb--,r&&Yf(t,r),e.prefinished=!0,t.emit("prefinish"),Wm(t,e)})}function O3e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(P3e,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Wm(t,e){var r=vZ(e);if(r&&(O3e(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function k3e(t,e,r){e.ending=!0,Wm(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function A3e(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(_r.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});_r.prototype.destroy=CN.destroy;_r.prototype._undestroy=CN.undestroy;_r.prototype._destroy=function(t,e){e(t)}});var Rl=w((glt,wZ)=>{"use strict";var C3e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};wZ.exports=Qs;var _Z=qN(),jN=NN();Kt()(Qs,_Z);for(IN=C3e(jN.prototype),rw=0;rw<IN.length;rw++)iw=IN[rw],Qs.prototype[iw]||(Qs.prototype[iw]=jN.prototype[iw]);var IN,iw,rw;function Qs(t){if(!(this instanceof Qs))return new Qs(t);_Z.call(this,t),jN.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",N3e)))}Object.defineProperty(Qs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Qs.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Qs.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function N3e(){this._writableState.ended||process.nextTick(I3e,this)}function I3e(t){t.end()}Object.defineProperty(Qs.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var sw=w((MN,SZ)=>{var nw=require("buffer"),eo=nw.Buffer;function xZ(t,e){for(var r in t)e[r]=t[r]}eo.from&&eo.alloc&&eo.allocUnsafe&&eo.allocUnsafeSlow?SZ.exports=nw:(xZ(nw,MN),MN.Buffer=Tl);function Tl(t,e,r){return eo(t,e,r)}Tl.prototype=Object.create(eo.prototype);xZ(eo,Tl);Tl.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return eo(t,e,r)};Tl.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=eo(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Tl.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return eo(t)};Tl.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return nw.SlowBuffer(t)}});var FN=w(RZ=>{"use strict";var LN=sw().Buffer,EZ=LN.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function j3e(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function q3e(t){var e=j3e(t);if(typeof e!="string"&&(LN.isEncoding===EZ||!EZ(t)))throw new Error("Unknown encoding: "+t);return e||t}RZ.StringDecoder=Km;function Km(t){this.encoding=q3e(t);var e;switch(this.encoding){case"utf16le":this.text=U3e,this.end=H3e,e=4;break;case"utf8":this.fillLast=L3e,e=4;break;case"base64":this.text=B3e,this.end=V3e,e=3;break;default:this.write=W3e,this.end=G3e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=LN.allocUnsafe(e)}Km.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Km.prototype.end=z3e;Km.prototype.text=F3e;Km.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function DN(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function M3e(t,e,r){var i=e.length-1;if(i<r)return 0;var n=DN(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=DN(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=DN(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function D3e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function L3e(t){var e=this.lastTotal-this.lastNeed,r=D3e(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function F3e(t,e){var r=M3e(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function z3e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function U3e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function H3e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function B3e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function V3e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function W3e(t){return t.toString(this.encoding)}function G3e(t){return t&&t.length?this.write(t):""}});var ow=w((vlt,PZ)=>{"use strict";var TZ=rc().codes.ERR_STREAM_PREMATURE_CLOSE;function K3e(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function J3e(){}function Y3e(t){return t.setHeader&&typeof t.abort=="function"}function $Z(t,e,r){if(typeof e=="function")return $Z(t,null,e);e||(e={}),r=K3e(r||J3e);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){n=!1,o=!0,i||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){i=!1,c=!0,n||r.call(t)},u=function(h){r.call(t,h)},f=function(){var h;if(i&&!c)return(!t._readableState||!t._readableState.ended)&&(h=new TZ),r.call(t,h);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(h=new TZ),r.call(t,h)},p=function(){t.req.on("finish",a)};return Y3e(t)?(t.on("complete",a),t.on("abort",f),t.req?p():t.on("request",p)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",f),function(){t.removeListener("complete",a),t.removeListener("abort",f),t.removeListener("request",p),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",u),t.removeListener("close",f)}}PZ.exports=$Z});var kZ=w((blt,OZ)=>{"use strict";var aw;function nc(t,e,r){return e=X3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X3e(t){var e=Z3e(t,"string");return typeof e=="symbol"?e:String(e)}function Z3e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q3e=ow(),sc=Symbol("lastResolve"),$l=Symbol("lastReject"),Jm=Symbol("error"),cw=Symbol("ended"),Pl=Symbol("lastPromise"),zN=Symbol("handlePromise"),Ol=Symbol("stream");function oc(t,e){return{value:t,done:e}}function eVe(t){var e=t[sc];if(e!==null){var r=t[Ol].read();r!==null&&(t[Pl]=null,t[sc]=null,t[$l]=null,e(oc(r,!1)))}}function tVe(t){process.nextTick(eVe,t)}function rVe(t,e){return function(r,i){t.then(function(){if(e[cw]){r(oc(void 0,!0));return}e[zN](r,i)},i)}}var iVe=Object.getPrototypeOf(function(){}),nVe=Object.setPrototypeOf((aw={get stream(){return this[Ol]},next:function(){var e=this,r=this[Jm];if(r!==null)return Promise.reject(r);if(this[cw])return Promise.resolve(oc(void 0,!0));if(this[Ol].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[Jm]?a(e[Jm]):o(oc(void 0,!0))})});var i=this[Pl],n;if(i)n=new Promise(rVe(i,this));else{var s=this[Ol].read();if(s!==null)return Promise.resolve(oc(s,!1));n=new Promise(this[zN])}return this[Pl]=n,n}},nc(aw,Symbol.asyncIterator,function(){return this}),nc(aw,"return",function(){var e=this;return new Promise(function(r,i){e[Ol].destroy(null,function(n){if(n){i(n);return}r(oc(void 0,!0))})})}),aw),iVe),sVe=function(e){var r,i=Object.create(nVe,(r={},nc(r,Ol,{value:e,writable:!0}),nc(r,sc,{value:null,writable:!0}),nc(r,$l,{value:null,writable:!0}),nc(r,Jm,{value:null,writable:!0}),nc(r,cw,{value:e._readableState.endEmitted,writable:!0}),nc(r,zN,{value:function(s,o){var a=i[Ol].read();a?(i[Pl]=null,i[sc]=null,i[$l]=null,s(oc(a,!1))):(i[sc]=s,i[$l]=o)},writable:!0}),r));return i[Pl]=null,Q3e(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[$l];s!==null&&(i[Pl]=null,i[sc]=null,i[$l]=null,s(n)),i[Jm]=n;return}var o=i[sc];o!==null&&(i[Pl]=null,i[sc]=null,i[$l]=null,o(oc(void 0,!0))),i[cw]=!0}),e.on("readable",tVe.bind(null,i)),i};OZ.exports=sVe});var IZ=w((_lt,NZ)=>{"use strict";function AZ(t,e,r,i,n,s,o){try{var a=t[s](o),c=a.value}catch(l){r(l);return}a.done?e(c):Promise.resolve(c).then(i,n)}function oVe(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var s=t.apply(e,r);function o(c){AZ(s,i,n,o,a,"next",c)}function a(c){AZ(s,i,n,o,a,"throw",c)}o(void 0)})}}function CZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function aVe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CZ(Object(r),!0).forEach(function(i){cVe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CZ(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function cVe(t,e,r){return e=lVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lVe(t){var e=uVe(t,"string");return typeof e=="symbol"?e:String(e)}function uVe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fVe=rc().codes.ERR_INVALID_ARG_TYPE;function dVe(t,e,r){var i;if(e&&typeof e.next=="function")i=e;else if(e&&e[Symbol.asyncIterator])i=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])i=e[Symbol.iterator]();else throw new fVe("iterable",["Iterable"],e);var n=new t(aVe({objectMode:!0},r)),s=!1;n._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=oVe(function*(){try{var c=yield i.next(),l=c.value,u=c.done;u?n.push(null):n.push(yield l)?o():s=!1}catch(f){n.destroy(f)}}),a.apply(this,arguments)}return n}NZ.exports=dVe});var qN=w((xlt,BZ)=>{"use strict";BZ.exports=_t;var Xf;_t.ReadableState=DZ;var wlt=require("events").EventEmitter,MZ=function(e,r){return e.listeners(r).length},Xm=TN(),lw=require("buffer").Buffer,pVe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function hVe(t){return lw.from(t)}function mVe(t){return lw.isBuffer(t)||t instanceof pVe}var UN=require("util"),Ge;UN&&UN.debuglog?Ge=UN.debuglog("stream"):Ge=function(){};var gVe=aZ(),JN=ON(),yVe=kN(),vVe=yVe.getHighWaterMark,uw=rc().codes,bVe=uw.ERR_INVALID_ARG_TYPE,_Ve=uw.ERR_STREAM_PUSH_AFTER_EOF,wVe=uw.ERR_METHOD_NOT_IMPLEMENTED,xVe=uw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Zf,HN,BN;Kt()(_t,Xm);var Ym=JN.errorOrDestroy,VN=["error","close","destroy","pause","resume"];function SVe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function DZ(t,e,r){Xf=Xf||Rl(),t=t||{},typeof r!="boolean"&&(r=e instanceof Xf),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=vVe(this,t,"readableHighWaterMark",r),this.buffer=new gVe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Zf||(Zf=FN().StringDecoder),this.decoder=new Zf(t.encoding),this.encoding=t.encoding)}function _t(t){if(Xf=Xf||Rl(),!(this instanceof _t))return new _t(t);var e=this instanceof Xf;this._readableState=new DZ(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Xm.call(this)}Object.defineProperty(_t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});_t.prototype.destroy=JN.destroy;_t.prototype._undestroy=JN.undestroy;_t.prototype._destroy=function(t,e){e(t)};_t.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=lw.from(t,e),e=""),i=!0),LZ(this,t,e,!1,i)};_t.prototype.unshift=function(t){return LZ(this,t,null,!0,!1)};function LZ(t,e,r,i,n){Ge("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,TVe(t,s);else{var o;if(n||(o=EVe(s,e)),o)Ym(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==lw.prototype&&(e=hVe(e)),i)s.endEmitted?Ym(t,new xVe):WN(t,s,e,!0);else if(s.ended)Ym(t,new _Ve);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?WN(t,s,e,!1):KN(t,s)):WN(t,s,e,!1)}else i||(s.reading=!1,KN(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function WN(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&fw(t)),KN(t,e)}function EVe(t,e){var r;return!mVe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new bVe("chunk",["string","Buffer","Uint8Array"],e)),r}_t.prototype.isPaused=function(){return this._readableState.flowing===!1};_t.prototype.setEncoding=function(t){Zf||(Zf=FN().StringDecoder);var e=new Zf(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var jZ=1073741824;function RVe(t){return t>=jZ?t=jZ:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function qZ(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=RVe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}_t.prototype.read=function(t){Ge("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ge("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?GN(this):fw(this),null;if(t=qZ(t,e),t===0&&e.ended)return e.length===0&&GN(this),null;var i=e.needReadable;Ge("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Ge("length less than watermark",i)),e.ended||e.reading?(i=!1,Ge("reading or ended",i)):i&&(Ge("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=qZ(r,e)));var n;return t>0?n=UZ(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&GN(this)),n!==null&&this.emit("data",n),n};function TVe(t,e){if(Ge("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?fw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,FZ(t)))}}function fw(t){var e=t._readableState;Ge("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ge("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(FZ,t))}function FZ(t){var e=t._readableState;Ge("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,YN(t)}function KN(t,e){e.readingMore||(e.readingMore=!0,process.nextTick($Ve,t,e))}function $Ve(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Ge("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}_t.prototype._read=function(t){Ym(this,new wVe("_read()"))};_t.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Ge("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:m;i.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(v,y){Ge("onunpipe"),v===r&&y&&y.hasUnpiped===!1&&(y.hasUnpiped=!0,u())}function a(){Ge("onend"),t.end()}var c=PVe(r);t.on("drain",c);var l=!1;function u(){Ge("cleanup"),t.removeListener("close",d),t.removeListener("finish",h),t.removeListener("drain",c),t.removeListener("error",p),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",f),l=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",f);function f(v){Ge("ondata");var y=t.write(v);Ge("dest.write",y),y===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&HZ(i.pipes,t)!==-1)&&!l&&(Ge("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function p(v){Ge("onerror",v),m(),t.removeListener("error",p),MZ(t,"error")===0&&Ym(t,v)}SVe(t,"error",p);function d(){t.removeListener("finish",h),m()}t.once("close",d);function h(){Ge("onfinish"),t.removeListener("close",d),m()}t.once("finish",h);function m(){Ge("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Ge("pipe resume"),r.resume()),t};function PVe(t){return function(){var r=t._readableState;Ge("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&MZ(t,"data")&&(r.flowing=!0,YN(t))}}_t.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=HZ(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};_t.prototype.on=function(t,e){var r=Xm.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Ge("on readable",i.length,i.reading),i.length?fw(this):i.reading||process.nextTick(OVe,this)),r};_t.prototype.addListener=_t.prototype.on;_t.prototype.removeListener=function(t,e){var r=Xm.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(zZ,this),r};_t.prototype.removeAllListeners=function(t){var e=Xm.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(zZ,this),e};function zZ(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function OVe(t){Ge("readable nexttick read 0"),t.read(0)}_t.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ge("resume"),t.flowing=!t.readableListening,kVe(this,t)),t.paused=!1,this};function kVe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(AVe,t,e))}function AVe(t,e){Ge("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),YN(t),e.flowing&&!e.reading&&t.read(0)}_t.prototype.pause=function(){return Ge("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ge("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function YN(t){var e=t._readableState;for(Ge("flow",e.flowing);e.flowing&&t.read()!==null;);}_t.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Ge("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ge("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(a){return function(){return t[a].apply(t,arguments)}}(n));for(var s=0;s<VN.length;s++)t.on(VN[s],this.emit.bind(this,VN[s]));return this._read=function(o){Ge("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(_t.prototype[Symbol.asyncIterator]=function(){return HN===void 0&&(HN=kZ()),HN(this)});Object.defineProperty(_t.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(_t.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(_t.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});_t._fromList=UZ;Object.defineProperty(_t.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function UZ(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function GN(t){var e=t._readableState;Ge("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(CVe,e,t))}function CVe(t,e){if(Ge("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(_t.from=function(t,e){return BN===void 0&&(BN=IZ()),BN(_t,t,e)});function HZ(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var XN=w((Slt,WZ)=>{"use strict";WZ.exports=oa;var dw=rc().codes,NVe=dw.ERR_METHOD_NOT_IMPLEMENTED,IVe=dw.ERR_MULTIPLE_CALLBACK,jVe=dw.ERR_TRANSFORM_ALREADY_TRANSFORMING,qVe=dw.ERR_TRANSFORM_WITH_LENGTH_0,pw=Rl();Kt()(oa,pw);function MVe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new IVe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function oa(t){if(!(this instanceof oa))return new oa(t);pw.call(this,t),this._transformState={afterTransform:MVe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",DVe)}function DVe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){VZ(t,e,r)}):VZ(this,null,null)}oa.prototype.push=function(t,e){return this._transformState.needTransform=!1,pw.prototype.push.call(this,t,e)};oa.prototype._transform=function(t,e,r){r(new NVe("_transform()"))};oa.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};oa.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};oa.prototype._destroy=function(t,e){pw.prototype._destroy.call(this,t,function(r){e(r)})};function VZ(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new qVe;if(t._transformState.transforming)throw new jVe;return t.push(null)}});var JZ=w((Elt,KZ)=>{"use strict";KZ.exports=Zm;var GZ=XN();Kt()(Zm,GZ);function Zm(t){if(!(this instanceof Zm))return new Zm(t);GZ.call(this,t)}Zm.prototype._transform=function(t,e,r){r(null,t)}});var eQ=w((Rlt,QZ)=>{"use strict";var ZN;function LVe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var ZZ=rc().codes,FVe=ZZ.ERR_MISSING_ARGS,zVe=ZZ.ERR_STREAM_DESTROYED;function YZ(t){if(t)throw t}function UVe(t){return t.setHeader&&typeof t.abort=="function"}function HVe(t,e,r,i){i=LVe(i);var n=!1;t.on("close",function(){n=!0}),ZN===void 0&&(ZN=ow()),ZN(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,UVe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new zVe("pipe"))}}}function XZ(t){t()}function BVe(t,e){return t.pipe(e)}function VVe(t){return!t.length||typeof t[t.length-1]!="function"?YZ:t.pop()}function WVe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=VVe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new FVe("streams");var n,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return HVe(o,c,l,function(u){n||(n=u),u&&s.forEach(XZ),!c&&(s.forEach(XZ),i(n))})});return e.reduce(BVe)}QZ.exports=WVe});var tQ=w((Mn,eg)=>{var Qm=require("stream");process.env.READABLE_STREAM==="disable"&&Qm?(eg.exports=Qm.Readable,Object.assign(eg.exports,Qm),eg.exports.Stream=Qm):(Mn=eg.exports=qN(),Mn.Stream=Qm||Mn,Mn.Readable=Mn,Mn.Writable=NN(),Mn.Duplex=Rl(),Mn.Transform=XN(),Mn.PassThrough=JZ(),Mn.finished=ow(),Mn.pipeline=eQ())});var oQ=w((Tlt,sQ)=>{var hw=tQ(),rQ=y_(),GVe=Kt(),KVe=YC(),iQ=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),QN=function(t,e){t._corked?t.once("uncork",e):e()},JVe=function(t,e){t._autoDestroy&&t.destroy(e)},nQ=function(t,e){return function(r){r?JVe(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},YVe=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},XVe=function(){},ZVe=function(t){return new hw.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},si=function(t,e,r){if(!(this instanceof si))return new si(t,e,r);hw.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};GVe(si,hw.Duplex);si.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new si(t,e,r)};si.prototype.cork=function(){++this._corked===1&&this.emit("cork")};si.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};si.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=rQ(t,{writable:!0,readable:!1},nQ(this,this._forwardEnd)),i=function(){var s=e._ondrain;e._ondrain=null,s&&s()},n=function(){e._writable.removeListener("drain",i),r()};this._unwrite&&process.nextTick(i),this._writable=t,this._writable.on("drain",i),this._unwrite=n,this.uncork()};si.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=rQ(t,{writable:!1,readable:!0},nQ(this)),i=function(){e._forward()},n=function(){e.push(null)},s=function(){e._readable2.removeListener("readable",i),e._readable2.removeListener("end",n),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:ZVe(t),this._readable2.on("readable",i),this._readable2.on("end",n),this._unread=s,this._forward()};si.prototype._read=function(){this._drained=!0,this._forward()};si.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=KVe(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};si.prototype.destroy=function(t,e){if(e||(e=XVe),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(t),e(null)})};si.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};si.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return QN(this,this._write.bind(this,t,e,r));if(t===iQ)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};si.prototype._finish=function(t){var e=this;this.emit("preend"),QN(this,function(){YVe(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),QN(e,t)})})};si.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(iQ),hw.Writable.prototype.end.call(this,r))};sQ.exports=si});var lQ=w(($lt,mw)=>{var QVe=RC(),e6e=Kt(),aQ=oQ(),cQ=function(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]},eI=function(t){var e=function(){var r=cQ(arguments);if(!(this instanceof e))return new e(r);aQ.call(this,null,null,t),r.length&&this.setPipeline(r)};return e6e(e,aQ),e.prototype.setPipeline=function(){var r=cQ(arguments),i=this,n=!1,s=r[0],o=r[r.length-1];o=o.readable?o:null,s=s.writable?s:null;var a=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",function(){n||i.cork()}),QVe(r,function(c){if(i.removeListener("close",a),c)return i.destroy(c.message==="premature close"?null:c);n=!0,i._autoDestroy===!1&&(i._autoDestroy=!0),i.uncork()}),this.destroyed)return a();this.setWritable(s),this.setReadable(o)},e};mw.exports=eI({autoDestroy:!1,destroy:!1});mw.exports.obj=eI({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16});mw.exports.ctor=eI});var mr=w((Plt,uQ)=>{"use strict";uQ.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var _Q=w((ig,rg)=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});var gQ=new WeakMap,tI=new WeakMap;function cr(t){let e=gQ.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function fQ(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function Qf(t,e){gQ.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let i=0;i<r.length;++i){let n=r[i];n in this||Object.defineProperty(this,n,yQ(n))}}Qf.prototype={get type(){return cr(this).event.type},get target(){return cr(this).eventTarget},get currentTarget(){return cr(this).currentTarget},composedPath(){let t=cr(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return cr(this).eventPhase},stopPropagation(){let t=cr(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=cr(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!cr(this).event.bubbles},get cancelable(){return!!cr(this).event.cancelable},preventDefault(){fQ(cr(this))},get defaultPrevented(){return cr(this).canceled},get composed(){return!!cr(this).event.composed},get timeStamp(){return cr(this).timeStamp},get srcElement(){return cr(this).eventTarget},get cancelBubble(){return cr(this).stopped},set cancelBubble(t){if(!t)return;let e=cr(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!cr(this).canceled},set returnValue(t){t||fQ(cr(this))},initEvent(){}};Object.defineProperty(Qf.prototype,"constructor",{value:Qf,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Qf.prototype,window.Event.prototype),tI.set(window.Event.prototype,Qf));function yQ(t){return{get(){return cr(this).event[t]},set(e){cr(this).event[t]=e},configurable:!0,enumerable:!0}}function t6e(t){return{value(){let e=cr(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function r6e(t,e){let r=Object.keys(e);if(r.length===0)return t;function i(n,s){t.call(this,n,s)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){let s=r[n];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(i.prototype,s,a?t6e(s):yQ(s))}}return i}function vQ(t){if(t==null||t===Object.prototype)return Qf;let e=tI.get(t);return e==null&&(e=r6e(vQ(Object.getPrototypeOf(t)),t),tI.set(t,e)),e}function i6e(t,e){let r=vQ(Object.getPrototypeOf(e));return new r(t,e)}function n6e(t){return cr(t).immediateStopped}function s6e(t,e){cr(t).eventPhase=e}function o6e(t,e){cr(t).currentTarget=e}function dQ(t,e){cr(t).passiveListener=e}var bQ=new WeakMap,pQ=1,hQ=2,gw=3;function yw(t){return t!==null&&typeof t=="object"}function tg(t){let e=bQ.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function a6e(t){return{get(){let r=tg(this).get(t);for(;r!=null;){if(r.listenerType===gw)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!yw(e)&&(e=null);let r=tg(this),i=null,n=r.get(t);for(;n!=null;)n.listenerType===gw?i!==null?i.next=n.next:n.next!==null?r.set(t,n.next):r.delete(t):i=n,n=n.next;if(e!==null){let s={listener:e,listenerType:gw,passive:!1,once:!1,next:null};i===null?r.set(t,s):i.next=s}},configurable:!0,enumerable:!0}}function rI(t,e){Object.defineProperty(t,`on${e}`,a6e(e))}function mQ(t){function e(){_s.call(this)}e.prototype=Object.create(_s.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)rI(e.prototype,t[r]);return e}function _s(){if(this instanceof _s){bQ.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return mQ(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return mQ(t)}throw new TypeError("Cannot call a class as a function")}_s.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!yw(e))throw new TypeError("'listener' should be a function or an object.");let i=tg(this),n=yw(r),o=(n?!!r.capture:!!r)?pQ:hQ,a={listener:e,listenerType:o,passive:n&&!!r.passive,once:n&&!!r.once,next:null},c=i.get(t);if(c===void 0){i.set(t,a);return}let l=null;for(;c!=null;){if(c.listener===e&&c.listenerType===o)return;l=c,c=c.next}l.next=a},removeEventListener(t,e,r){if(e==null)return;let i=tg(this),s=(yw(r)?!!r.capture:!!r)?pQ:hQ,o=null,a=i.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?i.set(t,a.next):i.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=tg(this),r=t.type,i=e.get(r);if(i==null)return!0;let n=i6e(this,t),s=null;for(;i!=null;){if(i.once?s!==null?s.next=i.next:i.next!==null?e.set(r,i.next):e.delete(r):s=i,dQ(n,i.passive?i.listener:null),typeof i.listener=="function")try{i.listener.call(this,n)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else i.listenerType!==gw&&typeof i.listener.handleEvent=="function"&&i.listener.handleEvent(n);if(n6e(n))break;i=i.next}return dQ(n,null),s6e(n,0),o6e(n,null),!n.defaultPrevented}};Object.defineProperty(_s.prototype,"constructor",{value:_s,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(_s.prototype,window.EventTarget.prototype);ig.defineEventAttribute=rI;ig.EventTarget=_s;ig.default=_s;rg.exports=_s;rg.exports.EventTarget=rg.exports.default=_s;rg.exports.defineEventAttribute=rI});var ed=w((sg,ng)=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});var iI=_Q(),ac=class extends iI.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=vw.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};iI.defineEventAttribute(ac.prototype,"abort");function c6e(){let t=Object.create(ac.prototype);return iI.EventTarget.call(t),vw.set(t,!1),t}function l6e(t){vw.get(t)===!1&&(vw.set(t,!0),t.dispatchEvent({type:"abort"}))}var vw=new WeakMap;Object.defineProperties(ac.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ac.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var cc=class{constructor(){xQ.set(this,c6e())}get signal(){return wQ(this)}abort(){l6e(wQ(this))}},xQ=new WeakMap;function wQ(t){let e=xQ.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(cc.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(cc.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});sg.AbortController=cc;sg.AbortSignal=ac;sg.default=cc;ng.exports=cc;ng.exports.AbortController=ng.exports.default=cc;ng.exports.AbortSignal=ac});var $i=w((Olt,sI)=>{"use strict";var u6e=require("buffer"),{kResistStopPropagation:f6e,SymbolDispose:d6e}=mr(),p6e=globalThis.AbortSignal||ed().AbortSignal,h6e=globalThis.AbortController||ed().AbortController,m6e=Object.getPrototypeOf(async function(){}).constructor,SQ=globalThis.Blob||u6e.Blob,g6e=typeof SQ<"u"?function(e){return e instanceof SQ}:function(e){return!1},EQ=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)},y6e=(t,e)=>{if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE(e,"Function",t)},nI=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e}};sI.exports={AggregateError:nI,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((i,n)=>{t=i,e=n}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof m6e},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:g6e,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);EQ(e,"signal"),y6e(r,"listener");let i;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[f6e]:!0}),i=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[d6e](){var n;(n=i)===null||n===void 0||n()}}},AbortSignalAny:p6e.any||function(e){if(e.length===1)return e[0];let r=new h6e,i=()=>r.abort();return e.forEach(n=>{EQ(n,"signals"),n.addEventListener("abort",i,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(n=>n.removeEventListener("abort",i))},{once:!0}),r.signal}};sI.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Hi=w((klt,$Q)=>{"use strict";var{format:v6e,inspect:bw,AggregateError:b6e}=$i(),_6e=globalThis.AggregateError||b6e,w6e=Symbol("kIsNodeError"),x6e=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S6e=/^([A-Z][a-z0-9]*)+$/,E6e="__node_internal_",_w={};function kl(t,e){if(!t)throw new _w.ERR_INTERNAL_ASSERTION(e)}function RQ(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function R6e(t,e,r){if(typeof e=="function")return kl(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return kl(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:v6e(e,...r)}function oi(t,e,r){r||(r=Error);class i extends r{constructor(...s){super(R6e(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[w6e]=!0,_w[t]=i}function TQ(t){let e=E6e+t.name;return Object.defineProperty(t,"name",{value:e}),t}function T6e(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new _6e([e,t],e.message);return r.code=e.code,r}return t||e}var oI=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new _w.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};oi("ERR_ASSERTION","%s",Error);oi("ERR_INVALID_ARG_TYPE",(t,e,r)=>{kl(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],s=[],o=[];for(let c of e)kl(typeof c=="string","All expected entries have to be of type string"),x6e.includes(c)?n.push(c.toLowerCase()):S6e.test(c)?s.push(c):(kl(c!=="object",'The value "object" should be written as "Object"'),o.push(c));if(s.length>0){let c=n.indexOf("object");c!==-1&&(n.splice(n,c,1),s.push("Object"))}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let c=n.pop();i+=`one of type ${n.join(", ")}, or ${c}`}}(s.length>0||o.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+=`an instance of ${s[0]}`;break;case 2:i+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let c=s.pop();i+=`an instance of ${s.join(", ")}, or ${c}`}}o.length>0&&(i+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(i+="an "),i+=`${o[0]}`;break;case 2:i+=`one of ${o[0]} or ${o[1]}`;break;default:{let c=o.pop();i+=`one of ${o.join(", ")}, or ${c}`}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)i+=`. Received an instance of ${r.constructor.name}`;else{let c=bw(r,{depth:-1});i+=`. Received ${c}`}}else{let c=bw(r,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),i+=`. Received type ${typeof r} (${c})`}return i},TypeError);oi("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=bw(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);oi("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);oi("ERR_MISSING_ARGS",(...t)=>{kl(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);oi("ERR_OUT_OF_RANGE",(t,e,r)=>{kl(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=RQ(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=RQ(i)),i+="n"):i=bw(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);oi("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);oi("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);oi("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);oi("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);oi("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);oi("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);oi("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);oi("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);oi("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);oi("ERR_STREAM_WRITE_AFTER_END","write after end",Error);oi("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);$Q.exports={AbortError:oI,aggregateTwoErrors:TQ(T6e),hideStackFrames:TQ,codes:_w}});var rd=w((Alt,MQ)=>{"use strict";var{ArrayIsArray:cI,ArrayPrototypeIncludes:AQ,ArrayPrototypeJoin:CQ,ArrayPrototypeMap:$6e,NumberIsInteger:lI,NumberIsNaN:P6e,NumberMAX_SAFE_INTEGER:O6e,NumberMIN_SAFE_INTEGER:k6e,NumberParseInt:A6e,ObjectPrototypeHasOwnProperty:C6e,RegExpPrototypeExec:NQ,String:N6e,StringPrototypeToUpperCase:I6e,StringPrototypeTrim:j6e}=mr(),{hideStackFrames:Dn,codes:{ERR_SOCKET_BAD_PORT:q6e,ERR_INVALID_ARG_TYPE:Pi,ERR_INVALID_ARG_VALUE:td,ERR_OUT_OF_RANGE:Al,ERR_UNKNOWN_SIGNAL:PQ}}=Hi(),{normalizeEncoding:M6e}=$i(),{isAsyncFunction:D6e,isArrayBufferView:L6e}=$i().types,OQ={};function F6e(t){return t===(t|0)}function z6e(t){return t===t>>>0}var U6e=/^[0-7]+$/,H6e="must be a 32-bit unsigned integer or an octal string";function B6e(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(NQ(U6e,t)===null)throw new td(e,t,H6e);t=A6e(t,8)}return IQ(t,e),t}var V6e=Dn((t,e,r=k6e,i=O6e)=>{if(typeof t!="number")throw new Pi(e,"number",t);if(!lI(t))throw new Al(e,"an integer",t);if(t<r||t>i)throw new Al(e,`>= ${r} && <= ${i}`,t)}),W6e=Dn((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new Pi(e,"number",t);if(!lI(t))throw new Al(e,"an integer",t);if(t<r||t>i)throw new Al(e,`>= ${r} && <= ${i}`,t)}),IQ=Dn((t,e,r=!1)=>{if(typeof t!="number")throw new Pi(e,"number",t);if(!lI(t))throw new Al(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new Al(e,`>= ${i} && <= ${n}`,t)});function uI(t,e){if(typeof t!="string")throw new Pi(e,"string",t)}function G6e(t,e,r=void 0,i){if(typeof t!="number")throw new Pi(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&P6e(t))throw new Al(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var K6e=Dn((t,e,r)=>{if(!AQ(r,t)){let n="must be one of: "+CQ($6e(r,s=>typeof s=="string"?`'${s}'`:N6e(s)),", ");throw new td(e,t,n)}});function jQ(t,e){if(typeof t!="boolean")throw new Pi(e,"boolean",t)}function aI(t,e,r){return t==null||!C6e(t,e)?r:t[e]}var J6e=Dn((t,e,r=null)=>{let i=aI(r,"allowArray",!1),n=aI(r,"allowFunction",!1);if(!aI(r,"nullable",!1)&&t===null||!i&&cI(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new Pi(e,"Object",t)}),Y6e=Dn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Pi(e,"a dictionary",t)}),ww=Dn((t,e,r=0)=>{if(!cI(t))throw new Pi(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new td(e,t,i)}});function X6e(t,e){ww(t,e);for(let r=0;r<t.length;r++)uI(t[r],`${e}[${r}]`)}function Z6e(t,e){ww(t,e);for(let r=0;r<t.length;r++)jQ(t[r],`${e}[${r}]`)}function Q6e(t,e){ww(t,e);for(let r=0;r<t.length;r++){let i=t[r],n=`${e}[${r}]`;if(i==null)throw new Pi(n,"AbortSignal",i);qQ(i,n)}}function e5e(t,e="signal"){if(uI(t,e),OQ[t]===void 0)throw OQ[I6e(t)]!==void 0?new PQ(t+" (signals must use all capital letters)"):new PQ(t)}var t5e=Dn((t,e="buffer")=>{if(!L6e(t))throw new Pi(e,["Buffer","TypedArray","DataView"],t)});function r5e(t,e){let r=M6e(e),i=t.length;if(r==="hex"&&i%2!==0)throw new td("encoding",e,`is invalid for data of length ${i}`)}function i5e(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&j6e(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new q6e(e,t,r);return t|0}var qQ=Dn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Pi(e,"AbortSignal",t)}),n5e=Dn((t,e)=>{if(typeof t!="function")throw new Pi(e,"Function",t)}),s5e=Dn((t,e)=>{if(typeof t!="function"||D6e(t))throw new Pi(e,"Function",t)}),o5e=Dn((t,e)=>{if(t!==void 0)throw new Pi(e,"undefined",t)});function a5e(t,e,r){if(!AQ(r,t))throw new Pi(e,`('${CQ(r,"|")}')`,t)}var c5e=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function kQ(t,e){if(typeof t>"u"||!NQ(c5e,t))throw new td(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function l5e(t){if(typeof t=="string")return kQ(t,"hints"),t;if(cI(t)){let e=t.length,r="";if(e===0)return r;for(let i=0;i<e;i++){let n=t[i];kQ(n,"hints"),r+=n,i!==e-1&&(r+=", ")}return r}throw new td("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}MQ.exports={isInt32:F6e,isUint32:z6e,parseFileMode:B6e,validateArray:ww,validateStringArray:X6e,validateBooleanArray:Z6e,validateAbortSignalArray:Q6e,validateBoolean:jQ,validateBuffer:t5e,validateDictionary:Y6e,validateEncoding:r5e,validateFunction:n5e,validateInt32:W6e,validateInteger:V6e,validateNumber:G6e,validateObject:J6e,validateOneOf:K6e,validatePlainFunction:s5e,validatePort:i5e,validateSignalName:e5e,validateString:uI,validateUint32:IQ,validateUndefined:o5e,validateUnion:a5e,validateAbortSignal:qQ,validateLinkHeaderValue:l5e}});var lc=w((Clt,DQ)=>{DQ.exports=global.process});var ro=w((Nlt,QQ)=>{"use strict";var{SymbolAsyncIterator:LQ,SymbolIterator:FQ,SymbolFor:Cl}=mr(),zQ=Cl("nodejs.stream.destroyed"),UQ=Cl("nodejs.stream.errored"),fI=Cl("nodejs.stream.readable"),dI=Cl("nodejs.stream.writable"),HQ=Cl("nodejs.stream.disturbed"),u5e=Cl("nodejs.webstream.isClosedPromise"),f5e=Cl("nodejs.webstream.controllerErrorFunction");function xw(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Sw(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function d5e(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function to(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function BQ(t){return!!(t&&!to(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function VQ(t){return!!(t&&!to(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function WQ(t){return!!(t&&!to(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function p5e(t){return BQ(t)||VQ(t)||WQ(t)}function h5e(t,e){return t==null?!1:e===!0?typeof t[LQ]=="function":e===!1?typeof t[FQ]=="function":typeof t[LQ]=="function"||typeof t[FQ]=="function"}function Ew(t){if(!to(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[zQ]||i!=null&&i.destroyed)}function GQ(t){if(!Sw(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function m5e(t,e){if(!Sw(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function g5e(t){if(!xw(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function KQ(t,e){if(!xw(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function JQ(t){return t&&t[fI]!=null?t[fI]:typeof t?.readable!="boolean"?null:Ew(t)?!1:xw(t)&&t.readable&&!KQ(t)}function YQ(t){return t&&t[dI]!=null?t[dI]:typeof t?.writable!="boolean"?null:Ew(t)?!1:Sw(t)&&t.writable&&!GQ(t)}function y5e(t,e){return to(t)?Ew(t)?!0:!(e?.readable!==!1&&JQ(t)||e?.writable!==!1&&YQ(t)):null}function v5e(t){var e,r;return to(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function b5e(t){var e,r;return to(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function _5e(t){if(!to(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&XQ(t)?t._closed:null}function XQ(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function ZQ(t){return typeof t._sent100=="boolean"&&XQ(t)}function w5e(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function x5e(t){if(!to(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!i&&ZQ(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function S5e(t){var e;return!!(t&&((e=t[HQ])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function E5e(t){var e,r,i,n,s,o,a,c,l,u;return!!(t&&((e=(r=(i=(n=(s=(o=t[UQ])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&n!==void 0?n:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&i!==void 0?i:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}QQ.exports={isDestroyed:Ew,kIsDestroyed:zQ,isDisturbed:S5e,kIsDisturbed:HQ,isErrored:E5e,kIsErrored:UQ,isReadable:JQ,kIsReadable:fI,kIsClosedPromise:u5e,kControllerErrorFunction:f5e,kIsWritable:dI,isClosed:_5e,isDuplexNodeStream:d5e,isFinished:y5e,isIterable:h5e,isReadableNodeStream:xw,isReadableStream:BQ,isReadableEnded:g5e,isReadableFinished:KQ,isReadableErrored:b5e,isNodeStream:to,isWebStream:p5e,isWritable:YQ,isWritableNodeStream:Sw,isWritableStream:VQ,isWritableEnded:GQ,isWritableFinished:m5e,isWritableErrored:v5e,isServerRequest:w5e,isServerResponse:ZQ,willEmitClose:x5e,isTransformStream:WQ}});var aa=w((Ilt,yI)=>{var uc=lc(),{AbortError:cee,codes:R5e}=Hi(),{ERR_INVALID_ARG_TYPE:T5e,ERR_STREAM_PREMATURE_CLOSE:eee}=R5e,{kEmptyObject:hI,once:mI}=$i(),{validateAbortSignal:$5e,validateFunction:P5e,validateObject:O5e,validateBoolean:k5e}=rd(),{Promise:A5e,PromisePrototypeThen:C5e,SymbolDispose:lee}=mr(),{isClosed:N5e,isReadable:tee,isReadableNodeStream:pI,isReadableStream:I5e,isReadableFinished:ree,isReadableErrored:iee,isWritable:nee,isWritableNodeStream:see,isWritableStream:j5e,isWritableFinished:oee,isWritableErrored:aee,isNodeStream:q5e,willEmitClose:M5e,kIsClosedPromise:D5e}=ro(),id;function L5e(t){return t.setHeader&&typeof t.abort=="function"}var gI=()=>{};function uee(t,e,r){var i,n;if(arguments.length===2?(r=e,e=hI):e==null?e=hI:O5e(e,"options"),P5e(r,"callback"),$5e(e.signal,"options.signal"),r=mI(r),I5e(t)||j5e(t))return F5e(t,e,r);if(!q5e(t))throw new T5e("stream",["ReadableStream","WritableStream","Stream"],t);let s=(i=e.readable)!==null&&i!==void 0?i:pI(t),o=(n=e.writable)!==null&&n!==void 0?n:see(t),a=t._writableState,c=t._readableState,l=()=>{t.writable||p()},u=M5e(t)&&pI(t)===s&&see(t)===o,f=oee(t,!1),p=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||d)&&r.call(t)},d=ree(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||f)&&r.call(t)},m=$=>{r.call(t,$)},v=N5e(t),y=()=>{v=!0;let $=aee(t)||iee(t);if($&&typeof $!="boolean")return r.call(t,$);if(s&&!d&&pI(t,!0)&&!ree(t,!1))return r.call(t,new eee);if(o&&!f&&!oee(t,!1))return r.call(t,new eee);r.call(t)},E=()=>{v=!0;let $=aee(t)||iee(t);if($&&typeof $!="boolean")return r.call(t,$);r.call(t)},_=()=>{t.req.on("finish",p)};L5e(t)?(t.on("complete",p),u||t.on("abort",y),t.req?_():t.on("request",_)):o&&!a&&(t.on("end",l),t.on("close",l)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",h),t.on("finish",p),e.error!==!1&&t.on("error",m),t.on("close",y),v?uc.nextTick(y):a!=null&&a.errorEmitted||c!=null&&c.errorEmitted?u||uc.nextTick(E):(!s&&(!u||tee(t))&&(f||nee(t)===!1)||!o&&(!u||nee(t))&&(d||tee(t)===!1)||c&&t.req&&t.aborted)&&uc.nextTick(E);let b=()=>{r=gI,t.removeListener("aborted",y),t.removeListener("complete",p),t.removeListener("abort",y),t.removeListener("request",_),t.req&&t.req.removeListener("finish",p),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",p),t.removeListener("end",h),t.removeListener("error",m),t.removeListener("close",y)};if(e.signal&&!v){let $=()=>{let k=r;b(),k.call(t,new cee(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)uc.nextTick($);else{id=id||$i().addAbortListener;let k=id(e.signal,$),O=r;r=mI((...N)=>{k[lee](),O.apply(t,N)})}}return b}function F5e(t,e,r){let i=!1,n=gI;if(e.signal)if(n=()=>{i=!0,r.call(t,new cee(void 0,{cause:e.signal.reason}))},e.signal.aborted)uc.nextTick(n);else{id=id||$i().addAbortListener;let o=id(e.signal,n),a=r;r=mI((...c)=>{o[lee](),a.apply(t,c)})}let s=(...o)=>{i||uc.nextTick(()=>r.apply(t,o))};return C5e(t[D5e].promise,s,s),gI}function z5e(t,e){var r;let i=!1;return e===null&&(e=hI),(r=e)!==null&&r!==void 0&&r.cleanup&&(k5e(e.cleanup,"cleanup"),i=e.cleanup),new A5e((n,s)=>{let o=uee(t,e,a=>{i&&o(),a?s(a):n()})})}yI.exports=uee;yI.exports.finished=z5e});var Nl=w((jlt,vee)=>{"use strict";var io=lc(),{aggregateTwoErrors:U5e,codes:{ERR_MULTIPLE_CALLBACK:H5e},AbortError:B5e}=Hi(),{Symbol:pee}=mr(),{kIsDestroyed:V5e,isDestroyed:W5e,isFinished:G5e,isServerRequest:K5e}=ro(),hee=pee("kDestroy"),vI=pee("kConstruct");function mee(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function J5e(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(mee(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?fee(this,t,e):this.once(hee,function(s){fee(this,U5e(s,t),e)}),this)}function fee(t,e,r){let i=!1;function n(s){if(i)return;i=!0;let o=t._readableState,a=t._writableState;mee(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?io.nextTick(Y5e,t,s):io.nextTick(gee,t)}try{t._destroy(e||null,n)}catch(s){n(s)}}function Y5e(t,e){bI(t,e),gee(t)}function gee(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function bI(t,e){let r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function X5e(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function _I(t,e,r){let i=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?io.nextTick(bI,t,e):bI(t,e))}function Z5e(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(vI,e),!(t.listenerCount(vI)>1)&&io.nextTick(Q5e,t)}function Q5e(t){let e=!1;function r(i){if(e){_I(t,i??new H5e);return}e=!0;let n=t._readableState,s=t._writableState,o=s||n;n&&(n.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(hee,i):i?_I(t,i,!0):io.nextTick(e9e,t)}try{t._construct(i=>{io.nextTick(r,i)})}catch(i){io.nextTick(r,i)}}function e9e(t){t.emit(vI)}function dee(t){return t?.setHeader&&typeof t.abort=="function"}function yee(t){t.emit("close")}function t9e(t,e){t.emit("error",e),io.nextTick(yee,t)}function r9e(t,e){!t||W5e(t)||(!e&&!G5e(t)&&(e=new B5e),K5e(t)?(t.socket=null,t.destroy(e)):dee(t)?t.abort():dee(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?io.nextTick(t9e,t,e):io.nextTick(yee,t),t.destroyed||(t[V5e]=!0))}vee.exports={construct:Z5e,destroyer:r9e,destroy:J5e,undestroy:X5e,errorOrDestroy:_I}});var $w=w((qlt,_ee)=>{"use strict";var{ArrayIsArray:i9e,ObjectSetPrototypeOf:bee}=mr(),{EventEmitter:Rw}=require("events");function Tw(t){Rw.call(this,t)}bee(Tw.prototype,Rw.prototype);bee(Tw,Rw);Tw.prototype.pipe=function(t,e){let r=this;function i(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function c(u){l(),Rw.listenerCount(this,"error")===0&&this.emit("error",u)}wI(r,"error",c),wI(t,"error",c);function l(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t};function wI(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):i9e(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}_ee.exports={Stream:Tw,prependListener:wI}});var og=w((Mlt,Pw)=>{"use strict";var{SymbolDispose:n9e}=mr(),{AbortError:wee,codes:s9e}=Hi(),{isNodeStream:xee,isWebStream:o9e,kControllerErrorFunction:a9e}=ro(),c9e=aa(),{ERR_INVALID_ARG_TYPE:See}=s9e,xI,l9e=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new See(e,"AbortSignal",t)};Pw.exports.addAbortSignal=function(e,r){if(l9e(e,"signal"),!xee(r)&&!o9e(r))throw new See("stream",["ReadableStream","WritableStream","Stream"],r);return Pw.exports.addAbortSignalNoValidate(e,r)};Pw.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=xee(e)?()=>{e.destroy(new wee(void 0,{cause:t.reason}))}:()=>{e[a9e](new wee(void 0,{cause:t.reason}))};if(t.aborted)r();else{xI=xI||$i().addAbortListener;let i=xI(t,r);c9e(e,i[n9e])}return e}});var Tee=w((Llt,Ree)=>{"use strict";var{StringPrototypeSlice:Eee,SymbolIterator:u9e,TypedArrayPrototypeSet:Ow,Uint8Array:f9e}=mr(),{Buffer:SI}=require("buffer"),{inspect:d9e}=$i();Ree.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return SI.alloc(0);let r=SI.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)Ow(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[u9e](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",i=this.head,n=0;do{let s=i.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=Eee(s,0,e),this.head=i,i.data=Eee(s,e));break}++n}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=SI.allocUnsafe(e),i=e,n=this.head,s=0;do{let o=n.data;if(e>o.length)Ow(r,o,i-e),e-=o.length;else{e===o.length?(Ow(r,o,i-e),++s,n.next?this.head=n.next:this.head=this.tail=null):(Ow(r,new f9e(o.buffer,o.byteOffset,e),i-e),this.head=n,n.data=o.slice(e));break}++s}while((n=n.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return d9e(this,{...r,depth:0,customInspect:!1})}}});var ag=w((Flt,kee)=>{"use strict";var{MathFloor:p9e,NumberIsInteger:h9e}=mr(),{validateInteger:m9e}=rd(),{ERR_INVALID_ARG_VALUE:g9e}=Hi().codes,$ee=16*1024,Pee=16;function y9e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Oee(t){return t?Pee:$ee}function v9e(t,e){m9e(e,"value",0),t?Pee=e:$ee=e}function b9e(t,e,r,i){let n=y9e(e,i,r);if(n!=null){if(!h9e(n)||n<0){let s=i?`options.${r}`:"options.highWaterMark";throw new g9e(s,n)}return p9e(n)}return Oee(t.objectMode)}kee.exports={getHighWaterMark:b9e,getDefaultHighWaterMark:Oee,setDefaultHighWaterMark:v9e}});var EI=w((zlt,Iee)=>{"use strict";var Aee=lc(),{PromisePrototypeThen:_9e,SymbolAsyncIterator:Cee,SymbolIterator:Nee}=mr(),{Buffer:w9e}=require("buffer"),{ERR_INVALID_ARG_TYPE:x9e,ERR_STREAM_NULL_VALUES:S9e}=Hi().codes;function E9e(t,e,r){let i;if(typeof e=="string"||e instanceof w9e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let n;if(e&&e[Cee])n=!0,i=e[Cee]();else if(e&&e[Nee])n=!1,i=e[Nee]();else throw new x9e("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,c())},s._destroy=function(l,u){_9e(a(l),()=>Aee.nextTick(u,l),f=>Aee.nextTick(u,f||l))};async function a(l){let u=l!=null,f=typeof i.throw=="function";if(u&&f){let{value:p,done:d}=await i.throw(l);if(await p,d)return}if(typeof i.return=="function"){let{value:p}=await i.return();await p}}async function c(){for(;;){try{let{value:l,done:u}=n?await i.next():i.next();if(u)s.push(null);else{let f=l&&typeof l.then=="function"?await l:l;if(f===null)throw o=!1,new S9e;if(s.push(f))continue;o=!1}}catch(l){s.destroy(l)}break}}return s}Iee.exports=E9e});var lg=w((Ult,Zee)=>{var ws=lc(),{ArrayPrototypeIndexOf:R9e,NumberIsInteger:T9e,NumberIsNaN:$9e,NumberParseInt:P9e,ObjectDefineProperties:CI,ObjectKeys:O9e,ObjectSetPrototypeOf:Mee,Promise:Dee,SafeSet:k9e,SymbolAsyncDispose:A9e,SymbolAsyncIterator:C9e,Symbol:N9e}=mr();Zee.exports=Me;Me.ReadableState=Nw;var{EventEmitter:I9e}=require("events"),{Stream:fc,prependListener:j9e}=$w(),{Buffer:RI}=require("buffer"),{addAbortSignal:q9e}=og(),Lee=aa(),rt=$i().debuglog("stream",t=>{rt=t}),M9e=Tee(),od=Nl(),{getHighWaterMark:D9e,getDefaultHighWaterMark:L9e}=ag(),{aggregateTwoErrors:jee,codes:{ERR_INVALID_ARG_TYPE:F9e,ERR_METHOD_NOT_IMPLEMENTED:z9e,ERR_OUT_OF_RANGE:U9e,ERR_STREAM_PUSH_AFTER_EOF:H9e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:B9e},AbortError:V9e}=Hi(),{validateObject:W9e}=rd(),Il=N9e("kPaused"),{StringDecoder:Fee}=require("string_decoder"),G9e=EI();Mee(Me.prototype,fc.prototype);Mee(Me,fc);var TI=()=>{},{errorOrDestroy:nd}=od,sd=1,K9e=2,zee=4,cg=8,Uee=16,kw=32,Aw=64,Hee=128,J9e=256,Y9e=512,X9e=1024,kI=2048,AI=4096,Z9e=8192,Q9e=16384,e8e=32768,Bee=65536,t8e=1<<17,r8e=1<<18;function qr(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}CI(Nw.prototype,{objectMode:qr(sd),ended:qr(K9e),endEmitted:qr(zee),reading:qr(cg),constructed:qr(Uee),sync:qr(kw),needReadable:qr(Aw),emittedReadable:qr(Hee),readableListening:qr(J9e),resumeScheduled:qr(Y9e),errorEmitted:qr(X9e),emitClose:qr(kI),autoDestroy:qr(AI),destroyed:qr(Z9e),closed:qr(Q9e),closeEmitted:qr(e8e),multiAwaitDrain:qr(Bee),readingMore:qr(t8e),dataEmitted:qr(r8e)});function Nw(t,e,r){typeof r!="boolean"&&(r=e instanceof no()),this.state=kI|AI|Uee|kw,t&&t.objectMode&&(this.state|=sd),r&&t&&t.readableObjectMode&&(this.state|=sd),this.highWaterMark=t?D9e(this,t,"readableHighWaterMark",r):L9e(!1),this.buffer=new M9e,this.length=0,this.pipes=[],this.flowing=null,this[Il]=null,t&&t.emitClose===!1&&(this.state&=~kI),t&&t.autoDestroy===!1&&(this.state&=~AI),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Fee(t.encoding),this.encoding=t.encoding)}function Me(t){if(!(this instanceof Me))return new Me(t);let e=this instanceof no();this._readableState=new Nw(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&q9e(t.signal,this)),fc.call(this,t),od.construct(this,()=>{this._readableState.needReadable&&Cw(this,this._readableState)})}Me.prototype.destroy=od.destroy;Me.prototype._undestroy=od.undestroy;Me.prototype._destroy=function(t,e){e(t)};Me.prototype[I9e.captureRejectionSymbol]=function(t){this.destroy(t)};Me.prototype[A9e]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new V9e,this.destroy(t)),new Dee((e,r)=>Lee(this,i=>i&&i!==t?r(i):e(null)))};Me.prototype.push=function(t,e){return Vee(this,t,e,!1)};Me.prototype.unshift=function(t,e){return Vee(this,t,e,!0)};function Vee(t,e,r,i){rt("readableAddChunk",e);let n=t._readableState,s;if(n.state&sd||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=RI.from(e,r).toString(n.encoding):(e=RI.from(e,r),r=""))):e instanceof RI?r="":fc._isUint8Array(e)?(e=fc._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new F9e("chunk",["string","Buffer","Uint8Array"],e))),s)nd(t,s);else if(e===null)n.state&=~cg,s8e(t,n);else if(n.state&sd||e&&e.length>0)if(i)if(n.state&zee)nd(t,new B9e);else{if(n.destroyed||n.errored)return!1;$I(t,n,e,!0)}else if(n.ended)nd(t,new H9e);else{if(n.destroyed||n.errored)return!1;n.state&=~cg,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?$I(t,n,e,!1):Cw(t,n)):$I(t,n,e,!1)}else i||(n.state&=~cg,Cw(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function $I(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.state&Bee?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.state&Aw&&Iw(t)),Cw(t,e)}Me.prototype.isPaused=function(){let t=this._readableState;return t[Il]===!0||t.flowing===!1};Me.prototype.setEncoding=function(t){let e=new Fee(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var i8e=1073741824;function n8e(t){if(t>i8e)throw new U9e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function qee(t,e){return t<=0||e.length===0&&e.ended?0:e.state&sd?1:$9e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Me.prototype.read=function(t){rt("read",t),t===void 0?t=NaN:T9e(t)||(t=P9e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=n8e(t)),t!==0&&(e.state&=~Hee),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return rt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?PI(this):Iw(this),null;if(t=qee(t,e),t===0&&e.ended)return e.length===0&&PI(this),null;let i=(e.state&Aw)!==0;if(rt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,rt("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,rt("reading, ended or constructing",i);else if(i){rt("do read"),e.state|=cg|kw,e.length===0&&(e.state|=Aw);try{this._read(e.highWaterMark)}catch(s){nd(this,s)}e.state&=~kw,e.reading||(t=qee(r,e))}let n;return t>0?n=Yee(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&PI(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function s8e(t,e){if(rt("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Iw(t):(e.needReadable=!1,e.emittedReadable=!0,Wee(t))}}function Iw(t){let e=t._readableState;rt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(rt("emitReadable",e.flowing),e.emittedReadable=!0,ws.nextTick(Wee,t))}function Wee(t){let e=t._readableState;rt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Kee(t)}function Cw(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,ws.nextTick(o8e,t,e))}function o8e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(rt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Me.prototype._read=function(t){throw new z9e("_read()")};Me.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new k9e(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),rt("pipe count=%d opts=%j",i.pipes.length,e);let s=(!e||e.end!==!1)&&t!==ws.stdout&&t!==ws.stderr?a:v;i.endEmitted?ws.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,E){rt("onunpipe"),y===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,u())}function a(){rt("onend"),t.end()}let c,l=!1;function u(){rt("cleanup"),t.removeListener("close",h),t.removeListener("finish",m),c&&t.removeListener("drain",c),t.removeListener("error",d),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",p),l=!0,c&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&c()}function f(){l||(i.pipes.length===1&&i.pipes[0]===t?(rt("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(rt("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),c||(c=a8e(r,t),t.on("drain",c))}r.on("data",p);function p(y){rt("ondata");let E=t.write(y);rt("dest.write",E),E===!1&&f()}function d(y){if(rt("onerror",y),v(),t.removeListener("error",d),t.listenerCount("error")===0){let E=t._writableState||t._readableState;E&&!E.errorEmitted?nd(t,y):t.emit("error",y)}}j9e(t,"error",d);function h(){t.removeListener("finish",m),v()}t.once("close",h);function m(){rt("onfinish"),t.removeListener("close",h),v()}t.once("finish",m);function v(){rt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?f():i.flowing||(rt("pipe resume"),r.resume()),t};function a8e(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(rt("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(rt("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Me.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let s=0;s<n.length;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}let i=R9e(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Me.prototype.on=function(t,e){let r=fc.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,rt("on readable",i.length,i.reading),i.length?Iw(this):i.reading||ws.nextTick(c8e,this)),r};Me.prototype.addListener=Me.prototype.on;Me.prototype.removeListener=function(t,e){let r=fc.prototype.removeListener.call(this,t,e);return t==="readable"&&ws.nextTick(Gee,this),r};Me.prototype.off=Me.prototype.removeListener;Me.prototype.removeAllListeners=function(t){let e=fc.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&ws.nextTick(Gee,this),e};function Gee(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Il]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function c8e(t){rt("readable nexttick read 0"),t.read(0)}Me.prototype.resume=function(){let t=this._readableState;return t.flowing||(rt("resume"),t.flowing=!t.readableListening,l8e(this,t)),t[Il]=!1,this};function l8e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,ws.nextTick(u8e,t,e))}function u8e(t,e){rt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Kee(t),e.flowing&&!e.reading&&t.read(0)}Me.prototype.pause=function(){return rt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(rt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Il]=!0,this};function Kee(t){let e=t._readableState;for(rt("flow",e.flowing);e.flowing&&t.read()!==null;);}Me.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",i=>{nd(this,i)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=O9e(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};Me.prototype[C9e]=function(){return Jee(this)};Me.prototype.iterator=function(t){return t!==void 0&&W9e(t,"options"),Jee(this,t)};function Jee(t,e){typeof t.read!="function"&&(t=Me.wrap(t,{objectMode:!0}));let r=f8e(t,e);return r.stream=t,r}async function*f8e(t,e){let r=TI;function i(o){this===t?(r(),r=TI):r=o}t.on("readable",i);let n,s=Lee(t,{writable:!1},o=>{n=o?jee(n,o):null,r(),r=TI});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(n)throw n;if(n===null)return;await new Dee(i)}}}catch(o){throw n=jee(n,o),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?od.destroyer(t,null):(t.off("readable",i),s())}}CI(Me.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});CI(Nw.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Il]!==!1},set(t){this[Il]=!!t}}});Me._fromList=Yee;function Yee(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function PI(t){let e=t._readableState;rt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,ws.nextTick(d8e,e,t))}function d8e(t,e){if(rt("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)ws.nextTick(p8e,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function p8e(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Me.from=function(t,e){return G9e(Me,t,e)};var OI;function Xee(){return OI===void 0&&(OI={}),OI}Me.fromWeb=function(t,e){return Xee().newStreamReadableFromReadableStream(t,e)};Me.toWeb=function(t,e){return Xee().newReadableStreamFromStreamReadable(t,e)};Me.wrap=function(t,e){var r,i;return new Me({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,s){od.destroyer(t,n),s(n)}}).wrap(t)}});var Lw=w((Hlt,ute)=>{var jl=lc(),{ArrayPrototypeSlice:tte,Error:h8e,FunctionPrototypeSymbolHasInstance:rte,ObjectDefineProperty:ite,ObjectDefineProperties:m8e,ObjectSetPrototypeOf:nte,StringPrototypeToLowerCase:g8e,Symbol:y8e,SymbolHasInstance:v8e}=mr();ute.exports=gr;gr.WritableState=dg;var{EventEmitter:b8e}=require("events"),ug=$w().Stream,{Buffer:jw}=require("buffer"),Dw=Nl(),{addAbortSignal:_8e}=og(),{getHighWaterMark:w8e,getDefaultHighWaterMark:x8e}=ag(),{ERR_INVALID_ARG_TYPE:S8e,ERR_METHOD_NOT_IMPLEMENTED:E8e,ERR_MULTIPLE_CALLBACK:ste,ERR_STREAM_CANNOT_PIPE:R8e,ERR_STREAM_DESTROYED:fg,ERR_STREAM_ALREADY_FINISHED:T8e,ERR_STREAM_NULL_VALUES:$8e,ERR_STREAM_WRITE_AFTER_END:P8e,ERR_UNKNOWN_ENCODING:ote}=Hi().codes,{errorOrDestroy:ad}=Dw;nte(gr.prototype,ug.prototype);nte(gr,ug);function jI(){}var cd=y8e("kOnFinished");function dg(t,e,r){typeof r!="boolean"&&(r=e instanceof no()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?w8e(this,t,"writableHighWaterMark",r):x8e(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k8e.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Mw(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[cd]=[]}function Mw(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}dg.prototype.getBuffer=function(){return tte(this.buffered,this.bufferedIndex)};ite(dg.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function gr(t){let e=this instanceof no();if(!e&&!rte(gr,this))return new gr(t);this._writableState=new dg(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&_8e(t.signal,this)),ug.call(this,t),Dw.construct(this,()=>{let r=this._writableState;r.writing||MI(this,r),DI(this,r)})}ite(gr,v8e,{__proto__:null,value:function(t){return rte(this,t)?!0:this!==gr?!1:t&&t._writableState instanceof dg}});gr.prototype.pipe=function(){ad(this,new R8e)};function ate(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else{if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!jw.isEncoding(r))throw new ote(r);typeof i!="function"&&(i=jI)}if(e===null)throw new $8e;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=jw.from(e,r),r="buffer");else if(e instanceof jw)r="buffer";else if(ug._isUint8Array(e))e=ug._uint8ArrayToBuffer(e),r="buffer";else throw new S8e("chunk",["string","Buffer","Uint8Array"],e);let s;return n.ending?s=new P8e:n.destroyed&&(s=new fg("write")),s?(jl.nextTick(i,s),ad(t,s,!0),s):(n.pendingcb++,O8e(t,n,e,r,i))}gr.prototype.write=function(t,e,r){return ate(this,t,e,r)===!0};gr.prototype.cork=function(){this._writableState.corked++};gr.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||MI(this,t))};gr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=g8e(e)),!jw.isEncoding(e))throw new ote(e);return this._writableState.defaultEncoding=e,this};function O8e(t,e,r,i,n){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==jI&&(e.allNoop=!1)):(e.writelen=s,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function Qee(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new fg("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function ete(t,e,r,i){--e.pendingcb,i(r),qI(e),ad(t,r)}function k8e(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){ad(t,new ste);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?jl.nextTick(ete,t,r,e,n):ete(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&MI(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},jl.nextTick(A8e,r.afterWriteTickInfo)):cte(t,r,1,n))}function A8e({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,cte(t,e,r,i)}function cte(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&qI(e),DI(t,e)}function qI(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:s,callback:o}=t.buffered[n],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new fg("write"))}let r=t[cd].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new fg("end"))}Mw(t)}function MI(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,s=r.length-i;if(!s)return;let o=i;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?jI:l=>{for(let u=o;u<r.length;++u)r[u].callback(l)},c=e.allNoop&&o===0?r:tte(r,o);c.allBuffers=e.allBuffers,Qee(t,e,!0,e.length,c,"",a),Mw(e)}else{do{let{chunk:a,encoding:c,callback:l}=r[o];r[o++]=null;let u=n?1:a.length;Qee(t,e,!1,u,a,c,l)}while(o<r.length&&!e.writing);o===r.length?Mw(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}gr.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new E8e("_write()")};gr.prototype._writev=null;gr.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let s=ate(this,t,e);s instanceof h8e&&(n=s)}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,DI(this,i,!0),i.ended=!0):i.finished?n=new T8e("end"):i.destroyed&&(n=new fg("end"))),typeof r=="function"&&(n||i.finished?jl.nextTick(r,n):i[cd].push(r)),this};function qw(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function C8e(t,e){let r=!1;function i(n){if(r){ad(t,n??ste());return}if(r=!0,e.pendingcb--,n){let s=e[cd].splice(0);for(let o=0;o<s.length;o++)s[o](n);ad(t,n,e.sync)}else qw(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,jl.nextTick(II,t,e))}e.sync=!0,e.pendingcb++;try{t._final(i)}catch(n){i(n)}e.sync=!1}function N8e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,C8e(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function DI(t,e,r){qw(e)&&(N8e(t,e),e.pendingcb===0&&(r?(e.pendingcb++,jl.nextTick((i,n)=>{qw(n)?II(i,n):n.pendingcb--},t,e)):qw(e)&&(e.pendingcb++,II(t,e))))}function II(t,e){e.pendingcb--,e.finished=!0;let r=e[cd].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy()}}m8e(gr.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var I8e=Dw.destroy;gr.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[cd].length)&&jl.nextTick(qI,r),I8e.call(this,t,e),this};gr.prototype._undestroy=Dw.undestroy;gr.prototype._destroy=function(t,e){e(t)};gr.prototype[b8e.captureRejectionSymbol]=function(t){this.destroy(t)};var NI;function lte(){return NI===void 0&&(NI={}),NI}gr.fromWeb=function(t,e){return lte().newStreamWritableFromWritableStream(t,e)};gr.toWeb=function(t){return lte().newWritableStreamFromStreamWritable(t)}});var Rte=w((Blt,Ete)=>{var LI=lc(),j8e=require("buffer"),{isReadable:q8e,isWritable:M8e,isIterable:fte,isNodeStream:D8e,isReadableNodeStream:dte,isWritableNodeStream:pte,isDuplexNodeStream:L8e,isReadableStream:hte,isWritableStream:mte}=ro(),gte=aa(),{AbortError:xte,codes:{ERR_INVALID_ARG_TYPE:F8e,ERR_INVALID_RETURN_VALUE:yte}}=Hi(),{destroyer:ud}=Nl(),z8e=no(),Ste=lg(),U8e=Lw(),{createDeferredPromise:vte}=$i(),bte=EI(),_te=globalThis.Blob||j8e.Blob,H8e=typeof _te<"u"?function(e){return e instanceof _te}:function(e){return!1},B8e=globalThis.AbortController||ed().AbortController,{FunctionPrototypeCall:wte}=mr(),dc=class extends z8e{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Ete.exports=function t(e,r){if(L8e(e))return e;if(dte(e))return ld({readable:e});if(pte(e))return ld({writable:e});if(D8e(e))return ld({writable:!1,readable:!1});if(hte(e))return ld({readable:Ste.fromWeb(e)});if(mte(e))return ld({writable:U8e.fromWeb(e)});if(typeof e=="function"){let{value:n,write:s,final:o,destroy:a}=V8e(e);if(fte(n))return bte(dc,n,{objectMode:!0,write:s,final:o,destroy:a});let c=n?.then;if(typeof c=="function"){let l,u=wte(c,n,f=>{if(f!=null)throw new yte("nully","body",f)},f=>{ud(l,f)});return l=new dc({objectMode:!0,readable:!1,write:s,final(f){o(async()=>{try{await u,LI.nextTick(f,null)}catch(p){LI.nextTick(f,p)}})},destroy:a})}throw new yte("Iterable, AsyncIterable or AsyncFunction",r,n)}if(H8e(e))return t(e.arrayBuffer());if(fte(e))return bte(dc,e,{objectMode:!0,writable:!1});if(hte(e?.readable)&&mte(e?.writable))return dc.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?dte(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?pte(e?.writable)?e?.writable:t(e.writable):void 0;return ld({readable:n,writable:s})}let i=e?.then;if(typeof i=="function"){let n;return wte(i,e,s=>{s!=null&&n.push(s),n.push(null)},s=>{ud(n,s)}),n=new dc({objectMode:!0,writable:!1,read(){}})}throw new F8e(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function V8e(t){let{promise:e,resolve:r}=vte(),i=new B8e,n=i.signal;return{value:t(async function*(){for(;;){let o=e;e=null;let{chunk:a,done:c,cb:l}=await o;if(LI.nextTick(l),c)return;if(n.aborted)throw new xte(void 0,{cause:n.reason});({promise:e,resolve:r}=vte()),yield a}}(),{signal:n}),write(o,a,c){let l=r;r=null,l({chunk:o,done:!1,cb:c})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){i.abort(),a(o)}}}function ld(t){let e=t.readable&&typeof t.readable.read!="function"?Ste.wrap(t.readable):t.readable,r=t.writable,i=!!q8e(e),n=!!M8e(r),s,o,a,c,l;function u(f){let p=c;c=null,p?p(f):f&&l.destroy(f)}return l=new dc({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(gte(r,f=>{n=!1,f&&ud(e,f),u(f)}),l._write=function(f,p,d){r.write(f,p)?d():s=d},l._final=function(f){r.end(),o=f},r.on("drain",function(){if(s){let f=s;s=null,f()}}),r.on("finish",function(){if(o){let f=o;o=null,f()}})),i&&(gte(e,f=>{i=!1,f&&ud(e,f),u(f)}),e.on("readable",function(){if(a){let f=a;a=null,f()}}),e.on("end",function(){l.push(null)}),l._read=function(){for(;;){let f=e.read();if(f===null){a=l._read;return}if(!l.push(f))return}}),l._destroy=function(f,p){!f&&c!==null&&(f=new xte),a=null,s=null,o=null,c===null?p(f):(c=p,ud(r,f),ud(e,f))},l}});var no=w((Vlt,Pte)=>{"use strict";var{ObjectDefineProperties:W8e,ObjectGetOwnPropertyDescriptor:ca,ObjectKeys:G8e,ObjectSetPrototypeOf:Tte}=mr();Pte.exports=xs;var UI=lg(),Ln=Lw();Tte(xs.prototype,UI.prototype);Tte(xs,UI);{let t=G8e(Ln.prototype);for(let e=0;e<t.length;e++){let r=t[e];xs.prototype[r]||(xs.prototype[r]=Ln.prototype[r])}}function xs(t){if(!(this instanceof xs))return new xs(t);UI.call(this,t),Ln.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}W8e(xs.prototype,{writable:{__proto__:null,...ca(Ln.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ca(Ln.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ca(Ln.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ca(Ln.prototype,"writableBuffer")},writableLength:{__proto__:null,...ca(Ln.prototype,"writableLength")},writableFinished:{__proto__:null,...ca(Ln.prototype,"writableFinished")},writableCorked:{__proto__:null,...ca(Ln.prototype,"writableCorked")},writableEnded:{__proto__:null,...ca(Ln.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ca(Ln.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var FI;function $te(){return FI===void 0&&(FI={}),FI}xs.fromWeb=function(t,e){return $te().newStreamDuplexFromReadableWritablePair(t,e)};xs.toWeb=function(t){return $te().newReadableWritablePairFromDuplex(t)};var zI;xs.from=function(t){return zI||(zI=Rte()),zI(t,"body")}});var VI=w((Wlt,kte)=>{"use strict";var{ObjectSetPrototypeOf:Ote,Symbol:K8e}=mr();kte.exports=la;var{ERR_METHOD_NOT_IMPLEMENTED:J8e}=Hi().codes,BI=no(),{getHighWaterMark:Y8e}=ag();Ote(la.prototype,BI.prototype);Ote(la,BI);var pg=K8e("kCallback");function la(t){if(!(this instanceof la))return new la(t);let e=t?Y8e(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),BI.call(this,t),this._readableState.sync=!1,this[pg]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",X8e)}function HI(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function X8e(){this._final!==HI&&HI.call(this)}la.prototype._final=HI;la.prototype._transform=function(t,e,r){throw new J8e("_transform()")};la.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,s=i.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),n.ended||s===i.length||i.length<i.highWaterMark?r():this[pg]=r})};la.prototype._read=function(){if(this[pg]){let t=this[pg];this[pg]=null,t()}}});var GI=w((Glt,Cte)=>{"use strict";var{ObjectSetPrototypeOf:Ate}=mr();Cte.exports=fd;var WI=VI();Ate(fd.prototype,WI.prototype);Ate(fd,WI);function fd(t){if(!(this instanceof fd))return new fd(t);WI.call(this,t)}fd.prototype._transform=function(t,e,r){r(null,t)}});var Hw=w((Klt,Mte)=>{var hg=lc(),{ArrayIsArray:Z8e,Promise:Q8e,SymbolAsyncIterator:eWe,SymbolDispose:tWe}=mr(),Uw=aa(),{once:rWe}=$i(),iWe=Nl(),Nte=no(),{aggregateTwoErrors:nWe,codes:{ERR_INVALID_ARG_TYPE:rj,ERR_INVALID_RETURN_VALUE:KI,ERR_MISSING_ARGS:sWe,ERR_STREAM_DESTROYED:oWe,ERR_STREAM_PREMATURE_CLOSE:aWe},AbortError:cWe}=Hi(),{validateFunction:lWe,validateAbortSignal:uWe}=rd(),{isIterable:ql,isReadable:JI,isReadableNodeStream:zw,isNodeStream:Ite,isTransformStream:dd,isWebStream:fWe,isReadableStream:YI,isReadableFinished:dWe}=ro(),pWe=globalThis.AbortController||ed().AbortController,XI,ZI,QI;function jte(t,e,r){let i=!1;t.on("close",()=>{i=!0});let n=Uw(t,{readable:e,writable:r},s=>{i=!s});return{destroy:s=>{i||(i=!0,iWe.destroyer(t,s||new oWe("pipe")))},cleanup:n}}function hWe(t){return lWe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function ej(t){if(ql(t))return t;if(zw(t))return mWe(t);throw new rj("val",["Readable","Iterable","AsyncIterable"],t)}async function*mWe(t){ZI||(ZI=lg()),yield*ZI.prototype[eWe].call(t)}async function Fw(t,e,r,{end:i}){let n,s=null,o=l=>{if(l&&(n=l),s){let u=s;s=null,u()}},a=()=>new Q8e((l,u)=>{n?u(n):s=()=>{n?u(n):l()}});e.on("drain",o);let c=Uw(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let l of t)e.write(l)||await a();i&&(e.end(),await a()),r()}catch(l){r(n!==l?nWe(n,l):l)}finally{c(),e.off("drain",o)}}async function tj(t,e,r,{end:i}){dd(e)&&(e=e.writable);let n=e.getWriter();try{for await(let s of t)await n.ready,n.write(s).catch(()=>{});await n.ready,i&&await n.close(),r()}catch(s){try{await n.abort(s),r(s)}catch(o){r(o)}}}function gWe(...t){return qte(t,rWe(hWe(t)))}function qte(t,e,r){if(t.length===1&&Z8e(t[0])&&(t=t[0]),t.length<2)throw new sWe("streams");let i=new pWe,n=i.signal,s=r?.signal,o=[];uWe(s,"options.signal");function a(){h(new cWe)}QI=QI||$i().addAbortListener;let c;s&&(c=QI(s,a));let l,u,f=[],p=0;function d(_){h(_,--p===0)}function h(_,b){var $;if(_&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=_),!(!l&&!b)){for(;f.length;)f.shift()(l);($=c)===null||$===void 0||$[tWe](),i.abort(),b&&(l||o.forEach(k=>k()),hg.nextTick(e,l,u))}}let m;for(let _=0;_<t.length;_++){let b=t[_],$=_<t.length-1,k=_>0,O=$||r?.end!==!1,N=_===t.length-1;if(Ite(b)){let L=function(T){T&&T.name!=="AbortError"&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"&&d(T)};var E=L;if(O){let{destroy:T,cleanup:g}=jte(b,$,k);f.push(T),JI(b)&&N&&o.push(g)}b.on("error",L),JI(b)&&N&&o.push(()=>{b.removeListener("error",L)})}if(_===0)if(typeof b=="function"){if(m=b({signal:n}),!ql(m))throw new KI("Iterable, AsyncIterable or Stream","source",m)}else ql(b)||zw(b)||dd(b)?m=b:m=Nte.from(b);else if(typeof b=="function"){if(dd(m)){var v;m=ej((v=m)===null||v===void 0?void 0:v.readable)}else m=ej(m);if(m=b(m,{signal:n}),$){if(!ql(m,!0))throw new KI("AsyncIterable",`transform[${_-1}]`,m)}else{var y;XI||(XI=GI());let L=new XI({objectMode:!0}),T=(y=m)===null||y===void 0?void 0:y.then;if(typeof T=="function")p++,T.call(m,R=>{u=R,R!=null&&L.write(R),O&&L.end(),hg.nextTick(d)},R=>{L.destroy(R),hg.nextTick(d,R)});else if(ql(m,!0))p++,Fw(m,L,d,{end:O});else if(YI(m)||dd(m)){let R=m.readable||m;p++,Fw(R,L,d,{end:O})}else throw new KI("AsyncIterable or Promise","destination",m);m=L;let{destroy:g,cleanup:x}=jte(m,!1,!0);f.push(g),N&&o.push(x)}}else if(Ite(b)){if(zw(m)){p+=2;let L=yWe(m,b,d,{end:O});JI(b)&&N&&o.push(L)}else if(dd(m)||YI(m)){let L=m.readable||m;p++,Fw(L,b,d,{end:O})}else if(ql(m))p++,Fw(m,b,d,{end:O});else throw new rj("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);m=b}else if(fWe(b)){if(zw(m))p++,tj(ej(m),b,d,{end:O});else if(YI(m)||ql(m))p++,tj(m,b,d,{end:O});else if(dd(m))p++,tj(m.readable,b,d,{end:O});else throw new rj("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);m=b}else m=Nte.from(b)}return(n!=null&&n.aborted||s!=null&&s.aborted)&&hg.nextTick(a),m}function yWe(t,e,r,{end:i}){let n=!1;if(e.on("close",()=>{n||r(new aWe)}),t.pipe(e,{end:!1}),i){let o=function(){n=!0,e.end()};var s=o;dWe(t)?hg.nextTick(o):t.once("end",o)}else r();return Uw(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Uw(e,{readable:!1,writable:!0},r)}Mte.exports={pipelineImpl:qte,pipeline:gWe}});var nj=w((Jlt,Hte)=>{"use strict";var{pipeline:vWe}=Hw(),Bw=no(),{destroyer:bWe}=Nl(),{isNodeStream:Vw,isReadable:Dte,isWritable:Lte,isWebStream:ij,isTransformStream:Ml,isWritableStream:Fte,isReadableStream:zte}=ro(),{AbortError:_We,codes:{ERR_INVALID_ARG_VALUE:Ute,ERR_MISSING_ARGS:wWe}}=Hi(),xWe=aa();Hte.exports=function(...e){if(e.length===0)throw new wWe("streams");if(e.length===1)return Bw.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Bw.from(e[0])),typeof e[e.length-1]=="function"){let d=e.length-1;e[d]=Bw.from(e[d])}for(let d=0;d<e.length;++d)if(!(!Vw(e[d])&&!ij(e[d]))){if(d<e.length-1&&!(Dte(e[d])||zte(e[d])||Ml(e[d])))throw new Ute(`streams[${d}]`,r[d],"must be readable");if(d>0&&!(Lte(e[d])||Fte(e[d])||Ml(e[d])))throw new Ute(`streams[${d}]`,r[d],"must be writable")}let i,n,s,o,a;function c(d){let h=o;o=null,h?h(d):d?a.destroy(d):!p&&!f&&a.destroy()}let l=e[0],u=vWe(e,c),f=!!(Lte(l)||Fte(l)||Ml(l)),p=!!(Dte(u)||zte(u)||Ml(u));if(a=new Bw({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:f,readable:p}),f){if(Vw(l))a._write=function(h,m,v){l.write(h,m)?v():i=v},a._final=function(h){l.end(),n=h},l.on("drain",function(){if(i){let h=i;i=null,h()}});else if(ij(l)){let m=(Ml(l)?l.writable:l).getWriter();a._write=async function(v,y,E){try{await m.ready,m.write(v).catch(()=>{}),E()}catch(_){E(_)}},a._final=async function(v){try{await m.ready,m.close().catch(()=>{}),n=v}catch(y){v(y)}}}let d=Ml(u)?u.readable:u;xWe(d,()=>{if(n){let h=n;n=null,h()}})}if(p){if(Vw(u))u.on("readable",function(){if(s){let d=s;s=null,d()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let d=u.read();if(d===null){s=a._read;return}if(!a.push(d))return}};else if(ij(u)){let h=(Ml(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:m,done:v}=await h.read();if(!a.push(m))return;if(v){a.push(null);return}}catch{return}}}}return a._destroy=function(d,h){!d&&o!==null&&(d=new _We),s=null,i=null,n=null,o===null?h(d):(o=h,Vw(u)&&bWe(u,d))},a}});var Qte=w((Ylt,aj)=>{"use strict";var SWe=globalThis.AbortController||ed().AbortController,{codes:{ERR_INVALID_ARG_VALUE:EWe,ERR_INVALID_ARG_TYPE:mg,ERR_MISSING_ARGS:RWe,ERR_OUT_OF_RANGE:TWe},AbortError:so}=Hi(),{validateAbortSignal:Dl,validateInteger:Bte,validateObject:Ll}=rd(),$We=mr().Symbol("kWeak"),PWe=mr().Symbol("kResistStopPropagation"),{finished:OWe}=aa(),kWe=nj(),{addAbortSignalNoValidate:AWe}=og(),{isWritable:CWe,isNodeStream:NWe}=ro(),{deprecate:IWe}=$i(),{ArrayPrototypePush:jWe,Boolean:qWe,MathFloor:Vte,Number:MWe,NumberIsNaN:DWe,Promise:Wte,PromiseReject:Gte,PromiseResolve:LWe,PromisePrototypeThen:Kte,Symbol:Yte}=mr(),Ww=Yte("kEmpty"),Jte=Yte("kEof");function FWe(t,e){if(e!=null&&Ll(e,"options"),e?.signal!=null&&Dl(e.signal,"options.signal"),NWe(t)&&!CWe(t))throw new EWe("stream",t,"must be writable");let r=kWe(this,t);return e!=null&&e.signal&&AWe(e.signal,r),r}function Gw(t,e){if(typeof t!="function")throw new mg("fn",["Function","AsyncFunction"],t);e!=null&&Ll(e,"options"),e?.signal!=null&&Dl(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Vte(e.concurrency));let i=r-1;return e?.highWaterMark!=null&&(i=Vte(e.highWaterMark)),Bte(r,"options.concurrency",1),Bte(i,"options.highWaterMark",0),i+=r,async function*(){let s=$i().AbortSignalAny([e?.signal].filter(qWe)),o=this,a=[],c={signal:s},l,u,f=!1,p=0;function d(){f=!0,h()}function h(){p-=1,m()}function m(){u&&!f&&p<r&&a.length<i&&(u(),u=null)}async function v(){try{for await(let y of o){if(f)return;if(s.aborted)throw new so;try{if(y=t(y,c),y===Ww)continue;y=LWe(y)}catch(E){y=Gte(E)}p+=1,Kte(y,h,d),a.push(y),l&&(l(),l=null),!f&&(a.length>=i||p>=r)&&await new Wte(E=>{u=E})}a.push(Jte)}catch(y){let E=Gte(y);Kte(E,h,d),a.push(E)}finally{f=!0,l&&(l(),l=null)}}v();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===Jte)return;if(s.aborted)throw new so;y!==Ww&&(yield y),a.shift(),m()}await new Wte(y=>{l=y})}}finally{f=!0,u&&(u(),u=null)}}.call(this)}function zWe(t=void 0){return t!=null&&Ll(t,"options"),t?.signal!=null&&Dl(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new so({cause:t.signal.reason});yield[r++,n]}}.call(this)}async function Xte(t,e=void 0){for await(let r of oj.call(this,t,e))return!0;return!1}async function UWe(t,e=void 0){if(typeof t!="function")throw new mg("fn",["Function","AsyncFunction"],t);return!await Xte.call(this,async(...r)=>!await t(...r),e)}async function HWe(t,e){for await(let r of oj.call(this,t,e))return r}async function BWe(t,e){if(typeof t!="function")throw new mg("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),Ww}for await(let i of Gw.call(this,r,e));}function oj(t,e){if(typeof t!="function")throw new mg("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:Ww}return Gw.call(this,r,e)}var sj=class extends RWe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function VWe(t,e,r){var i;if(typeof t!="function")throw new mg("reducer",["Function","AsyncFunction"],t);r!=null&&Ll(r,"options"),r?.signal!=null&&Dl(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let l=new so(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await OWe(this.destroy(l)),l}let s=new SWe,o=s.signal;if(r!=null&&r.signal){let l={once:!0,[$We]:this,[PWe]:!0};r.signal.addEventListener("abort",()=>s.abort(),l)}let a=!1;try{for await(let l of this){var c;if(a=!0,r!=null&&(c=r.signal)!==null&&c!==void 0&&c.aborted)throw new so;n?e=await t(e,l,{signal:o}):(e=l,n=!0)}if(!a&&!n)throw new sj}finally{s.abort()}return e}async function WWe(t){t!=null&&Ll(t,"options"),t?.signal!=null&&Dl(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new so(void 0,{cause:t.signal.reason});jWe(e,i)}return e}function GWe(t,e){let r=Gw.call(this,t,e);return async function*(){for await(let n of r)yield*n}.call(this)}function Zte(t){if(t=MWe(t),DWe(t))return 0;if(t<0)throw new TWe("number",">= 0",t);return t}function KWe(t,e=void 0){return e!=null&&Ll(e,"options"),e?.signal!=null&&Dl(e.signal,"options.signal"),t=Zte(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new so;for await(let s of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new so;t--<=0&&(yield s)}}.call(this)}function JWe(t,e=void 0){return e!=null&&Ll(e,"options"),e?.signal!=null&&Dl(e.signal,"options.signal"),t=Zte(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new so;for await(let s of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new so;if(t-- >0&&(yield s),t<=0)return}}.call(this)}aj.exports.streamReturningOperators={asIndexedPairs:IWe(zWe,"readable.asIndexedPairs will be removed in a future version."),drop:KWe,filter:oj,flatMap:GWe,map:Gw,take:JWe,compose:FWe};aj.exports.promiseReturningOperators={every:UWe,forEach:BWe,reduce:VWe,toArray:WWe,some:Xte,find:HWe}});var cj=w((Xlt,ere)=>{"use strict";var{ArrayPrototypePop:YWe,Promise:XWe}=mr(),{isIterable:ZWe,isNodeStream:QWe,isWebStream:eGe}=ro(),{pipelineImpl:tGe}=Hw(),{finished:rGe}=aa();lj();function iGe(...t){return new XWe((e,r)=>{let i,n,s=t[t.length-1];if(s&&typeof s=="object"&&!QWe(s)&&!ZWe(s)&&!eGe(s)){let o=YWe(t);i=o.signal,n=o.end}tGe(t,(o,a)=>{o?r(o):e(a)},{signal:i,end:n})})}ere.exports={finished:rGe,pipeline:iGe}});var lj=w((Zlt,lre)=>{var{Buffer:nGe}=require("buffer"),{ObjectDefineProperty:ua,ObjectKeys:ire,ReflectApply:nre}=mr(),{promisify:{custom:sre}}=$i(),{streamReturningOperators:tre,promiseReturningOperators:rre}=Qte(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:ore}}=Hi(),sGe=nj(),{setDefaultHighWaterMark:oGe,getDefaultHighWaterMark:aGe}=ag(),{pipeline:are}=Hw(),{destroyer:cGe}=Nl(),cre=aa(),uj=cj(),gg=ro(),lr=lre.exports=$w().Stream;lr.isDestroyed=gg.isDestroyed;lr.isDisturbed=gg.isDisturbed;lr.isErrored=gg.isErrored;lr.isReadable=gg.isReadable;lr.isWritable=gg.isWritable;lr.Readable=lg();for(let t of ire(tre)){let r=function(...i){if(new.target)throw ore();return lr.Readable.from(nre(e,this,i))};fj=r;let e=tre[t];ua(r,"name",{__proto__:null,value:e.name}),ua(r,"length",{__proto__:null,value:e.length}),ua(lr.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var fj;for(let t of ire(rre)){let r=function(...n){if(new.target)throw ore();return nre(e,this,n)};fj=r;let e=rre[t];ua(r,"name",{__proto__:null,value:e.name}),ua(r,"length",{__proto__:null,value:e.length}),ua(lr.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var fj;lr.Writable=Lw();lr.Duplex=no();lr.Transform=VI();lr.PassThrough=GI();lr.pipeline=are;var{addAbortSignal:lGe}=og();lr.addAbortSignal=lGe;lr.finished=cre;lr.destroy=cGe;lr.compose=sGe;lr.setDefaultHighWaterMark=oGe;lr.getDefaultHighWaterMark=aGe;ua(lr,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return uj}});ua(are,sre,{__proto__:null,enumerable:!0,get(){return uj.pipeline}});ua(cre,sre,{__proto__:null,enumerable:!0,get(){return uj.finished}});lr.Stream=lr;lr._isUint8Array=function(e){return e instanceof Uint8Array};lr._uint8ArrayToBuffer=function(e){return nGe.from(e.buffer,e.byteOffset,e.byteLength)}});var ure=w((Qlt,Qe)=>{"use strict";var Mr=require("stream");if(Mr&&process.env.READABLE_STREAM==="disable"){let t=Mr.promises;Qe.exports._uint8ArrayToBuffer=Mr._uint8ArrayToBuffer,Qe.exports._isUint8Array=Mr._isUint8Array,Qe.exports.isDisturbed=Mr.isDisturbed,Qe.exports.isErrored=Mr.isErrored,Qe.exports.isReadable=Mr.isReadable,Qe.exports.Readable=Mr.Readable,Qe.exports.Writable=Mr.Writable,Qe.exports.Duplex=Mr.Duplex,Qe.exports.Transform=Mr.Transform,Qe.exports.PassThrough=Mr.PassThrough,Qe.exports.addAbortSignal=Mr.addAbortSignal,Qe.exports.finished=Mr.finished,Qe.exports.destroy=Mr.destroy,Qe.exports.pipeline=Mr.pipeline,Qe.exports.compose=Mr.compose,Object.defineProperty(Mr,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Qe.exports.Stream=Mr.Stream}else{let t=lj(),e=cj(),r=t.Readable.destroy;Qe.exports=t.Readable,Qe.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Qe.exports._isUint8Array=t._isUint8Array,Qe.exports.isDisturbed=t.isDisturbed,Qe.exports.isErrored=t.isErrored,Qe.exports.isReadable=t.isReadable,Qe.exports.Readable=t.Readable,Qe.exports.Writable=t.Writable,Qe.exports.Duplex=t.Duplex,Qe.exports.Transform=t.Transform,Qe.exports.PassThrough=t.PassThrough,Qe.exports.addAbortSignal=t.addAbortSignal,Qe.exports.finished=t.finished,Qe.exports.destroy=t.destroy,Qe.exports.destroy=r,Qe.exports.pipeline=t.pipeline,Qe.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Qe.exports.Stream=t.Stream}Qe.exports.default=Qe.exports});var dre=w((eut,fre)=>{"use strict";function uGe(t){return typeof t=="object"&&t!==null&&t.length>1&&(t[0]&15)===8&&(t[0]&128)===0&&((t[0]<<8)+t[1])%31===0}function fGe(t){return typeof t=="object"&&t!==null&&t.length>2&&t[0]===31&&t[1]===139&&t[2]===8}function dGe(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}async function*pGe(t){if(typeof t=="object"){if(Buffer.isBuffer(t)){yield t;return}if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){yield Buffer.from(t);return}if(Symbol.iterator in t){for(let e of t)yield e;return}if(Symbol.asyncIterator in t){for await(let e of t)yield e;return}}yield t}fre.exports={isGzip:fGe,isDeflate:uGe,isStream:dGe,intoAsyncIterator:pGe}});var $re=w((tut,Yw)=>{"use strict";var ai=require("node:zlib"),{inherits:hGe,format:mGe}=require("node:util"),gGe=Fi(),yGe=wC(),yg=RC(),vGe=nY(),vre=JX(),{Minipass:pj}=X_(),pre=lQ(),{Readable:hj}=ure(),{isStream:mj,isGzip:bGe,isDeflate:_Ge,intoAsyncIterator:gj}=dre(),wGe=Tre("FST_CP_ERR_INVALID_CONTENT_ENCODING","Unsupported Content-Encoding: %s",415),xGe=Tre("FST_CP_ERR_INVALID_CONTENT","Could not decompress the request payload using the provided encoding",400);function yj(t,e,r){let i=mre(e),n=gre(e);if(e.encodings&&e.encodings.length<1){r(new Error("The `encodings` option array must have at least 1 item."));return}if(e.requestEncodings&&e.requestEncodings.length<1){r(new Error("The `requestEncodings` option array must have at least 1 item."));return}if(i.encodings.length<1){r(new Error("None of the passed `encodings` were supported \u2014 compression not possible."));return}if(n.encodings.length<1){r(new Error("None of the passed `requestEncodings` were supported \u2014 request decompression not possible."));return}if(n.forceEncoding&&!n.encodings.includes(n.forceEncoding)){r(new Error(`Unsupported decompression encoding ${e.forceRequestEncoding}.`));return}t.decorateReply("compress",null),t.addHook("onRoute",s=>{if(s.config?.compress!==void 0&&(s.compress=s.config.compress),s.compress!==void 0){if(typeof s.compress=="object"){let o=Object.assign({},i,mre(s.compress));dj(t,o,s)}else if(s.compress!==!1)throw new Error("Unknown value for route compress configuration")}else i.global?dj(t,i,s):dj(t,i,s,!0);if(s.config?.decompress!==void 0&&(s.decompress=s.config.decompress),s.decompress!==void 0){if(typeof s.decompress=="object"){let o=Object.assign({},n,gre(s.decompress));yre(t,o,s)}else if(s.decompress!==!1)throw new Error("Unknown value for route decompress configuration")}else n.global&&yre(t,n,s)}),r()}var hre=/^text\/(?!event-stream)|(?:\+|\/)json(?:;|$)|(?:\+|\/)text(?:;|$)|(?:\+|\/)xml(?:;|$)|octet-stream(?:;|$)/u,SGe={params:{[ai.constants.BROTLI_PARAM_QUALITY]:4}};function mre(t){if(!t)return;let e={global:typeof t.global=="boolean"?t.global:!0};e.removeContentLengthHeader=typeof t.removeContentLengthHeader=="boolean"?t.removeContentLengthHeader:!0,e.brotliOptions=e.global?{...SGe,...t.brotliOptions}:t.brotliOptions,e.zlibOptions=t.zlibOptions,e.onUnsupportedEncoding=t.onUnsupportedEncoding,e.inflateIfDeflated=t.inflateIfDeflated===!0,e.threshold=typeof t.threshold=="number"?t.threshold:1024,e.compressibleTypes=t.customTypes instanceof RegExp?t.customTypes.test.bind(t.customTypes):typeof t.customTypes=="function"?t.customTypes:hre.test.bind(hre),e.compressStream={br:()=>((t.zlib||ai).createBrotliCompress||ai.createBrotliCompress)(e.brotliOptions),gzip:()=>((t.zlib||ai).createGzip||ai.createGzip)(e.zlibOptions),deflate:()=>((t.zlib||ai).createDeflate||ai.createDeflate)(e.zlibOptions)},e.uncompressStream={br:()=>((t.zlib||ai).createBrotliDecompress||ai.createBrotliDecompress)(e.brotliOptions),gzip:()=>((t.zlib||ai).createGunzip||ai.createGunzip)(e.zlibOptions),deflate:()=>((t.zlib||ai).createInflate||ai.createInflate)(e.zlibOptions)};let r=["br","gzip","deflate","identity"];return e.encodings=Array.isArray(t.encodings)?r.filter(i=>t.encodings.includes(i)).sort((i,n)=>t.encodings.indexOf(i)-t.encodings.indexOf(n)):r,e}function gre(t){if(!t)return;let e=t.zlib||ai,r={global:typeof t.global=="boolean"?t.global:!0,onUnsupportedRequestEncoding:t.onUnsupportedRequestEncoding,onInvalidRequestPayload:t.onInvalidRequestPayload,decompressStream:{br:e.createBrotliDecompress||ai.createBrotliDecompress,gzip:e.createGunzip||ai.createGunzip,deflate:e.createInflate||ai.createInflate},encodings:[],forceEncoding:null},i=["br","gzip","deflate","identity"];return r.encodings=Array.isArray(t.requestEncodings)?i.filter(n=>t.requestEncodings.includes(n)).sort((n,s)=>t.requestEncodings.indexOf(n)-t.requestEncodings.indexOf(s)):i,t.forceRequestEncoding&&(r.forceEncoding=t.forceRequestEncoding,r.encodings.includes(t.forceRequestEncoding)&&(r.encodings=[t.forceRequestEncoding])),r}function dj(t,e,r,i){Array.isArray(r.onRequest)?r.onRequest.push(s):typeof r.onRequest=="function"?r.onRequest=[r.onRequest,s]:r.onRequest=[s];let n=EGe(e);function s(a,c,l){c.compress=n,l()}if(i)return;Array.isArray(r.onSend)?r.onSend.push(o):typeof r.onSend=="function"?r.onSend=[r.onSend,o]:r.onSend=[o];function o(a,c,l,u){if(l==null)return u();let f=c.getHeader("Content-Encoding");if(f&&f!=="identity")return u();let p,d,h=a.headers["x-no-compression"]!==void 0||Sre(c.getHeader("Content-Type")||"application/json",e.compressibleTypes)===!1||(d=xre(e.encodings,a))==null||d==="identity";if(d==null&&e.onUnsupportedEncoding!=null){let m=a.headers["accept-encoding"];try{let v=e.onUnsupportedEncoding(m,c.request,c);return u(null,v)}catch(v){return u(v)}}if(h)return e.inflateIfDeflated&&mj(p=Ere(l))&&(d===void 0?c.removeHeader("Content-Encoding"):c.header("Content-Encoding","identity"),yg(p,l=Jw(e.uncompressStream),Kw.bind(c))),u(null,l);if(typeof l.pipe!="function"){if(Buffer.byteLength(l)<e.threshold)return u();l=hj.from(gj(l))}bre(c),c.header("Content-Encoding",d),e.removeContentLengthHeader&&c.removeHeader("content-length"),p=Rre(e.compressStream,d),yg(l,p,Kw.bind(c)),u(null,p)}}function yre(t,e,r){Array.isArray(r.preParsing)?r.preParsing.unshift(i):typeof r.preParsing=="function"?r.preParsing=[i,r.preParsing]:r.preParsing=[i];function i(n,s,o,a){let c=e.forceEncoding;if(c||(c=n.headers["content-encoding"]),!c)return a(null,o);if(!e.encodings.includes(c)){let u;if(e.onUnsupportedRequestEncoding)try{u=e.onUnsupportedRequestEncoding(c,n)}catch{u=void 0}return u||(u=new wGe(c)),a(u)}if(c==="identity")return a(null,o);let l=e.decompressStream[c]();l.receivedEncodedLength=0,l.on("error",RGe.bind(this,n,e,c)),l.pause(),o.on("data",_re.bind(l)),o.on("end",wre),a(null,yg(o,l))}}function EGe(t){return function(e){if(e==null){this.send(new Error("Internal server error"));return}let r,i,n=this.request.headers["x-no-compression"]!==void 0||Sre(this.getHeader("Content-Type")||"application/json",t.compressibleTypes)===!1||(i=xre(t.encodings,this.request))==null||i==="identity";if(i==null&&t.onUnsupportedEncoding!=null){let s=this.request.headers["accept-encoding"],o;try{o=t.onUnsupportedEncoding(s,this.request,this)}catch(a){o=a}return this.send(o)}if(n)return t.inflateIfDeflated&&mj(r=Ere(e,this.serialize.bind(this)))&&(i===void 0?this.removeHeader("Content-Encoding"):this.header("Content-Encoding","identity"),yg(r,e=Jw(t.uncompressStream),Kw.bind(this))),this.send(e);if(typeof e.pipe!="function"&&!Buffer.isBuffer(e)&&typeof e!="string"&&(e=this.serialize(e)),typeof e.pipe!="function"){if(Buffer.byteLength(e)<t.threshold)return this.send(e);e=hj.from(gj(e))}bre(this),this.header("Content-Encoding",i),t.removeContentLengthHeader&&this.removeHeader("content-length"),r=Rre(t.compressStream,i),yg(e,r,Kw.bind(this)),this.send(r)}}function bre(t){if(t.hasHeader("Vary")){let e=t.getHeader("Vary"),r=Array.isArray(e)?e:[e];r.some(i=>i.includes("accept-encoding"))||t.header("Vary",r.concat("accept-encoding").join(", "))}else t.header("Vary","accept-encoding")}function Kw(t){t&&this.log.error(t)}function _re(t){this.receivedEncodedLength+=t.length}function wre(){this.removeListener("data",_re),this.removeListener("end",wre)}function RGe(t,e,r,i){this.log.debug(`compress: invalid request payload - ${i}`);let n;if(e.onInvalidRequestPayload)try{n=e.onInvalidRequestPayload(r,t,i)}catch{n=void 0}n||(n=new xGe),i.decompressError=i,Object.assign(i,n)}var TGe=/\*|x-gzip/gu;function xre(t,e){let r=e.headers["accept-encoding"];if(r!=null)return r=r.toLowerCase().replace(TGe,"gzip"),yGe.negotiate(r,t)}function Sre(t,e){if(e(t))return!0;let r=vGe[t.split(";",1)[0].trim().toLowerCase()];return r===void 0?!1:r.compressible===!0}function vj(t){return bGe(t)?1:_Ge(t)?2:0}function Ere(t,e){if(mj(t))return t;let r=t,i=t;return ArrayBuffer.isView(t)?r=i=Buffer.from(t.buffer,t.byteOffset,t.byteLength):e&&typeof t!="string"&&(r=i=e(t)),!Buffer.isBuffer(r)||vj(r)===0?i:hj.from(gj(i))}function Rre(t,e){return vre({newline:!1,maxBuffer:10},function(r,i){switch(vj(r)){case 1:return i(null,new pj);case 2:return i(null,new pj)}return i(null,t[e]())})}function Jw(t,e){return e>=0||(e=3),vre({newline:!1,maxBuffer:10},function(r,i){if(e<0)return i(new Error("Maximum recursion reached"));switch(vj(r)){case 1:return i(null,pre(t.gzip(),Jw(t,e-1)));case 2:return i(null,pre(t.deflate(),Jw(t,e-1)))}return i(null,new pj)})}function Tre(t,e,r){t=t.toUpperCase();function i(n){Error.captureStackTrace(this,i),this.name="FastifyCompressError",this.code=t,n?this.message=mGe(e,n):this.message=e,this.statusCode=r}return i.prototype[Symbol.toStringTag]="Error",i.prototype.toString=function(){return`${this.name} [${this.code}]: ${this.message}`},hGe(i,Error),i}Yw.exports=gGe(yj,{fastify:"4.x",name:"@fastify/compress"});Yw.exports.default=yj;Yw.exports.fastifyCompress=yj});var kre=w((iut,Ore)=>{"use strict";var Xw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function $Ge(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");let r=e?.decode||decodeURIComponent,i={},n=t.length,s=0,o=0;for(;o!==n;){o=t.indexOf(";",s),o===-1&&(o=n);let a=t.indexOf("=",s);if(a===-1)break;if(a>o){s=o+1;continue}let c=t.substring(s,a++).trim();if(i[c]===void 0){let l=t.charCodeAt(a)===34?t.substring(a+1,o-1).trim():t.substring(a,o).trim();i[c]=r===decodeURIComponent&&l.indexOf("%")===-1?l:OGe(l,r)}s=o+1}return i}function PGe(t,e,r){let i=r?.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(t&&!Xw.test(t))throw new TypeError("argument name is invalid");let n=i(e);if(n&&!Xw.test(n))throw new TypeError("argument val is invalid");let s=t+"="+n;if(r==null)return s;if(r.maxAge!=null){let o=+r.maxAge;if(!isFinite(o))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.trunc(o)}if(r.domain){if(!Xw.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!Xw.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function OGe(t,e){try{return e(t)}catch{return t}}Ore.exports={parse:$Ge,serialize:PGe}});var Ire=w((nut,pd)=>{"use strict";var vg=require("node:crypto"),Are=/=/gu;function Fl(t,e="sha256"){if(!(this instanceof Fl))return new Fl(t,e);this.secrets=Array.isArray(t)?t:[t],this.signingKey=this.secrets[0],this.algorithm=e,_j(this.secrets),kGe(this.algorithm)}function _j(t){for(let e=0;e<t.length;++e){let r=t[e];if(typeof r!="string"&&Buffer.isBuffer(r)===!1)throw new TypeError("Secret key must be a string or Buffer.")}}function kGe(t){try{vg.createHmac(t,vg.randomBytes(16))}catch{throw new TypeError(`Algorithm ${t} not supported.`)}}function Cre(t,e,r){if(typeof t!="string")throw new TypeError("Cookie value must be provided as a string.");return t+"."+vg.createHmac(r,e).update(t).digest("base64").replace(Are,"")}function Nre(t,e,r){if(typeof t!="string")throw new TypeError("Signed cookie string must be provided.");let i=t.slice(0,t.lastIndexOf(".")),n=Buffer.from(t.slice(t.lastIndexOf(".")+1));for(let s=0;s<e.length;++s){let o=e[s],a=Buffer.from(vg.createHmac(r,o).update(i).digest("base64").replace(Are,""));if(a.length===n.length&&vg.timingSafeEqual(a,n))return{valid:!0,renew:o!==e[0],value:i}}return{valid:!1,renew:!1,value:null}}Fl.prototype.sign=function(t){return Cre(t,this.signingKey,this.algorithm)};Fl.prototype.unsign=function(t){return Nre(t,this.secrets,this.algorithm)};function AGe(t,e,r="sha256"){let i=Array.isArray(e)?e:[e];return _j(i),Cre(t,i[0],r)}function CGe(t,e,r="sha256"){let i=Array.isArray(e)?e:[e];return _j(i),Nre(t,i,r)}pd.exports=Fl;pd.exports.signerFactory=Fl;pd.exports.Signer=Fl;pd.exports.sign=AGe;pd.exports.unsign=CGe});var Rj=w((sut,oo)=>{"use strict";var NGe=Fi(),hd=kre(),{Signer:xj,sign:IGe,unsign:jGe}=Ire(),Ss=Symbol("fastify.reply.setCookies"),Sj=Symbol("fastify.reply.setCookiesHookRan");function jre(t,e,r,i){wj(t.server,t.request,t);let n=Object.assign({},i);return n.expires&&Number.isInteger(n.expires)&&(n.expires=new Date(n.expires)),n.signed&&(r=t.signCookie(r)),n.secure==="auto"&&(zGe(t.request)?n.secure=!0:(n.sameSite="lax",n.secure=!1)),t[Ss].set(`${e};${n.domain};${n.path||"/"}`,{name:e,value:r,opts:n}),t[Sj]&&qre(t),t}function qGe(t,e,r){let i=Object.assign({path:"/"},r,{expires:new Date(1),signed:void 0,maxAge:void 0});return jre(t,e,"",i)}function wj(t,e,r){if(r[Ss])return;let i=e.raw.headers.cookie;e.cookies=i?t.parseCookie(i):{},r[Ss]=new Map}function MGe(t,e){return e==="preParsing"?function(i,n,s,o){wj(t,i,n),o()}:function(i,n,s){wj(t,i,n),s()}}function qre(t){let e=t.getHeader("Set-Cookie"),r;if(e===void 0){if(t[Ss].size===1){let i=t[Ss].values().next().value;t.header("Set-Cookie",hd.serialize(i.name,i.value,i.opts)),t[Ss].clear();return}r=[]}else typeof e=="string"?r=[e]:r=e;for(let i of t[Ss].values())r.push(hd.serialize(i.name,i.value,i.opts));t.removeHeader("Set-Cookie"),t.header("Set-Cookie",r),t[Ss].clear()}function DGe(t,e,r,i){if(!e[Ss]){i();return}e[Ss].size&&qre(e),e[Sj]=!0,i()}function LGe(t,e,r){let i=e.secret,n=FGe(e.hook);if(n===void 0)return r(new Error("@fastify/cookie: Invalid value provided for the hook-option. You can set the hook-option only to false, 'onRequest' , 'preParsing' , 'preValidation' or 'preHandler'"));let o=!i||typeof i.sign=="function"&&typeof i.unsign=="function"?i:new xj(i,e.algorithm||"sha256");t.decorate("serializeCookie",hd.serialize),t.decorate("parseCookie",a),i!==void 0&&(t.decorate("signCookie",c),t.decorate("unsignCookie",l),t.decorateRequest("signCookie",c),t.decorateRequest("unsignCookie",l),t.decorateReply("signCookie",c),t.decorateReply("unsignCookie",l)),t.decorateRequest("cookies",null),t.decorateReply(Ss,null),t.decorateReply(Sj,!1),t.decorateReply("cookie",u),t.decorateReply("setCookie",u),t.decorateReply("clearCookie",f),n&&(t.addHook(n,MGe(t,n)),t.addHook("onSend",DGe)),r();function a(p){return hd.parse(p,e.parseOptions)}function c(p){return o.sign(p)}function l(p){return o.unsign(p)}function u(p,d,h){let m=Object.assign({},e.parseOptions,h);return jre(this,p,d,m)}function f(p,d){let h=Object.assign({},e.parseOptions,d);return qGe(this,p,h)}}function FGe(t="onRequest"){return{onRequest:"onRequest",preParsing:"preParsing",preValidation:"preValidation",preHandler:"preHandler",[!1]:!1}[t]}function zGe(t){return t.raw.socket?.encrypted===!0||t.headers["x-forwarded-proto"]==="https"}var Ej=NGe(LGe,{fastify:"4.x",name:"@fastify/cookie"});oo.exports=Ej;oo.exports.default=Ej;oo.exports.fastifyCookie=Ej;oo.exports.serialize=hd.serialize;oo.exports.parse=hd.parse;oo.exports.signerFactory=xj;oo.exports.Signer=xj;oo.exports.sign=IGe;oo.exports.unsign=jGe});var zre=w(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.pathToRegexp=Oi.tokensToRegexp=Oi.regexpToFunction=Oi.match=Oi.tokensToFunction=Oi.compile=Oi.parse=void 0;function UGe(t){for(var e=[],r=0;r<t.length;){var i=t[r];if(i==="*"||i==="+"||i==="?"){e.push({type:"MODIFIER",index:r,value:t[r++]});continue}if(i==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});continue}if(i==="{"){e.push({type:"OPEN",index:r,value:t[r++]});continue}if(i==="}"){e.push({type:"CLOSE",index:r,value:t[r++]});continue}if(i===":"){for(var n="",s=r+1;s<t.length;){var o=t.charCodeAt(s);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){n+=t[s++];continue}break}if(!n)throw new TypeError("Missing parameter name at ".concat(r));e.push({type:"NAME",index:r,value:n}),r=s;continue}if(i==="("){var a=1,c="",s=r+1;if(t[s]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<t.length;){if(t[s]==="\\"){c+=t[s++]+t[s++];continue}if(t[s]===")"){if(a--,a===0){s++;break}}else if(t[s]==="("&&(a++,t[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(s));c+=t[s++]}if(a)throw new TypeError("Unbalanced pattern at ".concat(r));if(!c)throw new TypeError("Missing pattern at ".concat(r));e.push({type:"PATTERN",index:r,value:c}),r=s;continue}e.push({type:"CHAR",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}function $j(t,e){e===void 0&&(e={});for(var r=UGe(t),i=e.prefixes,n=i===void 0?"./":i,s="[^".concat(md(e.delimiter||"/#?"),"]+?"),o=[],a=0,c=0,l="",u=function(k){if(c<r.length&&r[c].type===k)return r[c++].value},f=function(k){var O=u(k);if(O!==void 0)return O;var N=r[c],L=N.type,T=N.index;throw new TypeError("Unexpected ".concat(L," at ").concat(T,", expected ").concat(k))},p=function(){for(var k="",O;O=u("CHAR")||u("ESCAPED_CHAR");)k+=O;return k};c<r.length;){var d=u("CHAR"),h=u("NAME"),m=u("PATTERN");if(h||m){var v=d||"";n.indexOf(v)===-1&&(l+=v,v=""),l&&(o.push(l),l=""),o.push({name:h||a++,prefix:v,suffix:"",pattern:m||s,modifier:u("MODIFIER")||""});continue}var y=d||u("ESCAPED_CHAR");if(y){l+=y;continue}l&&(o.push(l),l="");var E=u("OPEN");if(E){var v=p(),_=u("NAME")||"",b=u("PATTERN")||"",$=p();f("CLOSE"),o.push({name:_||(b?a++:""),pattern:_&&!b?s:b,prefix:v,suffix:$,modifier:u("MODIFIER")||""});continue}f("END")}return o}Oi.parse=$j;function HGe(t,e){return Dre($j(t,e),e)}Oi.compile=HGe;function Dre(t,e){e===void 0&&(e={});var r=Pj(e),i=e.encode,n=i===void 0?function(c){return c}:i,s=e.validate,o=s===void 0?!0:s,a=t.map(function(c){if(typeof c=="object")return new RegExp("^(?:".concat(c.pattern,")$"),r)});return function(c){for(var l="",u=0;u<t.length;u++){var f=t[u];if(typeof f=="string"){l+=f;continue}var p=c?c[f.name]:void 0,d=f.modifier==="?"||f.modifier==="*",h=f.modifier==="*"||f.modifier==="+";if(Array.isArray(p)){if(!h)throw new TypeError('Expected "'.concat(f.name,'" to not repeat, but got an array'));if(p.length===0){if(d)continue;throw new TypeError('Expected "'.concat(f.name,'" to not be empty'))}for(var m=0;m<p.length;m++){var v=n(p[m],f);if(o&&!a[u].test(v))throw new TypeError('Expected all "'.concat(f.name,'" to match "').concat(f.pattern,'", but got "').concat(v,'"'));l+=f.prefix+v+f.suffix}continue}if(typeof p=="string"||typeof p=="number"){var v=n(String(p),f);if(o&&!a[u].test(v))throw new TypeError('Expected "'.concat(f.name,'" to match "').concat(f.pattern,'", but got "').concat(v,'"'));l+=f.prefix+v+f.suffix;continue}if(!d){var y=h?"an array":"a string";throw new TypeError('Expected "'.concat(f.name,'" to be ').concat(y))}}return l}}Oi.tokensToFunction=Dre;function BGe(t,e){var r=[],i=Oj(t,r,e);return Lre(i,r,e)}Oi.match=BGe;function Lre(t,e,r){r===void 0&&(r={});var i=r.decode,n=i===void 0?function(s){return s}:i;return function(s){var o=t.exec(s);if(!o)return!1;for(var a=o[0],c=o.index,l=Object.create(null),u=function(p){if(o[p]===void 0)return"continue";var d=e[p-1];d.modifier==="*"||d.modifier==="+"?l[d.name]=o[p].split(d.prefix+d.suffix).map(function(h){return n(h,d)}):l[d.name]=n(o[p],d)},f=1;f<o.length;f++)u(f);return{path:a,index:c,params:l}}}Oi.regexpToFunction=Lre;function md(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Pj(t){return t&&t.sensitive?"":"i"}function VGe(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,i=0,n=r.exec(t.source);n;)e.push({name:n[1]||i++,prefix:"",suffix:"",modifier:"",pattern:""}),n=r.exec(t.source);return t}function WGe(t,e,r){var i=t.map(function(n){return Oj(n,e,r).source});return new RegExp("(?:".concat(i.join("|"),")"),Pj(r))}function GGe(t,e,r){return Fre($j(t,r),e,r)}function Fre(t,e,r){r===void 0&&(r={});for(var i=r.strict,n=i===void 0?!1:i,s=r.start,o=s===void 0?!0:s,a=r.end,c=a===void 0?!0:a,l=r.encode,u=l===void 0?function(T){return T}:l,f=r.delimiter,p=f===void 0?"/#?":f,d=r.endsWith,h=d===void 0?"":d,m="[".concat(md(h),"]|$"),v="[".concat(md(p),"]"),y=o?"^":"",E=0,_=t;E<_.length;E++){var b=_[E];if(typeof b=="string")y+=md(u(b));else{var $=md(u(b.prefix)),k=md(u(b.suffix));if(b.pattern)if(e&&e.push(b),$||k)if(b.modifier==="+"||b.modifier==="*"){var O=b.modifier==="*"?"?":"";y+="(?:".concat($,"((?:").concat(b.pattern,")(?:").concat(k).concat($,"(?:").concat(b.pattern,"))*)").concat(k,")").concat(O)}else y+="(?:".concat($,"(").concat(b.pattern,")").concat(k,")").concat(b.modifier);else b.modifier==="+"||b.modifier==="*"?y+="((?:".concat(b.pattern,")").concat(b.modifier,")"):y+="(".concat(b.pattern,")").concat(b.modifier);else y+="(?:".concat($).concat(k,")").concat(b.modifier)}}if(c)n||(y+="".concat(v,"?")),y+=r.endsWith?"(?=".concat(m,")"):"$";else{var N=t[t.length-1],L=typeof N=="string"?v.indexOf(N[N.length-1])>-1:N===void 0;n||(y+="(?:".concat(v,"(?=").concat(m,"))?")),L||(y+="(?=".concat(v,"|").concat(m,")"))}return new RegExp(y,Pj(r))}Oi.tokensToRegexp=Fre;function Oj(t,e,r){return t instanceof RegExp?VGe(t,e):Array.isArray(t)?WGe(t,e,r):GGe(t,e,r)}Oi.pathToRegexp=Oj});var Hre=w((lut,Ure)=>{"use strict";var KGe=nu(),{pathToRegexp:JGe}=zre();function YGe(t){let e=[],r=KGe(s);return{use:i,run:n};function i(o,a){a===void 0&&(a=o,o=null);let c;if(o&&(c=JGe(ZGe(o),[],{end:!1,strict:!1})),Array.isArray(a))for(let l of a)e.push({regexp:c,fn:l});else e.push({regexp:c,fn:a});return this}function n(o,a,c){if(!e.length){t(null,o,a,c);return}o.originalUrl=o.url;let l=r.get();l.req=o,l.res=a,l.url=XGe(o.url),l.context=c,l.done()}function s(){this.next=null,this.req=null,this.res=null,this.url=null,this.context=null,this.i=0;let o=this;this.done=function(a){let c=o.req,l=o.res,u=o.url,f=o.context,p=o.i++;if(c.url=c.originalUrl,l.finished===!0||l.writableEnded===!0){o.req=null,o.res=null,o.context=null,o.i=0,r.release(o);return}if(a||e.length===p)t(a,c,l,f),o.req=null,o.res=null,o.context=null,o.i=0,r.release(o);else{let d=e[p],h=d.fn,m=d.regexp;if(m){let v=m.exec(u);v?(c.url=c.url.replace(v[0],""),c.url[0]!=="/"&&(c.url="/"+c.url),h(c,l,o.done)):o.done()}else h(c,l,o.done)}}}}function XGe(t){for(var e=0,r=t.length;e<r;e++){let i=t.charCodeAt(e);if(i===63||i===35)return t.slice(0,e)}return t}function ZGe(t){return t===""?t:t==="/"?"":t[t.length-1]==="/"?t.slice(0,-1):t}Ure.exports=YGe});var Vre=w((uut,Bre)=>{"use strict";var{createError:QGe}=ma(),eKe=QGe("FST_ERR_MIDDIE_INVALID_HOOK","The %s-hook is not supported by @fastify/middie",500);Bre.exports.FST_ERR_MIDDIE_INVALID_HOOK=eKe});var Kre=w((fut,ex)=>{"use strict";var tKe=Fi(),Wre=Hre(),Zw=Symbol("fastify-middie-middlewares"),bg=Symbol("fastify-middie-instance"),Qw=Symbol("fastify-middie-has-middlewares"),{FST_ERR_MIDDIE_INVALID_HOOK:rKe}=Vre(),Gre=["onError","onSend","preParsing","preSerialization"],iKe=["onRequest","onResponse","onTimeout","preHandler","preValidation"],nKe=[...Gre,...iKe];function kj(t,e,r){t.decorate("use",n),t[Zw]=[],t[Qw]=!1,t[bg]=Wre(a);let i=e.hook||"onRequest";if(!nKe.includes(i)){r(new rKe(i));return}t.addHook(i,Gre.includes(i)?o:s).addHook("onRegister",c);function n(l,u){if(typeof l=="string"){let f=this.prefix;l=f+(l==="/"&&f.length>0?"":l)}return this[Zw].push([l,u]),u==null?this[bg].use(l):this[bg].use(l,u),this[Qw]=!0,this}function s(l,u,f){this[Qw]?(l.raw.originalUrl=l.raw.url,l.raw.id=l.id,l.raw.hostname=l.hostname,l.raw.protocol=l.protocol,l.raw.ip=l.ip,l.raw.ips=l.ips,l.raw.log=l.log,l.raw.query=l.query,u.raw.log=l.log,l.body!==void 0&&(l.raw.body=l.body),this[bg].run(l.raw,u.raw,f)):f()}function o(l,u,f,p){s.bind(this)(l,u,p)}function a(l,u,f,p){p(l)}function c(l){let u=l[Zw].slice();l[Zw]=[],l[bg]=Wre(a),l[Qw]=!1,l.decorate("use",n);for(let f of u)l.use(...f)}r()}ex.exports=tKe(kj,{fastify:"4.x",name:"@fastify/middie"});ex.exports.default=kj;ex.exports.fastifyMiddie=kj});var Xre=w((put,Yre)=>{"use strict";var Cj=require("node:crypto").randomBytes,_g=3072,pc=0,tx=Cj(_g),sKe=/=/g,oKe=/\+/g,aKe=/\//g;Yre.exports=function(t=Buffer.isEncoding("base64url")){return t?function(){pc+24>_g&&(tx=Cj(_g),pc=0);let r=Buffer.allocUnsafe(24);return tx.copy(r,0,pc,pc+=24),r.toString("base64url")}:function(){pc+24>_g&&(tx=Cj(_g),pc=0);let r=Buffer.allocUnsafe(24);return tx.copy(r,0,pc,pc+=24),r.toString("base64").replace(sKe,"").replace(oKe,"-").replace(aKe,"_")}}});var Qre=w((hut,wg)=>{"use strict";var Zre=require("node:events").EventEmitter,cKe=require("node:util");function hc(t=new Map){this.store=t,Zre.call(this)}cKe.inherits(hc,Zre);hc.prototype.set=function(e,r,i){this.store.set(e,r),i()};hc.prototype.get=function(e,r){let i=this.store.get(e);r(null,i)};hc.prototype.destroy=function(e,r){this.store.delete(e),r()};wg.exports=hc;wg.exports.default=hc;wg.exports.Store=hc;wg.exports.MemoryStore=hc});var tie=w((gut,eie)=>{"use strict";eie.exports=class{constructor(e,r){let i=e.originalMaxAge||e.maxAge||null;this.path=e.path||"/",this.secure=e.secure??null,this.sameSite=e.sameSite||null,this.domain=e.domain||null,this.httpOnly=e.httpOnly!==void 0?e.httpOnly:!0,this.partitioned=e.partitioned,this._expires=null,e.expires&&(this.originalExpires=new Date(e.expires)),i?this.maxAge=i:e.expires?(this.expires=new Date(e.expires),this.originalMaxAge=null):this.originalMaxAge=i,this.secure==="auto"&&(r.protocol==="https"?this.secure=!0:(this.sameSite="Lax",this.secure=!1))}set expires(e){this._expires=e}get expires(){return this._expires}set maxAge(e){this.expires=new Date(Date.now()+e),this.originalMaxAge=e}get maxAge(){return this.expires instanceof Date?this.expires.valueOf()-Date.now():null}toJSON(){return{expires:this._expires,originalMaxAge:this.originalMaxAge,originalExpires:this.originalExpires,sameSite:this.sameSite,secure:this.secure,path:this.path,httpOnly:this.httpOnly,domain:this.domain,partitioned:this.partitioned}}}});var iie=w((yut,rie)=>{"use strict";var lKe=require("node:crypto"),uKe=tie(),{configure:fKe}=UE(),dKe=fKe({bigint:!1}),rx=Symbol("cookieSignerKey"),ix=Symbol("generateId"),ao=Symbol("request"),nx=Symbol("cookieOpts"),sx=Symbol("persistedHash"),xg=Symbol("hash"),Es=Symbol("sessionId"),Fn=Symbol("sessionStore"),Nj=Symbol("encryptedSessionId"),ox=Symbol("saved");rie.exports=class ax{constructor(e,r,i,n,s,o,a=i(r)){if(this[Fn]=e,this[ix]=i,this[nx]=n,this[rx]=s,this[ao]=r,this[Es]=a,this[Nj]=o&&o[Es]===a&&o[Nj]||s.sign(this.sessionId),this[ox]=!1,this.cookie=new uKe(o?.cookie||n,r),o)for(let c in o)c!=="cookie"&&c!=="sessionId"&&c!=="encryptedSessionId"&&(this[c]=o[c]);this[sx]=this[xg]()}touch(){this.cookie.originalMaxAge&&(this.cookie.expires=new Date(Date.now()+this.cookie.originalMaxAge))}regenerate(e,r){typeof e=="function"&&(r=e,e=void 0);let i=new ax(this[Fn],this[ao],this[ix],this[nx],this[rx]);if(Array.isArray(e))for(let n of e)i.set(n,this[n]);if(r)this[Fn].set(i.sessionId,i,n=>{this[ao].session=i,r(n)});else return new Promise((n,s)=>{this[Fn].set(i.sessionId,i,o=>{this[ao].session=i,o?s(o):n()})})}get(e){return this[e]}set(e,r){this[e]=r}destroy(e){if(e)this[Fn].destroy(this[Es],r=>{this[ao].session=null,e(r)});else return new Promise((r,i)=>{this[Fn].destroy(this[Es],n=>{this[ao].session=null,n?i(n):r()})})}reload(e){if(e)this[Fn].get(this[Es],(r,i)=>{this[ao].session=new ax(this[ao],this[Fn],this[ix],this[nx],this[rx],i,this[Es]),e(r)});else return new Promise((r,i)=>{this[Fn].get(this[Es],(n,s)=>{this[ao].session=new ax(this[Fn],this[ao],this[ix],this[nx],this[rx],s,this[Es]),n?i(n):r()})})}save(e){if(e)this[Fn].set(this[Es],this,r=>{r?e(r):(this[ox]=!0,this[sx]=this[xg](),e())});else return new Promise((r,i)=>{this[Fn].set(this[Es],this,n=>{n?i(n):(this[ox]=!0,this[sx]=this[xg](),r())})})}get sessionId(){return this[Es]}get encryptedSessionId(){return this[Nj]}[xg](){let e=this,r=dKe(e,function(i,n){if(!(this===e&&i==="cookie"))return n});return lKe.createHash("sha256").update(r,"utf8").digest("hex")}isModified(){return this[sx]!==this[xg]()}isSaved(){return this[ox]}}});var nie=w((vut,gd)=>{"use strict";var pKe=Fi(),hKe=Xre()(),Ij=Qre(),Sg=iie();function jj(t,e,r){let i=h(e);if(i)return r(i);e=m(e);let n=e.store,s=e.signer,o=e.cookieName,a=e.cookiePrefix,c=typeof a=="string"&&a.length!==0,l=c&&a.length;t.decorate("decryptSession",(_,b,$,k)=>{typeof $=="function"&&(k=$,$={});let O={...e.cookie,...$};u(_,{...e,cookie:O},b,k)}),t.decorateRequest("sessionStore",{getter:()=>n}),t.decorateRequest("session",null),t.addHook("onRequest",p(e)),t.addHook("onSend",d(e)),r();function u(_,b,$,k){let O=b.cookie,N=b.idGenerator,L=s.unsign(_);if(L.valid===!1){$.session=new Sg(n,$,N,O,s),k();return}let T=L.value;n.get(T,(g,x)=>{if(g){g.code==="ENOENT"?($.session=new Sg(n,$,N,O,s),k()):k(g);return}if(!x){$.session=new Sg(n,$,N,O,s),k();return}let R=new Sg(n,$,N,O,s,x,T),P=R.cookie.originalExpires||R.cookie.expires;if(P&&P.getTime()<=Date.now()){R.destroy(C=>{if(C){k(C);return}R.regenerate(k)});return}$.session=R,k()})}let f=c?function(b){let $=b.cookies[o];return $&&$.startsWith(a)&&$.slice(l)}:function(b){return b.cookies[o]};function p(_){let b=_.cookie,$=_.idGenerator;return function(O,N,L){O.session={};let T=O.raw.url.split("?",1)[0];if(E(T,b.path||"/")===!1){L();return}let g=f(O);g?u(g,_,O,L):(O.session=new Sg(n,O,$,b,s),L())}}function d(_){let b=_.cookie,$=_.saveUninitialized,k=_.rolling;return function(N,L,T,g){let x=N.session;if(!x||!x.sessionId||!x.encryptedSessionId){g();return}let R=f(N),P=v(N,R,$,k),C=b.secure===!0&&N.protocol!=="https",j=c?`${a}${x.encryptedSessionId}`:x.encryptedSessionId;if(!P||C){R&&R!==x.encryptedSessionId&&L.clearCookie(o,{domain:b.domain}),x.isSaved()&&L.setCookie(o,j,x.cookie.toJSON()),g();return}x.save(M=>{if(M){g(M);return}L.setCookie(o,j,x.cookie.toJSON()),g()})}}function h(_){if(typeof _.secret=="string"){if(_.secret.length<32)return new Error("the secret must have length 32 or greater")}else if(Array.isArray(_.secret)){if(_.secret.length===0)return new Error("at least one secret is required")}else if(!(_.secret&&typeof _.secret.sign=="function"&&typeof _.secret.unsign=="function"))return new Error("the secret option is required, and must be a String, Array of Strings, or a signer object with .sign and .unsign methods")}function m(_){let b={};return b.store=_.store||new Ij,b.idGenerator=_.idGenerator||hKe,b.cookieName=_.cookieName||"sessionId",b.cookie=_.cookie||{},b.cookie.secure=y(b.cookie,"secure",!0),b.rolling=y(_,"rolling",!0),b.saveUninitialized=y(_,"saveUninitialized",!0),b.algorithm=_.algorithm||"sha256",b.signer=typeof _.secret=="string"||Array.isArray(_.secret)?new(Rj()).Signer(_.secret,b.algorithm):_.secret,b.cookiePrefix=y(_,"cookiePrefix",""),b}function v(_,b,$,k){return b!==_.session.encryptedSessionId?$||_.session.isModified():k||_.session.isModified()}function y(_,b,$){return _[b]===void 0?$:_[b]}function E(_,b){if(_===b)return!0;let $=_.length,k=b.length;if($<=k)return!1;if(_.startsWith(b)){if(_[k]==="/")return!0;if(b[k-1]==="/")return!0}return!1}}gd.exports=pKe(jj,{fastify:"4.x",name:"@fastify/session",dependencies:["@fastify/cookie"]});gd.exports.default=jj;gd.exports.fastifySession=jj;gd.exports.Store=Ij;gd.exports.MemoryStore=Ij});var oie=w((wut,ux)=>{"use strict";var co=require("node:crypto");function lo(t){if(!(this instanceof lo))return new lo(t);let e=t||{},r=e.algorithm!==void 0?e.algorithm:"sha256";try{co.createHash(r)}catch{throw new TypeError("option algorithm must be a supported hash-algorithm")}let i=e.saltLength!==void 0?e.saltLength:8;if(typeof i!="number"||!isFinite(i)||i<1)throw new TypeError("option saltLength must be finite number > 1");let n=e.secretLength!==void 0?e.secretLength:18;if(typeof n!="number"||!isFinite(n)||n<1)throw new TypeError("option secretLength must be finite number > 1");let s=e.validity!==void 0?e.validity:0;if(typeof s!="number"||!isFinite(s)||s<0)throw new TypeError("option validity must be finite number > 0");let o=e.userInfo!==void 0?e.userInfo:!1;if(typeof o!="boolean")throw new TypeError("option userInfo must be a boolean");let a=e.hmacKey;if(a)try{Eg(r,a)}catch{throw new TypeError("option hmacKey must be a supported hmac key")}this.algorithm=r,this.saltLength=i,this.saltGenerator=yKe(i),this.secretLength=n,this.validity=s,this.userInfo=o,this.hmacKey=a}lo.prototype.create=function(e,r){if(!e||typeof e!="string")throw new TypeError("argument secret is required");let i=this.validity>0?Date.now():null;if(this.userInfo&&typeof r!="string")throw new TypeError("argument userInfo is required to be a string");return this._tokenize(e,this.saltGenerator(),i,r,this.algorithm)};lo.prototype.secret=Buffer.isEncoding("base64url")?function(e){if(e!==void 0&&typeof e!="function")throw new TypeError("argument callback must be a function");if(!e&&!global.Promise)throw new TypeError("argument callback is required");if(e){co.randomBytes(this.secretLength,(r,i)=>{r?e(r):e(null,i.toString("base64url"))});return}return new Promise((r,i)=>{co.randomBytes(this.secretLength,(n,s)=>{n?i(n):r(s.toString("base64url"))})})}:function(e){if(e!==void 0&&typeof e!="function")throw new TypeError("argument callback must be a function");if(!e&&!global.Promise)throw new TypeError("argument callback is required");return e?co.randomBytes(this.secretLength,function(r,i){r?e(r):e(null,i.toString("base64").replace(cx,"-").replace(lx,"_").replace(Rg,""))}):new Promise((r,i)=>{co.randomBytes(this.secretLength,(n,s)=>{n?i(n):r(s.toString("base64").replace(cx,"-").replace(lx,"_").replace(Rg,""))})})};lo.prototype.secretSync=Buffer.isEncoding("base64url")?function(){return co.randomBytes(this.secretLength).toString("base64url")}:function(){return co.randomBytes(this.secretLength).toString("base64").replace(cx,"-").replace(lx,"_").replace(Rg,"")};lo.prototype._tokenize=Buffer.isEncoding("base64url")?function(e,r,i,n,s){let o="";return i!==null&&(o+=i.toString(36)+"-"),typeof n=="string"&&(o+=Eg(s,this.hmacKey).update(n).digest("base64url").replace(mKe,"_")+"-"),o+=r,o+"-"+Eg(s,this.hmacKey).update(o+"-"+e,"ascii").digest("base64url")}:function(e,r,i,n,s){let o="";return i!==null&&(o+=i.toString(36)+"-"),typeof n=="string"&&(o+=Eg(s,this.hmacKey).update(n).digest("base64").replace(gKe,"_").replace(Rg,"")+"-"),o+=r,o+"-"+Eg(s,this.hmacKey).update(o+"-"+e,"ascii").digest("base64").replace(cx,"-").replace(lx,"_").replace(Rg,"")};lo.prototype.verify=function(e,r,i){if(!e||typeof e!="string"||!r||typeof r!="string"||this.userInfo&&(!i||typeof i!="string"))return!1;let n=0,s=r.indexOf("-");if(s===-1)return!1;let o=null;if(this.validity>0&&(o=parseInt(r.slice(n,s),36),Date.now()-o>this.validity||(n=s+1,s=r.indexOf("-",n),s===-1))||this.userInfo&&(n=s+1,s=r.indexOf("-",n),s===-1))return!1;let a=r.slice(n,s),c=Buffer.from(r),l=Buffer.from(this._tokenize(e,a,o,i,this.algorithm));return co.timingSafeEqual(c.length===l.length?l:c,c)&&c.length===l.length};var Rg=/=/g,cx=/\+/g,lx=/\//g,mKe=/-/g,gKe=/[+/]/g;function yKe(t){let e=[];e.push("const base62 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'.split('');"),e.push("return function () {");let r=[];for(let i=0;i<t;++i)r.push("base62[(62 * Math.random()) | 0]");return e.push("return "+r.join("+")),e.push("}"),new Function(e.join(""))()}function Eg(t,e){return e?co.createHmac(t,e):co.createHash(t)}ux.exports=lo;ux.exports.default=lo;ux.exports.Tokens=lo});var cie=w((xut,fx)=>{"use strict";var zl=require("node:assert"),vKe=Fi(),bKe=oie(),aie=ma(),_Ke=aie("FST_CSRF_MISSING_SECRET","Missing csrf secret",403),wKe=aie("FST_CSRF_INVALID_TOKEN","Invalid csrf token",403),xKe={cookieKey:"_csrf",cookieOpts:{path:"/",sameSite:!0,httpOnly:!0},sessionKey:"_csrf",getToken:SKe,getUserInfo:EKe,sessionPlugin:"@fastify/cookie"};async function Mj(t,e){let{cookieKey:r,cookieOpts:i,sessionKey:n,getToken:s,getUserInfo:o,sessionPlugin:a}=Object.assign({},xKe,e),c=e&&e.csrfOpts?e.csrfOpts:{};zl(typeof r=="string","cookieKey should be a string"),zl(typeof n=="string","sessionKey should be a string"),zl(typeof s=="function","getToken should be a function"),zl(typeof o=="function","getUserInfo should be a function"),zl(typeof i=="object","cookieOpts should be a object"),zl(["@fastify/cookie","@fastify/session","@fastify/secure-session"].includes(a),"sessionPlugin should be one of the following: '@fastify/cookie', '@fastify/session', '@fastify/secure-session'"),e.getUserInfo&&(c.userInfo=!0),a==="@fastify/cookie"&&c.userInfo&&zl(c.hmacKey,"csrfOpts.hmacKey is required");let l=new bKe(c),u=i&&i.signed;a==="@fastify/secure-session"?t.decorateReply("generateCsrf",d):a==="@fastify/session"?t.decorateReply("generateCsrf",h):t.decorateReply("generateCsrf",p),t.decorate("csrfProtection",m);let f;a==="@fastify/secure-session"?f=function(y,E){return y.session.get(n)}:a==="@fastify/session"?f=function(y,E){return y.session[n]}:f=function(y,E){return u?E.unsignCookie(y.cookies[r]||"").value:y.cookies[r]};function p(v){let y=u?this.unsignCookie(this.request.cookies[r]||"").value:this.request.cookies[r],E=v?v.userInfo:void 0;return y||(y=l.secretSync(),this.setCookie(r,y,Object.assign({},i,v))),l.create(y,E)}function d(v){let y=this.request.session.get(n);y||(y=l.secretSync(),this.request.session.set(n,y));let E=v?v.userInfo:void 0;return v&&this.request.session.options(v),l.create(y,E)}function h(v){let y=this.request.session[n],E=v?v.userInfo:void 0;return y||(y=l.secretSync(),this.request.session[n]=y),l.create(y,E)}function m(v,y,E){let _=f(v,y);if(!_)return v.log.warn("Missing csrf secret"),y.send(new _Ke);if(!l.verify(_,s(v),o(v)))return v.log.warn("Invalid csrf token"),y.send(new wKe);E()}}function SKe(t){return t.body&&t.body._csrf||t.headers["csrf-token"]||t.headers["xsrf-token"]||t.headers["x-csrf-token"]||t.headers["x-xsrf-token"]}function EKe(t){}fx.exports=vKe(Mj,{fastify:"4.x",name:"@fastify/csrf-protection"});fx.exports.default=Mj;fx.exports.fastifyCsrfProtection=Mj});var fie=w((Eut,uie)=>{function uo(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(uo.prototype[Symbol.iterator]=function(){return this});uo.of=function(){var t=arguments,e=t.length,r=0;return new uo(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};uo.empty=function(){var t=new uo(function(){return{done:!0}});return t};uo.fromSequence=function(t){var e=0,r=t.length;return new uo(function(){return e>=r?{done:!0}:{done:!1,value:t[e++]}})};uo.is=function(t){return t instanceof uo?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};uie.exports=uo});var die=w(Lj=>{Lj.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";Lj.SYMBOL_SUPPORT=typeof Symbol<"u"});var Fj=w((Tut,hie)=>{var pie=die(),RKe=pie.ARRAY_BUFFER_SUPPORT,TKe=pie.SYMBOL_SUPPORT;hie.exports=function(e,r){var i,n,s,o,a;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof r!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||RKe&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)r(e[s],s);return}if(typeof e.forEach=="function"){e.forEach(r);return}if(TKe&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(i=e,s=0;a=i.next(),a.done!==!0;)r(a.value,s),s++;return}for(n in e)e.hasOwnProperty(n)&&r(e[n],n)}});var zj=w(fo=>{var $Ke=Math.pow(2,8)-1,PKe=Math.pow(2,16)-1,OKe=Math.pow(2,32)-1,kKe=Math.pow(2,7)-1,AKe=Math.pow(2,15)-1,CKe=Math.pow(2,31)-1;fo.getPointerArray=function(t){var e=t-1;if(e<=$Ke)return Uint8Array;if(e<=PKe)return Uint16Array;if(e<=OKe)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")};fo.getSignedPointerArray=function(t){var e=t-1;return e<=kKe?Int8Array:e<=AKe?Int16Array:e<=CKe?Int32Array:Float64Array};fo.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var NKe={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};fo.getMinimalRepresentation=function(t,e){var r=null,i=0,n,s,o,a,c;for(a=0,c=t.length;a<c;a++)o=e?e(t[a]):t[a],s=fo.getNumberType(o),n=NKe[s.name],n>i&&(i=n,r=s);return r};fo.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};fo.concat=function(){var t=0,e,r,i;for(e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=new arguments[0].constructor(t);for(e=0,r=0;e<i;e++)n.set(arguments[e],r),r+=arguments[e].length;return n};fo.indices=function(t){for(var e=fo.getPointerArray(t),r=new e(t),i=0;i<t;i++)r[i]=i;return r}});var yie=w(Tg=>{var mie=Fj(),gie=zj();function IKe(t){return Array.isArray(t)||gie.isTypedArray(t)}function Uj(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function jKe(t){var e=Uj(t),r=typeof e=="number"?new Array(e):[],i=0;return mie(t,function(n){r[i++]=n}),r}function qKe(t){var e=Uj(t),r=typeof e=="number"?gie.getPointerArray(e):Array,i=typeof e=="number"?new Array(e):[],n=typeof e=="number"?new r(e):[],s=0;return mie(t,function(o){i[s]=o,n[s]=s++}),[i,n]}Tg.isArrayLike=IKe;Tg.guessLength=Uj;Tg.toArray=jKe;Tg.toArrayWithIndices=qKe});var dx=w((Out,vie)=>{var Hj=fie(),MKe=Fj(),DKe=zj(),LKe=yie();function Ir(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var i=DKe.getPointerArray(r);this.forward=new i(r),this.backward=new i(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Ir.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ir.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],i=this.forward[t];return this.tail===t?this.tail=r:this.backward[i]=r,this.forward[r]=i,this.backward[e]=t,this.head=t,this.forward[t]=e,this};Ir.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Ir.prototype.setpop=function(t,e){var r=null,i=null,n=this.items[t];return typeof n<"u"?(this.splayOnTop(n),r=this.V[n],this.V[n]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],r=this.V[n],i=this.K[n],delete this.items[this.K[n]]),this.items[t]=n,this.K[n]=t,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,i?{evicted:!0,key:i,value:r}:null)};Ir.prototype.has=function(t){return t in this.items};Ir.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};Ir.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};Ir.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,i=this.size,n=this.head,s=this.K,o=this.V,a=this.forward;r<i;)t.call(e,o[n],s[n],this),n=a[n],r++};Ir.prototype.keys=function(){var t=0,e=this.size,r=this.head,i=this.K,n=this.forward;return new Hj(function(){if(t>=e)return{done:!0};var s=i[r];return t++,t<e&&(r=n[r]),{done:!1,value:s}})};Ir.prototype.values=function(){var t=0,e=this.size,r=this.head,i=this.V,n=this.forward;return new Hj(function(){if(t>=e)return{done:!0};var s=i[r];return t++,t<e&&(r=n[r]),{done:!1,value:s}})};Ir.prototype.entries=function(){var t=0,e=this.size,r=this.head,i=this.K,n=this.V,s=this.forward;return new Hj(function(){if(t>=e)return{done:!0};var o=i[r],a=n[r];return t++,t<e&&(r=s[r]),{done:!1,value:[o,a]}})};typeof Symbol<"u"&&(Ir.prototype[Symbol.iterator]=Ir.prototype.entries);Ir.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:Ir,enumerable:!1}),t};typeof Symbol<"u"&&(Ir.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ir.prototype.inspect);Ir.from=function(t,e,r,i){if(arguments.length<2){if(i=LKe.guessLength(t),typeof i!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(i=e,e=null,r=null);var n=new Ir(e,r,i);return MKe(t,function(s,o){n.set(o,s)}),n};vie.exports=Ir});var _ie=w((kut,$g)=>{"use strict";var FKe=dx(),zKe=/^[!#$%&'*+\-.^\w`|~]+$/u;function UKe(t){if(zKe.test(t)===!1)throw new TypeError("Fieldname contains invalid characters.")}function bie(t){t=t.trim().toLowerCase();let e=[];if(t.length!==0)if(t.indexOf(",")===-1)e.push(t);else{let r=t.length,i=0,n=0,s;for(i=0;i<r;++i)s=t[i],s===" "?n=i+1:s===","&&(n!==i&&e.push(t.slice(n,i)),n=i+1);n!==i&&e.push(t.slice(n,i))}return e}function Bj(t){let e=new FKe(1e3);return UKe(t),function(r){let i=r.getHeader("Vary");if(!i){r.header("Vary",t);return}if(i==="*")return;if(t==="*"){r.header("Vary","*");return}if(Array.isArray(i)&&(i=i.join(", ")),!e.has(i)){let s=bie(i);s.indexOf("*")!==-1?e.set(i,"*"):s.indexOf(t.toLowerCase())===-1?e.set(i,i+", "+t):e.set(i,null)}let n=e.get(i);n!==null&&r.header("Vary",n)}}$g.exports.createAddFieldnameToVary=Bj;$g.exports.addOriginToVaryHeader=Bj("Origin");$g.exports.addAccessControlRequestHeadersToVaryHeader=Bj("Access-Control-Request-Headers");$g.exports.parse=bie});var Rie=w((Aut,hx)=>{"use strict";var HKe=Fi(),{addAccessControlRequestHeadersToVaryHeader:BKe,addOriginToVaryHeader:VKe}=_ie(),Wj={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",hook:"onRequest",preflightContinue:!1,optionsSuccessStatus:204,credentials:!1,exposedHeaders:null,allowedHeaders:null,maxAge:null,preflight:!0,strictPreflight:!0},WKe=["onRequest","preParsing","preValidation","preHandler","preSerialization","onSend"],Vj=["preSerialization","preParsing","onSend"];function Sie(t,e){WKe.indexOf(t)===-1&&e(new TypeError("@fastify/cors: Invalid hook option provided."))}function GKe(t,e,r){t.decorateRequest("corsPreflightEnabled",!1);let i=!0;if(typeof e=="function")wie(e,t,{hook:Wj.hook},r);else if(e.delegator){let{delegator:n,...s}=e;wie(n,t,s,r)}else{e.hideOptionsRoute!==void 0&&(i=e.hideOptionsRoute);let n=px(e);Sie(n.hook,r),Vj.indexOf(n.hook)!==-1?t.addHook(n.hook,function(o,a,c,l){Pg(t,n,o,a,l)}):t.addHook(n.hook,function(o,a,c){Pg(t,n,o,a,c)})}t.options("*",{schema:{hide:i}},(n,s)=>{if(!n.corsPreflightEnabled){s.callNotFound();return}s.send()}),r()}function wie(t,e,r,i){let n=r&&r.hook||Wj.hook;Sie(n,i),t.length===2?Vj.indexOf(n)!==-1?e.addHook(n,function(o,a,c,l){xie(t,e,o,a,l)}):e.addHook(n,function(o,a,c){xie(t,e,o,a,c)}):Vj.indexOf(n)!==-1?e.addHook(n,function(o,a,c,l){let u=t(o);if(u&&typeof u.then=="function"){u.then(f=>Pg(e,px(f,!0),o,a,l)).catch(l);return}l(new Error("Invalid CORS origin option"))}):e.addHook(n,function(o,a,c){let l=t(o);if(l&&typeof l.then=="function"){l.then(u=>Pg(e,px(u,!0),o,a,c)).catch(c);return}c(new Error("Invalid CORS origin option"))})}function xie(t,e,r,i,n){t(r,(s,o)=>{s?n(s):Pg(e,px(o,!0),r,i,n)})}function px(t,e){let r={...Wj,...t};return Array.isArray(t.origin)&&t.origin.indexOf("*")!==-1&&(r.origin="*"),Number.isInteger(r.cacheControl)?r.cacheControl=`max-age=${r.cacheControl}`:typeof r.cacheControl!="string"&&(r.cacheControl=null),r.dynamic=e||!1,r}function Pg(t,e,r,i,n){(typeof e.origin!="string"&&e.origin!==!1||e.dynamic)&&VKe(i),(typeof e.origin=="function"?YKe(t,e.origin):(o,a)=>a(null,e.origin))(r,(o,a)=>{if(o!==null)return n(o);if(a===!1)return n();if(!a)return n(new Error("Invalid CORS origin option"));if(KKe(r,i,a,e),r.raw.method==="OPTIONS"&&e.preflight===!0){if(e.strictPreflight===!0&&(!r.headers.origin||!r.headers["access-control-request-method"])){i.status(400).type("text/plain").send("Invalid Preflight Request");return}if(r.corsPreflightEnabled=!0,JKe(r,i,e),!e.preflightContinue){i.code(e.optionsSuccessStatus).header("Content-Length","0").send();return}}return n()})}function KKe(t,e,r,i){let n=XKe(t.headers.origin,r);n&&e.header("Access-Control-Allow-Origin",n),i.credentials&&e.header("Access-Control-Allow-Credentials","true"),i.exposedHeaders!==null&&e.header("Access-Control-Expose-Headers",Array.isArray(i.exposedHeaders)?i.exposedHeaders.join(", "):i.exposedHeaders)}function JKe(t,e,r){if(e.header("Access-Control-Allow-Methods",Array.isArray(r.methods)?r.methods.join(", "):r.methods),r.allowedHeaders===null){BKe(e);let i=t.headers["access-control-request-headers"];i!==void 0&&e.header("Access-Control-Allow-Headers",i)}else e.header("Access-Control-Allow-Headers",Array.isArray(r.allowedHeaders)?r.allowedHeaders.join(", "):r.allowedHeaders);r.maxAge!==null&&e.header("Access-Control-Max-Age",String(r.maxAge)),r.cacheControl&&e.header("Cache-Control",r.cacheControl)}function YKe(t,e){return function(r,i){let n=e.call(t,r.headers.origin,i);n&&typeof n.then=="function"&&n.then(s=>i(null,s),i)}}function XKe(t,e){return typeof e=="string"?e:Eie(t,e)?t:!1}function Eie(t,e){if(Array.isArray(e)){for(let r=0;r<e.length;++r)if(Eie(t,e[r]))return!0;return!1}else return typeof e=="string"?t===e:e instanceof RegExp?(e.lastIndex=0,e.test(t)):!!e}var Gj=HKe(GKe,{fastify:"4.x",name:"@fastify/cors"});hx.exports=Gj;hx.exports.fastifyCors=Gj;hx.exports.default=Gj});var Aie=w((Nut,kie)=>{"use strict";kie.exports=Pie;function Pie(t,e,r){t instanceof RegExp&&(t=$ie(t,r)),e instanceof RegExp&&(e=$ie(e,r));var i=Oie(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function $ie(t,e){var r=e.match(t);return r?r[0]:null}Pie.range=Oie;function Oie(t,e,r){var i,n,s,o,a,c=r.indexOf(t),l=r.indexOf(e,c+1),u=c;if(c>=0&&l>0){if(t===e)return[c,l];for(i=[],s=r.length;u>=0&&!a;)u==c?(i.push(u),c=r.indexOf(t,u+1)):i.length==1?a=[i.pop(),l]:(n=i.pop(),n<s&&(s=n,o=l),l=r.indexOf(e,u+1)),u=c<l&&c>=0?c:l;i.length&&(a=[s,o])}return a}});var Lie=w((Iut,Die)=>{var Cie=Aie();Die.exports=e7e;var Nie="\0SLASH"+Math.random()+"\0",Iie="\0OPEN"+Math.random()+"\0",Yj="\0CLOSE"+Math.random()+"\0",jie="\0COMMA"+Math.random()+"\0",qie="\0PERIOD"+Math.random()+"\0";function Jj(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function ZKe(t){return t.split("\\\\").join(Nie).split("\\{").join(Iie).split("\\}").join(Yj).split("\\,").join(jie).split("\\.").join(qie)}function QKe(t){return t.split(Nie).join("\\").split(Iie).join("{").split(Yj).join("}").split(jie).join(",").split(qie).join(".")}function Mie(t){if(!t)return[""];var e=[],r=Cie("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=Mie(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function e7e(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Og(ZKe(t),!0).map(QKe)):[]}function t7e(t){return"{"+t+"}"}function r7e(t){return/^-?0\d/.test(t)}function i7e(t,e){return t<=e}function n7e(t,e){return t>=e}function Og(t,e){var r=[],i=Cie("{","}",t);if(!i)return[t];var n=i.pre,s=i.post.length?Og(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=n+"{"+i.body+"}"+s[o];r.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),u=c||l,f=i.body.indexOf(",")>=0;if(!u&&!f)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+Yj+i.post,Og(t)):[t];var p;if(u)p=i.body.split(/\.\./);else if(p=Mie(i.body),p.length===1&&(p=Og(p[0],!1).map(t7e),p.length===1))return s.map(function(T){return i.pre+p[0]+T});var d;if(u){var h=Jj(p[0]),m=Jj(p[1]),v=Math.max(p[0].length,p[1].length),y=p.length==3?Math.abs(Jj(p[2])):1,E=i7e,_=m<h;_&&(y*=-1,E=n7e);var b=p.some(r7e);d=[];for(var $=h;E($,m);$+=y){var k;if(l)k=String.fromCharCode($),k==="\\"&&(k="");else if(k=String($),b){var O=v-k.length;if(O>0){var N=new Array(O+1).join("0");$<0?k="-"+N+k.slice(1):k=N+k}}d.push(k)}}else{d=[];for(var L=0;L<p.length;L++)d.push.apply(d,Og(p[L],!1))}for(var L=0;L<d.length;L++)for(var o=0;o<s.length;o++){var a=n+d[L]+s[o];(!e||u||a)&&r.push(a)}}return r}});var Fie=w(mx=>{"use strict";Object.defineProperty(mx,"__esModule",{value:!0});mx.assertValidPattern=void 0;var s7e=1024*64,o7e=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>s7e)throw new TypeError("pattern is too long")};mx.assertValidPattern=o7e});var Uie=w(gx=>{"use strict";Object.defineProperty(gx,"__esModule",{value:!0});gx.parseClass=void 0;var a7e={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},kg=t=>t.replace(/[[\]\\-]/g,"\\$&"),c7e=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),zie=t=>t.join(""),l7e=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let i=[],n=[],s=r+1,o=!1,a=!1,c=!1,l=!1,u=r,f="";e:for(;s<t.length;){let m=t.charAt(s);if((m==="!"||m==="^")&&s===r+1){l=!0,s++;continue}if(m==="]"&&o&&!c){u=s+1;break}if(o=!0,m==="\\"&&!c){c=!0,s++;continue}if(m==="["&&!c){for(let[v,[y,E,_]]of Object.entries(a7e))if(t.startsWith(v,s)){if(f)return["$.",!1,t.length-r,!0];s+=v.length,_?n.push(y):i.push(y),a=a||E;continue e}}if(c=!1,f){m>f?i.push(kg(f)+"-"+kg(m)):m===f&&i.push(kg(m)),f="",s++;continue}if(t.startsWith("-]",s+1)){i.push(kg(m+"-")),s+=2;continue}if(t.startsWith("-",s+1)){f=m,s+=2;continue}i.push(kg(m)),s++}if(u<s)return["",!1,0,!1];if(!i.length&&!n.length)return["$.",!1,t.length-r,!0];if(n.length===0&&i.length===1&&/^\\?.$/.test(i[0])&&!l){let m=i[0].length===2?i[0].slice(-1):i[0];return[c7e(m),!1,u-r,!1]}let p="["+(l?"^":"")+zie(i)+"]",d="["+(l?"":"^")+zie(n)+"]";return[i.length&&n.length?"("+p+"|"+d+")":i.length?p:d,a,u-r,!0]};gx.parseClass=l7e});var vx=w(yx=>{"use strict";Object.defineProperty(yx,"__esModule",{value:!0});yx.unescape=void 0;var u7e=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");yx.unescape=u7e});var Qj=w(wx=>{"use strict";Object.defineProperty(wx,"__esModule",{value:!0});wx.AST=void 0;var f7e=Uie(),bx=vx(),d7e=new Set(["!","?","+","*","@"]),Hie=t=>d7e.has(t),p7e="(?!(?:^|/)\\.\\.?(?:$|/))",_x="(?!\\.)",h7e=new Set(["[","."]),m7e=new Set(["..","."]),g7e=new Set("().*{}+?[]^$\\!"),y7e=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Zj="[^/]",Bie=Zj+"*?",Vie=Zj+"+?",Xj=class t{type;#e;#t;#s=!1;#r=[];#o;#y;#l;#u=!1;#a;#c;#i=!1;constructor(e,r,i={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?i:this.#e.#a,this.#l=this.#e===this?[]:this.#e.#l,e==="!"&&!this.#e.#u&&this.#l.push(this),this.#y=this.#o?this.#o.#r.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#r)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#r.map(e=>String(e)).join("|")+")":this.#c=this.#r.map(e=>String(e)).join("")}#p(){if(this!==this.#e)throw new Error("should only call on root");if(this.#u)return this;this.toString(),this.#u=!0;let e;for(;e=this.#l.pop();){if(e.type!=="!")continue;let r=e,i=r.#o;for(;i;){for(let n=r.#y+1;!i.type&&n<i.#r.length;n++)for(let s of e.#r){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(i.#r[n])}r=i,i=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#r.push(r)}}toJSON(){let e=this.type===null?this.#r.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#r.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#u&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#y===0)return!0;let e=this.#o;for(let r=0;r<this.#y;r++){let i=e.#r[r];if(!(i instanceof t&&i.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#r.length:0;return this.#y===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let i of this.#r)r.copyIn(i);return r}static#h(e,r,i,n){let s=!1,o=!1,a=-1,c=!1;if(r.type===null){let d=i,h="";for(;d<e.length;){let m=e.charAt(d++);if(s||m==="\\"){s=!s,h+=m;continue}if(o){d===a+1?(m==="^"||m==="!")&&(c=!0):m==="]"&&!(d===a+2&&c)&&(o=!1),h+=m;continue}else if(m==="["){o=!0,a=d,c=!1,h+=m;continue}if(!n.noext&&Hie(m)&&e.charAt(d)==="("){r.push(h),h="";let v=new t(m,r);d=t.#h(e,v,d,n),r.push(v);continue}h+=m}return r.push(h),d}let l=i+1,u=new t(null,r),f=[],p="";for(;l<e.length;){let d=e.charAt(l++);if(s||d==="\\"){s=!s,p+=d;continue}if(o){l===a+1?(d==="^"||d==="!")&&(c=!0):d==="]"&&!(l===a+2&&c)&&(o=!1),p+=d;continue}else if(d==="["){o=!0,a=l,c=!1,p+=d;continue}if(Hie(d)&&e.charAt(l)==="("){u.push(p),p="";let h=new t(d,u);u.push(h),l=t.#h(e,h,l,n);continue}if(d==="|"){u.push(p),p="",f.push(u),u=new t(null,r);continue}if(d===")")return p===""&&r.#r.length===0&&(r.#i=!0),u.push(p),p="",r.push(...f,u),l;p+=d}return r.type=null,r.#t=void 0,r.#r=[e.substring(i-1)],l}static fromGlob(e,r={}){let i=new t(null,void 0,r);return t.#h(e,i,0,r),i}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,i,n,s]=this.toRegExpSource();if(!(n||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return i;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#p(),!this.type){let c=this.isStart()&&this.isEnd(),l=this.#r.map(d=>{let[h,m,v,y]=typeof d=="string"?t.#d(d,this.#t,c):d.toRegExpSource(e);return this.#t=this.#t||v,this.#s=this.#s||y,h}).join(""),u="";if(this.isStart()&&typeof this.#r[0]=="string"&&!(this.#r.length===1&&m7e.has(this.#r[0]))){let h=h7e,m=r&&h.has(l.charAt(0))||l.startsWith("\\.")&&h.has(l.charAt(2))||l.startsWith("\\.\\.")&&h.has(l.charAt(4)),v=!r&&!e&&h.has(l.charAt(0));u=m?p7e:v?_x:""}let f="";return this.isEnd()&&this.#e.#u&&this.#o?.type==="!"&&(f="(?:$|\\/)"),[u+l+f,(0,bx.unescape)(l),this.#t=!!this.#t,this.#s]}let i=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#m(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#r=[c],this.type=null,this.#t=void 0,[c,(0,bx.unescape)(this.toString()),!1,!1]}let o=!i||e||r||!_x?"":this.#m(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?_x:"")+Vie;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!e?_x:"")+Bie+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=n+s+c}return[a,(0,bx.unescape)(s),this.#t=!!this.#t,this.#s]}#m(e){return this.#r.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[i,n,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,i}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#d(e,r,i=!1){let n=!1,s="",o=!1;for(let a=0;a<e.length;a++){let c=e.charAt(a);if(n){n=!1,s+=(g7e.has(c)?"\\":"")+c;continue}if(c==="\\"){a===e.length-1?s+="\\\\":n=!0;continue}if(c==="["){let[l,u,f,p]=(0,f7e.parseClass)(e,a);if(f){s+=l,o=o||u,a+=f-1,r=r||p;continue}}if(c==="*"){i&&e==="*"?s+=Vie:s+=Bie,r=!0;continue}if(c==="?"){s+=Zj,r=!0;continue}s+=y7e(c)}return[s,(0,bx.unescape)(e),!!r,o]}};wx.AST=Xj});var eq=w(xx=>{"use strict";Object.defineProperty(xx,"__esModule",{value:!0});xx.escape=void 0;var v7e=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");xx.escape=v7e});var mc=w(pe=>{"use strict";var b7e=pe&&pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pe,"__esModule",{value:!0});pe.unescape=pe.escape=pe.AST=pe.Minimatch=pe.match=pe.makeRe=pe.braceExpand=pe.defaults=pe.filter=pe.GLOBSTAR=pe.sep=pe.minimatch=void 0;var _7e=b7e(Lie()),Sx=Fie(),Kie=Qj(),w7e=eq(),x7e=vx(),S7e=(t,e,r={})=>((0,Sx.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Ul(e,r).match(t));pe.minimatch=S7e;var E7e=/^\*+([^+@!?\*\[\(]*)$/,R7e=t=>e=>!e.startsWith(".")&&e.endsWith(t),T7e=t=>e=>e.endsWith(t),$7e=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),P7e=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),O7e=/^\*+\.\*+$/,k7e=t=>!t.startsWith(".")&&t.includes("."),A7e=t=>t!=="."&&t!==".."&&t.includes("."),C7e=/^\.\*+$/,N7e=t=>t!=="."&&t!==".."&&t.startsWith("."),I7e=/^\*+$/,j7e=t=>t.length!==0&&!t.startsWith("."),q7e=t=>t.length!==0&&t!=="."&&t!=="..",M7e=/^\?+([^+@!?\*\[\(]*)?$/,D7e=([t,e=""])=>{let r=Jie([t]);return e?(e=e.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(e)):r},L7e=([t,e=""])=>{let r=Yie([t]);return e?(e=e.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(e)):r},F7e=([t,e=""])=>{let r=Yie([t]);return e?i=>r(i)&&i.endsWith(e):r},z7e=([t,e=""])=>{let r=Jie([t]);return e?i=>r(i)&&i.endsWith(e):r},Jie=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},Yie=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},Xie=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Wie={win32:{sep:"\\"},posix:{sep:"/"}};pe.sep=Xie==="win32"?Wie.win32.sep:Wie.posix.sep;pe.minimatch.sep=pe.sep;pe.GLOBSTAR=Symbol("globstar **");pe.minimatch.GLOBSTAR=pe.GLOBSTAR;var U7e="[^/]",H7e=U7e+"*?",B7e="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",V7e="(?:(?!(?:\\/|^)\\.).)*?",W7e=(t,e={})=>r=>(0,pe.minimatch)(r,t,e);pe.filter=W7e;pe.minimatch.filter=pe.filter;var zn=(t,e={})=>Object.assign({},t,e),G7e=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return pe.minimatch;let e=pe.minimatch;return Object.assign((i,n,s={})=>e(i,n,zn(t,s)),{Minimatch:class extends e.Minimatch{constructor(n,s={}){super(n,zn(t,s))}static defaults(n){return e.defaults(zn(t,n)).Minimatch}},AST:class extends e.AST{constructor(n,s,o={}){super(n,s,zn(t,o))}static fromGlob(n,s={}){return e.AST.fromGlob(n,zn(t,s))}},unescape:(i,n={})=>e.unescape(i,zn(t,n)),escape:(i,n={})=>e.escape(i,zn(t,n)),filter:(i,n={})=>e.filter(i,zn(t,n)),defaults:i=>e.defaults(zn(t,i)),makeRe:(i,n={})=>e.makeRe(i,zn(t,n)),braceExpand:(i,n={})=>e.braceExpand(i,zn(t,n)),match:(i,n,s={})=>e.match(i,n,zn(t,s)),sep:e.sep,GLOBSTAR:pe.GLOBSTAR})};pe.defaults=G7e;pe.minimatch.defaults=pe.defaults;var K7e=(t,e={})=>((0,Sx.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,_7e.default)(t));pe.braceExpand=K7e;pe.minimatch.braceExpand=pe.braceExpand;var J7e=(t,e={})=>new Ul(t,e).makeRe();pe.makeRe=J7e;pe.minimatch.makeRe=pe.makeRe;var Y7e=(t,e,r={})=>{let i=new Ul(e,r);return t=t.filter(n=>i.match(n)),i.options.nonull&&!t.length&&t.push(e),t};pe.match=Y7e;pe.minimatch.match=pe.match;var Gie=/[?*]|[+@!]\(.*?\)|\[|\]/,X7e=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ul=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,Sx.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||Xie,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let i=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let n=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!Gie.test(s[2]))&&!Gie.test(s[3]),l=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(l)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,n),this.set=n.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let i=0;i<e.length;i++)for(let n=0;n<e[i].length;n++)e[i][n]==="**"&&(e[i][n]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let n=i;for(;r[n+1]==="**";)n++;n!==i&&r.splice(i,n-i)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((i,n)=>{let s=i[i.length-1];return n==="**"&&s==="**"?i:n===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(i.pop(),i):(i.push(n),i)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){let s=e[n];n===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(n,1),n--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let i=0;for(;(i=e.indexOf("..",i+1))!==-1;){let n=e[i-1];n&&n!=="."&&n!==".."&&n!=="**"&&(r=!0,e.splice(i-1,2),i-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let i of e){let n=-1;for(;(n=i.indexOf("**",n+1))!==-1;){let o=n;for(;i[o+1]==="**";)o++;o>n&&i.splice(n+1,o-n);let a=i[n+1],c=i[n+2],l=i[n+3];if(a!==".."||!c||c==="."||c===".."||!l||l==="."||l==="..")continue;r=!0,i.splice(n,1);let u=i.slice(0);u[n]="**",e.push(u),n--}if(!this.preserveMultipleSlashes){for(let o=1;o<i.length-1;o++){let a=i[o];o===1&&a===""&&i[0]===""||(a==="."||a==="")&&(r=!0,i.splice(o,1),o--)}i[0]==="."&&i.length===2&&(i[1]==="."||i[1]==="")&&(r=!0,i.pop())}let s=0;for(;(s=i.indexOf("..",s+1))!==-1;){let o=i[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let c=s===1&&i[s+1]==="**"?["."]:[];i.splice(s-1,2,...c),i.length===0&&i.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let i=r+1;i<e.length;i++){let n=this.partsMatch(e[r],e[i],!this.preserveMultipleSlashes);if(n){e[r]=[],e[i]=n;break}}return e.filter(r=>r.length)}partsMatch(e,r,i=!1){let n=0,s=0,o=[],a="";for(;n<e.length&&s<r.length;)if(e[n]===r[s])o.push(a==="b"?r[s]:e[n]),n++,s++;else if(i&&e[n]==="**"&&r[s]===e[n+1])o.push(e[n]),n++;else if(i&&r[s]==="**"&&e[n]===r[s+1])o.push(r[s]),s++;else if(e[n]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[n]),n++,s++}else if(r[s]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),n++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,i=0;for(let n=0;n<e.length&&e.charAt(n)==="!";n++)r=!r,i++;i&&(this.pattern=e.slice(i)),this.negate=r}matchOne(e,r,i=!1){let n=this.options;if(this.isWindows){let m=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),v=!m&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),y=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),E=!y&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),_=v?3:m?0:void 0,b=E?3:y?0:void 0;if(typeof _=="number"&&typeof b=="number"){let[$,k]=[e[_],r[b]];$.toLowerCase()===k.toLowerCase()&&(r[b]=$,b>_?r=r.slice(b):_>b&&(e=e.slice(_)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,c=e.length,l=r.length;o<c&&a<l;o++,a++){this.debug("matchOne loop");var u=r[a],f=e[o];if(this.debug(r,u,f),u===!1)return!1;if(u===pe.GLOBSTAR){this.debug("GLOBSTAR",[r,u,f]);var p=o,d=a+1;if(d===l){for(this.debug("** at the end");o<c;o++)if(e[o]==="."||e[o]===".."||!n.dot&&e[o].charAt(0)===".")return!1;return!0}for(;p<c;){var h=e[p];if(this.debug(`
globstar while`,e,p,r,d,h),this.matchOne(e.slice(p),r.slice(d),i))return this.debug("globstar found match!",p,c,h),!0;if(h==="."||h===".."||!n.dot&&h.charAt(0)==="."){this.debug("dot detected!",e,p,r,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(i&&(this.debug(`
>>> no match, partial?`,e,p,r,d),p===c))}let m;if(typeof u=="string"?(m=f===u,this.debug("string match",u,f,m)):(m=u.test(f),this.debug("pattern match",u,f,m)),!m)return!1}if(o===c&&a===l)return!0;if(o===c)return i;if(a===l)return o===c-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,pe.braceExpand)(this.pattern,this.options)}parse(e){(0,Sx.assertValidPattern)(e);let r=this.options;if(e==="**")return pe.GLOBSTAR;if(e==="")return"";let i,n=null;(i=e.match(I7e))?n=r.dot?q7e:j7e:(i=e.match(E7e))?n=(r.nocase?r.dot?P7e:$7e:r.dot?T7e:R7e)(i[1]):(i=e.match(M7e))?n=(r.nocase?r.dot?L7e:D7e:r.dot?F7e:z7e)(i):(i=e.match(O7e))?n=r.dot?A7e:k7e:(i=e.match(C7e))&&(n=N7e);let s=Kie.AST.fromGlob(e,this.options).toMMPattern();return n&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:n}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,i=r.noglobstar?H7e:r.dot?B7e:V7e,n=new Set(r.nocase?["i"]:[]),s=e.map(c=>{let l=c.map(u=>{if(u instanceof RegExp)for(let f of u.flags.split(""))n.add(f);return typeof u=="string"?X7e(u):u===pe.GLOBSTAR?pe.GLOBSTAR:u._src});return l.forEach((u,f)=>{let p=l[f+1],d=l[f-1];u!==pe.GLOBSTAR||d===pe.GLOBSTAR||(d===void 0?p!==void 0&&p!==pe.GLOBSTAR?l[f+1]="(?:\\/|"+i+"\\/)?"+p:l[f]=i:p===void 0?l[f-1]=d+"(?:\\/|"+i+")?":p!==pe.GLOBSTAR&&(l[f-1]=d+"(?:\\/|\\/"+i+"\\/)"+p,l[f+1]=pe.GLOBSTAR))}),l.filter(u=>u!==pe.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...n].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let i=this.options;this.isWindows&&(e=e.split("\\").join("/"));let n=this.slashSplit(e);this.debug(this.pattern,"split",n);let s=this.set;this.debug(this.pattern,"set",s);let o=n[n.length-1];if(!o)for(let a=n.length-2;!o&&a>=0;a--)o=n[a];for(let a=0;a<s.length;a++){let c=s[a],l=n;if(i.matchBase&&c.length===1&&(l=[o]),this.matchOne(l,c,r))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(e){return pe.minimatch.defaults(e).Minimatch}};pe.Minimatch=Ul;var Z7e=Qj();Object.defineProperty(pe,"AST",{enumerable:!0,get:function(){return Z7e.AST}});var Q7e=eq();Object.defineProperty(pe,"escape",{enumerable:!0,get:function(){return Q7e.escape}});var eJe=vx();Object.defineProperty(pe,"unescape",{enumerable:!0,get:function(){return eJe.unescape}});pe.minimatch.AST=Kie.AST;pe.minimatch.Minimatch=Ul;pe.minimatch.escape=w7e.escape;pe.minimatch.unescape=x7e.unescape});var rne=w(Rx=>{"use strict";Object.defineProperty(Rx,"__esModule",{value:!0});Rx.LRUCache=void 0;var yd=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Qie=new Set,tq=typeof process=="object"&&process?process:{},ene=(t,e,r,i)=>{typeof tq.emitWarning=="function"?tq.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`)},Ex=globalThis.AbortController,Zie=globalThis.AbortSignal;if(typeof Ex>"u"){Zie=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n)}},Ex=class{constructor(){e()}signal=new Zie;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i)}}};let t=tq.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,ene("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var tJe=t=>!Qie.has(t),Vut=Symbol("type"),gc=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),tne=t=>gc(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?vd:null:null,vd=class extends Array{constructor(e){super(e),this.fill(0)}},rq=class t{heap;length;static#e=!1;static create(e){let r=tne(e);if(!r)return[];t.#e=!0;let i=new t(e,r);return t.#e=!1,i}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},iq=class t{#e;#t;#s;#r;#o;#y;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#u;#a;#c;#i;#p;#h;#m;#d;#S;#v;#E;#R;#_;#w;#x;#g;static unsafeExposeInternals(e){return{starts:e.#R,ttls:e.#_,sizes:e.#E,keyMap:e.#a,keyList:e.#c,valList:e.#i,next:e.#p,prev:e.#h,get head(){return e.#m},get tail(){return e.#d},free:e.#S,isBackgroundFetch:r=>e.#f(r),backgroundFetch:(r,i,n,s)=>e.#D(r,i,n,s),moveToTail:r=>e.#F(r),indexes:r=>e.#$(r),rindexes:r=>e.#P(r),isStale:r=>e.#b(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#u}get size(){return this.#l}get fetchMethod(){return this.#o}get memoMethod(){return this.#y}get dispose(){return this.#s}get disposeAfter(){return this.#r}constructor(e){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:c,dispose:l,disposeAfter:u,noDisposeOnSet:f,noUpdateTTL:p,maxSize:d=0,maxEntrySize:h=0,sizeCalculation:m,fetchMethod:v,memoMethod:y,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:_,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:$,ignoreFetchAbort:k}=e;if(r!==0&&!gc(r))throw new TypeError("max option must be a nonnegative integer");let O=r?tne(r):Array;if(!O)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=d,this.maxEntrySize=h||this.#t,this.sizeCalculation=m,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#y=y,v!==void 0&&typeof v!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=v,this.#x=!!v,this.#a=new Map,this.#c=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#p=new O(r),this.#h=new O(r),this.#m=0,this.#d=0,this.#S=rq.create(r),this.#l=0,this.#u=0,typeof l=="function"&&(this.#s=l),typeof u=="function"?(this.#r=u,this.#v=[]):(this.#r=void 0,this.#v=void 0),this.#w=!!this.#s,this.#g=!!this.#r,this.noDisposeOnSet=!!f,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!E,this.allowStaleOnFetchRejection=!!b,this.allowStaleOnFetchAbort=!!$,this.ignoreFetchAbort=!!k,this.maxEntrySize!==0){if(this.#t!==0&&!gc(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!gc(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#k()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!_,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=gc(n)||n===0?n:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!gc(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let N="LRU_CACHE_UNBOUNDED";tJe(N)&&(Qie.add(N),ene("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",N,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#O(){let e=new vd(this.#e),r=new vd(this.#e);this.#_=e,this.#R=r,this.#C=(s,o,a=yd.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.#b(s)&&this.#A(this.#c[s],"expire")},o+1);c.unref&&c.unref()}},this.#T=s=>{r[s]=e[s]!==0?yd.now():0},this.#n=(s,o)=>{if(e[o]){let a=e[o],c=r[o];if(!a||!c)return;s.ttl=a,s.start=c,s.now=i||n();let l=s.now-c;s.remainingTTL=a-l}};let i=0,n=()=>{let s=yd.now();if(this.ttlResolution>0){i=s;let o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],c=r[o];if(!a||!c)return 1/0;let l=(i||n())-c;return a-l},this.#b=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(i||n())-o>a}}#T=()=>{};#n=()=>{};#C=()=>{};#b=()=>!1;#k(){let e=new vd(this.#e);this.#u=0,this.#E=e,this.#N=r=>{this.#u-=e[r],e[r]=0},this.#j=(r,i,n,s)=>{if(this.#f(i))return 0;if(!gc(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(i,r),!gc(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#I=(r,i,n)=>{if(e[r]=i,this.#t){let s=this.#t-e[r];for(;this.#u>s;)this.#M(!0)}this.#u+=e[r],n&&(n.entrySize=i,n.totalCalculatedSize=this.#u)}}#N=e=>{};#I=(e,r,i)=>{};#j=(e,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#$({allowStale:e=this.allowStale}={}){if(this.#l)for(let r=this.#d;!(!this.#q(r)||((e||!this.#b(r))&&(yield r),r===this.#m));)r=this.#h[r]}*#P({allowStale:e=this.allowStale}={}){if(this.#l)for(let r=this.#m;!(!this.#q(r)||((e||!this.#b(r))&&(yield r),r===this.#d));)r=this.#p[r]}#q(e){return e!==void 0&&this.#a.get(this.#c[e])===e}*entries(){for(let e of this.#$())this.#i[e]!==void 0&&this.#c[e]!==void 0&&!this.#f(this.#i[e])&&(yield[this.#c[e],this.#i[e]])}*rentries(){for(let e of this.#P())this.#i[e]!==void 0&&this.#c[e]!==void 0&&!this.#f(this.#i[e])&&(yield[this.#c[e],this.#i[e]])}*keys(){for(let e of this.#$()){let r=this.#c[e];r!==void 0&&!this.#f(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#P()){let r=this.#c[e];r!==void 0&&!this.#f(this.#i[e])&&(yield r)}}*values(){for(let e of this.#$())this.#i[e]!==void 0&&!this.#f(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#P())this.#i[e]!==void 0&&!this.#f(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let i of this.#$()){let n=this.#i[i],s=this.#f(n)?n.__staleWhileFetching:n;if(s!==void 0&&e(s,this.#c[i],this))return this.get(this.#c[i],r)}}forEach(e,r=this){for(let i of this.#$()){let n=this.#i[i],s=this.#f(n)?n.__staleWhileFetching:n;s!==void 0&&e.call(r,s,this.#c[i],this)}}rforEach(e,r=this){for(let i of this.#P()){let n=this.#i[i],s=this.#f(n)?n.__staleWhileFetching:n;s!==void 0&&e.call(r,s,this.#c[i],this)}}purgeStale(){let e=!1;for(let r of this.#P({allowStale:!0}))this.#b(r)&&(this.#A(this.#c[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let i=this.#i[r],n=this.#f(i)?i.__staleWhileFetching:i;if(n===void 0)return;let s={value:n};if(this.#_&&this.#R){let o=this.#_[r],a=this.#R[r];if(o&&a){let c=o-(yd.now()-a);s.ttl=c,s.start=Date.now()}}return this.#E&&(s.size=this.#E[r]),s}dump(){let e=[];for(let r of this.#$({allowStale:!0})){let i=this.#c[r],n=this.#i[r],s=this.#f(n)?n.__staleWhileFetching:n;if(s===void 0||i===void 0)continue;let o={value:s};if(this.#_&&this.#R){o.ttl=this.#_[r];let a=yd.now()-this.#R[r];o.start=Math.floor(Date.now()-a)}this.#E&&(o.size=this.#E[r]),e.unshift([i,o])}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=yd.now()-n}this.set(r,i.value,i)}}set(e,r,i={}){if(r===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=i,{noUpdateTTL:l=this.noUpdateTTL}=i,u=this.#j(e,r,i.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.#A(e,"set"),this;let f=this.#l===0?void 0:this.#a.get(e);if(f===void 0)f=this.#l===0?this.#d:this.#S.length!==0?this.#S.pop():this.#l===this.#e?this.#M(!1):this.#l,this.#c[f]=e,this.#i[f]=r,this.#a.set(e,f),this.#p[this.#d]=f,this.#h[f]=this.#d,this.#d=f,this.#l++,this.#I(f,u,c),c&&(c.set="add"),l=!1;else{this.#F(f);let p=this.#i[f];if(r!==p){if(this.#x&&this.#f(p)){p.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:d}=p;d!==void 0&&!o&&(this.#w&&this.#s?.(d,e,"set"),this.#g&&this.#v?.push([d,e,"set"]))}else o||(this.#w&&this.#s?.(p,e,"set"),this.#g&&this.#v?.push([p,e,"set"]));if(this.#N(f),this.#I(f,u,c),this.#i[f]=r,c){c.set="replace";let d=p&&this.#f(p)?p.__staleWhileFetching:p;d!==void 0&&(c.oldValue=d)}}else c&&(c.set="update")}if(n!==0&&!this.#_&&this.#O(),this.#_&&(l||this.#C(f,n,s),c&&this.#n(c,f)),!o&&this.#g&&this.#v){let p=this.#v,d;for(;d=p?.shift();)this.#r?.(...d)}return this}pop(){try{for(;this.#l;){let e=this.#i[this.#m];if(this.#M(!0),this.#f(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#g&&this.#v){let e=this.#v,r;for(;r=e?.shift();)this.#r?.(...r)}}}#M(e){let r=this.#m,i=this.#c[r],n=this.#i[r];return this.#x&&this.#f(n)?n.__abortController.abort(new Error("evicted")):(this.#w||this.#g)&&(this.#w&&this.#s?.(n,i,"evict"),this.#g&&this.#v?.push([n,i,"evict"])),this.#N(r),e&&(this.#c[r]=void 0,this.#i[r]=void 0,this.#S.push(r)),this.#l===1?(this.#m=this.#d=0,this.#S.length=0):this.#m=this.#p[r],this.#a.delete(i),this.#l--,r}has(e,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#f(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(s))n&&(n.has="stale",this.#n(n,s));else return i&&this.#T(s),n&&(n.has="hit",this.#n(n,s)),!0}else n&&(n.has="miss");return!1}peek(e,r={}){let{allowStale:i=this.allowStale}=r,n=this.#a.get(e);if(n===void 0||!i&&this.#b(n))return;let s=this.#i[n];return this.#f(s)?s.__staleWhileFetching:s}#D(e,r,i,n){let s=r===void 0?void 0:this.#i[r];if(this.#f(s))return s;let o=new Ex,{signal:a}=i;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let c={signal:o.signal,options:i,context:n},l=(m,v=!1)=>{let{aborted:y}=o.signal,E=i.ignoreFetchAbort&&m!==void 0;if(i.status&&(y&&!v?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,E&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),y&&!E&&!v)return f(o.signal.reason);let _=d;return this.#i[r]===d&&(m===void 0?_.__staleWhileFetching?this.#i[r]=_.__staleWhileFetching:this.#A(e,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(e,m,c.options))),m},u=m=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=m),f(m)),f=m=>{let{aborted:v}=o.signal,y=v&&i.allowStaleOnFetchAbort,E=y||i.allowStaleOnFetchRejection,_=E||i.noDeleteOnFetchRejection,b=d;if(this.#i[r]===d&&(!_||b.__staleWhileFetching===void 0?this.#A(e,"fetch"):y||(this.#i[r]=b.__staleWhileFetching)),E)return i.status&&b.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),b.__staleWhileFetching;if(b.__returned===b)throw m},p=(m,v)=>{let y=this.#o?.(e,s,c);y&&y instanceof Promise&&y.then(E=>m(E===void 0?void 0:E),v),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(m(void 0),i.allowStaleOnFetchAbort&&(m=E=>l(E,!0)))})};i.status&&(i.status.fetchDispatched=!0);let d=new Promise(p).then(l,u),h=Object.assign(d,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,h,{...c.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=h,h}#f(e){if(!this.#x)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Ex}async fetch(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:h=this.allowStaleOnFetchAbort,context:m,forceRefresh:v=!1,status:y,signal:E}=r;if(!this.#x)return y&&(y.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:s,status:y});let _={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:c,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:h,ignoreFetchAbort:d,status:y,signal:E},b=this.#a.get(e);if(b===void 0){y&&(y.fetch="miss");let $=this.#D(e,b,_,m);return $.__returned=$}else{let $=this.#i[b];if(this.#f($)){let T=i&&$.__staleWhileFetching!==void 0;return y&&(y.fetch="inflight",T&&(y.returnedStale=!0)),T?$.__staleWhileFetching:$.__returned=$}let k=this.#b(b);if(!v&&!k)return y&&(y.fetch="hit"),this.#F(b),n&&this.#T(b),y&&this.#n(y,b),$;let O=this.#D(e,b,_,m),L=O.__staleWhileFetching!==void 0&&i;return y&&(y.fetch=k?"stale":"refresh",L&&k&&(y.returnedStale=!0)),L?O.__staleWhileFetching:O.__returned=O}}async forceFetch(e,r={}){let i=await this.fetch(e,r);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(e,r={}){let i=this.#y;if(!i)throw new Error("no memoMethod provided to constructor");let{context:n,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let c=i(e,a,{options:o,context:n});return this.set(e,c,o),c}get(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let c=this.#i[a],l=this.#f(c);return o&&this.#n(o,a),this.#b(a)?(o&&(o.get="stale"),l?(o&&i&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?c.__staleWhileFetching:void 0):(s||this.#A(e,"expire"),o&&i&&(o.returnedStale=!0),i?c:void 0)):(o&&(o.get="hit"),l?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else o&&(o.get="miss")}#L(e,r){this.#h[r]=e,this.#p[e]=r}#F(e){e!==this.#d&&(e===this.#m?this.#m=this.#p[e]:this.#L(this.#h[e],this.#p[e]),this.#L(this.#d,e),this.#d=e)}delete(e){return this.#A(e,"delete")}#A(e,r){let i=!1;if(this.#l!==0){let n=this.#a.get(e);if(n!==void 0)if(i=!0,this.#l===1)this.#z(r);else{this.#N(n);let s=this.#i[n];if(this.#f(s)?s.__abortController.abort(new Error("deleted")):(this.#w||this.#g)&&(this.#w&&this.#s?.(s,e,r),this.#g&&this.#v?.push([s,e,r])),this.#a.delete(e),this.#c[n]=void 0,this.#i[n]=void 0,n===this.#d)this.#d=this.#h[n];else if(n===this.#m)this.#m=this.#p[n];else{let o=this.#h[n];this.#p[o]=this.#p[n];let a=this.#p[n];this.#h[a]=this.#h[n]}this.#l--,this.#S.push(n)}}if(this.#g&&this.#v?.length){let n=this.#v,s;for(;s=n?.shift();)this.#r?.(...s)}return i}clear(){return this.#z("delete")}#z(e){for(let r of this.#P({allowStale:!0})){let i=this.#i[r];if(this.#f(i))i.__abortController.abort(new Error("deleted"));else{let n=this.#c[r];this.#w&&this.#s?.(i,n,e),this.#g&&this.#v?.push([i,n,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#c.fill(void 0),this.#_&&this.#R&&(this.#_.fill(0),this.#R.fill(0)),this.#E&&this.#E.fill(0),this.#m=0,this.#d=0,this.#S.length=0,this.#u=0,this.#l=0,this.#g&&this.#v){let r=this.#v,i;for(;i=r?.shift();)this.#r?.(...i)}}};Rx.LRUCache=iq});var yne=w(Nt=>{"use strict";var rJe=Nt&&Nt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),iJe=Nt&&Nt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nJe=Nt&&Nt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rJe(e,t,r);return iJe(e,t),e};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PathScurry=Nt.Path=Nt.PathScurryDarwin=Nt.PathScurryPosix=Nt.PathScurryWin32=Nt.PathScurryBase=Nt.PathPosix=Nt.PathWin32=Nt.PathBase=Nt.ChildrenCache=Nt.ResolveCache=void 0;var cne=rne(),kx=require("node:path"),sJe=require("node:url"),Cg=require("fs"),oJe=nJe(require("node:fs")),aJe=Cg.realpathSync.native,Tx=require("node:fs/promises"),ine=X_(),Ng={lstatSync:Cg.lstatSync,readdir:Cg.readdir,readdirSync:Cg.readdirSync,readlinkSync:Cg.readlinkSync,realpathSync:aJe,promises:{lstat:Tx.lstat,readdir:Tx.readdir,readlink:Tx.readlink,realpath:Tx.realpath}},lne=t=>!t||t===Ng||t===oJe?Ng:{...Ng,...t,promises:{...Ng.promises,...t.promises||{}}},une=/^\\\\\?\\([a-z]:)\\?$/i,cJe=t=>t.replace(/\//g,"\\").replace(une,"$1\\"),lJe=/[\\\/]/,Hn=0,fne=1,dne=2,po=4,pne=6,hne=8,Hl=10,mne=12,Un=15,Ag=~Un,nq=16,nne=32,Ig=64,Rs=128,$x=256,Ox=512,sne=Ig|Rs|Ox,uJe=1023,sq=t=>t.isFile()?hne:t.isDirectory()?po:t.isSymbolicLink()?Hl:t.isCharacterDevice()?dne:t.isBlockDevice()?pne:t.isSocket()?mne:t.isFIFO()?fne:Hn,one=new Map,jg=t=>{let e=one.get(t);if(e)return e;let r=t.normalize("NFKD");return one.set(t,r),r},ane=new Map,Px=t=>{let e=ane.get(t);if(e)return e;let r=jg(t.toLowerCase());return ane.set(t,r),r},qg=class extends cne.LRUCache{constructor(){super({max:256})}};Nt.ResolveCache=qg;var Ax=class extends cne.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};Nt.ChildrenCache=Ax;var gne=Symbol("PathScurry setAsCwd"),ci=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#r;get nlink(){return this.#r}#o;get uid(){return this.#o}#y;get gid(){return this.#y}#l;get rdev(){return this.#l}#u;get blksize(){return this.#u}#a;get ino(){return this.#a}#c;get size(){return this.#c}#i;get blocks(){return this.#i}#p;get atimeMs(){return this.#p}#h;get mtimeMs(){return this.#h}#m;get ctimeMs(){return this.#m}#d;get birthtimeMs(){return this.#d}#S;get atime(){return this.#S}#v;get mtime(){return this.#v}#E;get ctime(){return this.#E}#R;get birthtime(){return this.#R}#_;#w;#x;#g;#O;#T;#n;#C;#b;#k;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=Hn,i,n,s,o,a){this.name=e,this.#_=s?Px(e):jg(e),this.#n=r&uJe,this.nocase=s,this.roots=n,this.root=i||this,this.#C=o,this.#x=a.fullpath,this.#O=a.relative,this.#T=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=lne(a.fs)}depth(){return this.#w!==void 0?this.#w:this.parent?this.#w=this.parent.depth()+1:this.#w=0}childrenCache(){return this.#C}resolve(e){if(!e)return this;let r=this.getRootString(e),n=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#N(n):this.#N(n)}#N(e){let r=this;for(let i of e)r=r.child(i);return r}children(){let e=this.#C.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#C.set(this,r),this.#n&=~nq,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let i=this.children(),n=this.nocase?Px(e):jg(e);for(let c of i)if(c.#_===n)return c;let s=this.parent?this.sep:"",o=this.#x?this.#x+s+e:void 0,a=this.newChild(e,Hn,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#n|=Rs),i.push(a),a}relative(){if(this.isCWD)return"";if(this.#O!==void 0)return this.#O;let e=this.name,r=this.parent;if(!r)return this.#O=this.name;let i=r.relative();return i+(!i||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#T!==void 0)return this.#T;let e=this.name,r=this.parent;if(!r)return this.#T=this.fullpathPosix();let i=r.relativePosix();return i+(!i||!r.parent?"":"/")+e}fullpath(){if(this.#x!==void 0)return this.#x;let e=this.name,r=this.parent;if(!r)return this.#x=this.name;let n=r.fullpath()+(r.parent?this.sep:"")+e;return this.#x=n}fullpathPosix(){if(this.#g!==void 0)return this.#g;if(this.sep==="/")return this.#g=this.fullpath();if(!this.parent){let n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#g=`//?/${n}`:this.#g=n}let e=this.parent,r=e.fullpathPosix(),i=r+(!r||!e.parent?"":"/")+this.name;return this.#g=i}isUnknown(){return(this.#n&Un)===Hn}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&Un)===hne}isDirectory(){return(this.#n&Un)===po}isCharacterDevice(){return(this.#n&Un)===dne}isBlockDevice(){return(this.#n&Un)===pne}isFIFO(){return(this.#n&Un)===fne}isSocket(){return(this.#n&Un)===mne}isSymbolicLink(){return(this.#n&Hl)===Hl}lstatCached(){return this.#n&nne?this:void 0}readlinkCached(){return this.#b}realpathCached(){return this.#k}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#b)return!0;if(!this.parent)return!1;let e=this.#n&Un;return!(e!==Hn&&e!==Hl||this.#n&$x||this.#n&Rs)}calledReaddir(){return!!(this.#n&nq)}isENOENT(){return!!(this.#n&Rs)}isNamed(e){return this.nocase?this.#_===Px(e):this.#_===jg(e)}async readlink(){let e=this.#b;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),i=(await this.parent.realpath())?.resolve(r);if(i)return this.#b=i}catch(r){this.#f(r.code);return}}readlinkSync(){let e=this.#b;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),i=this.parent.realpathSync()?.resolve(r);if(i)return this.#b=i}catch(r){this.#f(r.code);return}}#I(e){this.#n|=nq;for(let r=e.provisional;r<e.length;r++){let i=e[r];i&&i.#j()}}#j(){this.#n&Rs||(this.#n=(this.#n|Rs)&Ag,this.#$())}#$(){let e=this.children();e.provisional=0;for(let r of e)r.#j()}#P(){this.#n|=Ox,this.#q()}#q(){if(this.#n&Ig)return;let e=this.#n;(e&Un)===po&&(e&=Ag),this.#n=e|Ig,this.#$()}#M(e=""){e==="ENOTDIR"||e==="EPERM"?this.#q():e==="ENOENT"?this.#j():this.children().provisional=0}#D(e=""){e==="ENOTDIR"?this.parent.#q():e==="ENOENT"&&this.#j()}#f(e=""){let r=this.#n;r|=$x,e==="ENOENT"&&(r|=Rs),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Ag),this.#n=r,e==="ENOTDIR"&&this.parent&&this.parent.#q()}#L(e,r){return this.#A(e,r)||this.#F(e,r)}#F(e,r){let i=sq(e),n=this.newChild(e.name,i,{parent:this}),s=n.#n&Un;return s!==po&&s!==Hl&&s!==Hn&&(n.#n|=Ig),r.unshift(n),r.provisional++,n}#A(e,r){for(let i=r.provisional;i<r.length;i++){let n=r[i];if((this.nocase?Px(e.name):jg(e.name))===n.#_)return this.#z(e,n,i,r)}}#z(e,r,i,n){let s=r.name;return r.#n=r.#n&Ag|sq(e),s!==e.name&&(r.name=e.name),i!==n.provisional&&(i===n.length-1?n.pop():n.splice(i,1),n.unshift(r)),n.provisional++,r}async lstat(){if(!(this.#n&Rs))try{return this.#V(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#D(e.code)}}lstatSync(){if(!(this.#n&Rs))try{return this.#V(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#D(e.code)}}#V(e){let{atime:r,atimeMs:i,birthtime:n,birthtimeMs:s,blksize:o,blocks:a,ctime:c,ctimeMs:l,dev:u,gid:f,ino:p,mode:d,mtime:h,mtimeMs:m,nlink:v,rdev:y,size:E,uid:_}=e;this.#S=r,this.#p=i,this.#R=n,this.#d=s,this.#u=o,this.#i=a,this.#E=c,this.#m=l,this.#t=u,this.#y=f,this.#a=p,this.#s=d,this.#v=h,this.#h=m,this.#r=v,this.#l=y,this.#c=E,this.#o=_;let b=sq(e);this.#n=this.#n&Ag|b|nne,b!==Hn&&b!==po&&b!==Hl&&(this.#n|=Ig)}#H=[];#B=!1;#W(e){this.#B=!1;let r=this.#H.slice();this.#H.length=0,r.forEach(i=>i(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let i=this.children();if(this.calledReaddir()){let s=i.slice(0,i.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#H.push(e),this.#B)return;this.#B=!0;let n=this.fullpath();this.#e.readdir(n,{withFileTypes:!0},(s,o)=>{if(s)this.#M(s.code),i.provisional=0;else{for(let a of o)this.#L(a,i);this.#I(i)}this.#W(i.slice(0,i.provisional))})}#U;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#U)await this.#U;else{let i=()=>{};this.#U=new Promise(n=>i=n);try{for(let n of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#L(n,e);this.#I(e)}catch(n){this.#M(n.code),e.provisional=0}this.#U=void 0,i()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let i of this.#e.readdirSync(r,{withFileTypes:!0}))this.#L(i,e);this.#I(e)}catch(i){this.#M(i.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#n&sne)return!1;let e=Un&this.#n;return e===Hn||e===po||e===Hl}shouldWalk(e,r){return(this.#n&po)===po&&!(this.#n&sne)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#k)return this.#k;if(!((Ox|$x|Rs)&this.#n))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#k=this.resolve(e)}catch{this.#P()}}realpathSync(){if(this.#k)return this.#k;if(!((Ox|$x|Rs)&this.#n))try{let e=this.#e.realpathSync(this.fullpath());return this.#k=this.resolve(e)}catch{this.#P()}}[gne](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),i=[],n=this;for(;n&&n.parent;)r.add(n),n.#O=i.join(this.sep),n.#T=i.join("/"),n=n.parent,i.push("..");for(n=e;n&&n.parent&&!r.has(n);)n.#O=void 0,n.#T=void 0,n=n.parent}};Nt.PathBase=ci;var Mg=class t extends ci{sep="\\";splitSep=lJe;constructor(e,r=Hn,i,n,s,o,a){super(e,r,i,n,s,o,a)}newChild(e,r=Hn,i={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),i)}getRootString(e){return kx.win32.parse(e).root}getRoot(e){if(e=cJe(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,i]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=i;return this.roots[e]=new Fg(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(une,"$1\\"),e===r}};Nt.PathWin32=Mg;var Dg=class t extends ci{splitSep="/";sep="/";constructor(e,r=Hn,i,n,s,o,a){super(e,r,i,n,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=Hn,i={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),i)}};Nt.PathPosix=Dg;var Lg=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#r;constructor(e=process.cwd(),r,i,{nocase:n,childrenCacheSize:s=16*1024,fs:o=Ng}={}){this.#r=lne(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,sJe.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new qg,this.#t=new qg,this.#s=new Ax(s);let c=a.substring(this.rootPath.length).split(i);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#r),this.roots[this.rootPath]=this.root;let l=this.root,u=c.length-1,f=r.sep,p=this.rootPath,d=!1;for(let h of c){let m=u--;l=l.child(h,{relative:new Array(m).fill("..").join(f),relativePosix:new Array(m).fill("..").join("/"),fullpath:p+=(d?"":f)+h}),d=!0}this.cwd=l}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let i=this.#e.get(r);if(i!==void 0)return i;let n=this.cwd.resolve(r).fullpath();return this.#e.set(r,n),n}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let i=this.#t.get(r);if(i!==void 0)return i;let n=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,n),n}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e,e=this.cwd);let{withFileTypes:i}=r;if(e.canReaddir()){let n=await e.readdir();return i?n:n.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e,e=this.cwd);let{withFileTypes:i=!0}=r;return e.canReaddir()?i?e.readdirSync():e.readdirSync().map(n=>n.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e.withFileTypes,e=this.cwd);let i=await e.readlink();return r?i:i?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e.withFileTypes,e=this.cwd);let i=e.readlinkSync();return r?i:i?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e.withFileTypes,e=this.cwd);let i=await e.realpath();return r?i:i?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e.withFileTypes,e=this.cwd);let i=e.realpathSync();return r?i:i?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e,e=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(i?e:e.fullpath());let c=new Set,l=(f,p)=>{c.add(f),f.readdirCB((d,h)=>{if(d)return p(d);let m=h.length;if(!m)return p();let v=()=>{--m===0&&p()};for(let y of h)(!s||s(y))&&a.push(i?y:y.fullpath()),n&&y.isSymbolicLink()?y.realpath().then(E=>E?.isUnknown()?E.lstat():E).then(E=>E?.shouldWalk(c,o)?l(E,v):v()):y.shouldWalk(c,o)?l(y,v):v()},!0)},u=e;return new Promise((f,p)=>{l(u,d=>{if(d)return p(d);f(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e,e=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(i?e:e.fullpath());let c=new Set([e]);for(let l of c){let u=l.readdirSync();for(let f of u){(!s||s(f))&&a.push(i?f:f.fullpath());let p=f;if(f.isSymbolicLink()){if(!(n&&(p=f.realpathSync())))continue;p.isUnknown()&&p.lstatSync()}p.shouldWalk(c,o)&&c.add(p)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e,e=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield i?e:e.fullpath());let a=new Set([e]);for(let c of a){let l=c.readdirSync();for(let u of l){(!s||s(u))&&(yield i?u:u.fullpath());let f=u;if(u.isSymbolicLink()){if(!(n&&(f=u.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(a,o)&&a.add(f)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e,e=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=new ine.Minipass({objectMode:!0});(!s||s(e))&&a.write(i?e:e.fullpath());let c=new Set,l=[e],u=0,f=()=>{let p=!1;for(;!p;){let d=l.shift();if(!d){u===0&&a.end();return}u++,c.add(d);let h=(v,y,E=!1)=>{if(v)return a.emit("error",v);if(n&&!E){let _=[];for(let b of y)b.isSymbolicLink()&&_.push(b.realpath().then($=>$?.isUnknown()?$.lstat():$));if(_.length){Promise.all(_).then(()=>h(null,y,!0));return}}for(let _ of y)_&&(!s||s(_))&&(a.write(i?_:_.fullpath())||(p=!0));u--;for(let _ of y){let b=_.realpathCached()||_;b.shouldWalk(c,o)&&l.push(b)}p&&!a.flowing?a.once("drain",f):m||f()},m=!0;d.readdirCB(h,!0),m=!1}};return f(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ci||(r=e,e=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=new ine.Minipass({objectMode:!0}),c=new Set;(!s||s(e))&&a.write(i?e:e.fullpath());let l=[e],u=0,f=()=>{let p=!1;for(;!p;){let d=l.shift();if(!d){u===0&&a.end();return}u++,c.add(d);let h=d.readdirSync();for(let m of h)(!s||s(m))&&(a.write(i?m:m.fullpath())||(p=!0));u--;for(let m of h){let v=m;if(m.isSymbolicLink()){if(!(n&&(v=m.realpathSync())))continue;v.isUnknown()&&v.lstatSync()}v.shouldWalk(c,o)&&l.push(v)}}p&&!a.flowing&&a.once("drain",f)};return f(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[gne](r)}};Nt.PathScurryBase=Lg;var Fg=class extends Lg{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:i=!0}=r;super(e,kx.win32,"\\",{...r,nocase:i}),this.nocase=i;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(e){return kx.win32.parse(e).root.toUpperCase()}newRoot(e){return new Mg(this.rootPath,po,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};Nt.PathScurryWin32=Fg;var zg=class extends Lg{sep="/";constructor(e=process.cwd(),r={}){let{nocase:i=!1}=r;super(e,kx.posix,"/",{...r,nocase:i}),this.nocase=i}parseRootPath(e){return"/"}newRoot(e){return new Dg(this.rootPath,po,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};Nt.PathScurryPosix=zg;var Cx=class extends zg{constructor(e=process.cwd(),r={}){let{nocase:i=!0}=r;super(e,{...r,nocase:i})}};Nt.PathScurryDarwin=Cx;Nt.Path=process.platform==="win32"?Mg:Dg;Nt.PathScurry=process.platform==="win32"?Fg:process.platform==="darwin"?Cx:zg});var aq=w(Nx=>{"use strict";Object.defineProperty(Nx,"__esModule",{value:!0});Nx.Pattern=void 0;var fJe=mc(),dJe=t=>t.length>=1,pJe=t=>t.length>=1,oq=class t{#e;#t;#s;length;#r;#o;#y;#l;#u;#a;#c=!0;constructor(e,r,i,n){if(!dJe(e))throw new TypeError("empty pattern list");if(!pJe(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,i<0||i>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=i,this.#r=n,this.#s===0){if(this.isUNC()){let[s,o,a,c,...l]=this.#e,[u,f,p,d,...h]=this.#t;l[0]===""&&(l.shift(),h.shift());let m=[s,o,a,c,""].join("/"),v=[u,f,p,d,""].join("/");this.#e=[m,...l],this.#t=[v,...h],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...c]=this.#t;o[0]===""&&(o.shift(),c.shift());let l=s+"/",u=a+"/";this.#e=[l,...o],this.#t=[u,...c],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===fJe.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#y=this.#y||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#r),this.#o.#a=this.#a,this.#o.#u=this.#u,this.#o.#l=this.#l,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#u!==void 0?this.#u:this.#u=this.#r==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#l!==void 0?this.#l:this.#l=this.#r==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#c)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#c?!1:(this.#c=!1,!0)}};Nx.Pattern=oq});var lq=w(Ix=>{"use strict";Object.defineProperty(Ix,"__esModule",{value:!0});Ix.Ignore=void 0;var vne=mc(),hJe=aq(),mJe=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",cq=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:i,noext:n,noglobstar:s,platform:o=mJe}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:i,noext:n,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new vne.Minimatch(e,this.mmopts);for(let i=0;i<r.set.length;i++){let n=r.set[i],s=r.globParts[i];if(!n||!s)throw new Error("invalid pattern object");for(;n[0]==="."&&s[0]===".";)n.shift(),s.shift();let o=new hJe.Pattern(n,s,0,this.platform),a=new vne.Minimatch(o.globString(),this.mmopts),c=s[s.length-1]==="**",l=o.isAbsolute();l?this.absolute.push(a):this.relative.push(a),c&&(l?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),i=`${r}/`,n=e.relative()||".",s=`${n}/`;for(let o of this.relative)if(o.match(n)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(i))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",i=(e.relative()||".")+"/";for(let n of this.relativeChildren)if(n.match(i))return!0;for(let n of this.absoluteChildren)if(n.match(r))return!0;return!1}};Ix.Ignore=cq});var _ne=w(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.Processor=ho.SubWalks=ho.MatchRecord=ho.HasWalkedCache=void 0;var bne=mc(),jx=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let i=e.fullpath(),n=this.store.get(i);n?n.add(r.globString()):this.store.set(i,new Set([r.globString()]))}};ho.HasWalkedCache=jx;var qx=class{store=new Map;add(e,r,i){let n=(r?2:0)|(i?1:0),s=this.store.get(e);this.store.set(e,s===void 0?n:n&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};ho.MatchRecord=qx;var Mx=class{store=new Map;add(e,r){if(!e.canReaddir())return;let i=this.store.get(e);i?i.find(n=>n.globString()===r.globString())||i.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};ho.SubWalks=Mx;var uq=class t{hasWalkedCache;matches=new qx;subwalks=new Mx;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new jx}processPatterns(e,r){this.patterns=r;let i=r.map(n=>[e,n]);for(let[n,s]of i){this.hasWalkedCache.storeWalked(n,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){n=n.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let f=s.rest();if(f)s=f;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,l,u=!1;for(;typeof(c=s.pattern())=="string"&&(l=s.rest());)n=n.resolve(c),s=l,u=!0;if(c=s.pattern(),l=s.rest(),u){if(this.hasWalkedCache.hasWalked(n,s))continue;this.hasWalkedCache.storeWalked(n,s)}if(typeof c=="string"){let f=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,f);continue}else if(c===bne.GLOBSTAR){(!n.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(n,s);let f=l?.pattern(),p=l?.rest();if(!l||(f===""||f===".")&&!p)this.matches.add(n,a,f===""||f===".");else if(f===".."){let d=n.parent||n;p?this.hasWalkedCache.hasWalked(d,p)||this.subwalks.add(d,p):this.matches.add(d,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let i=this.subwalks.get(e),n=this.child();for(let s of r)for(let o of i){let a=o.isAbsolute(),c=o.pattern(),l=o.rest();c===bne.GLOBSTAR?n.testGlobstar(s,o,l,a):c instanceof RegExp?n.testRegExp(s,c,l,a):n.testString(s,c,l,a)}return n}testGlobstar(e,r,i,n){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,n,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(i&&r.checkFollowGlobstar()?this.subwalks.add(e,i):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),i){let s=i.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,i.rest(),n);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,i)}else s instanceof RegExp&&this.testRegExp(e,s,i.rest(),n)}}testRegExp(e,r,i,n){r.test(e.name)&&(i?this.subwalks.add(e,i):this.matches.add(e,n,!1))}testString(e,r,i,n){e.isNamed(r)&&(i?this.subwalks.add(e,i):this.matches.add(e,n,!1))}};ho.Processor=uq});var Sne=w(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.GlobStream=yc.GlobWalker=yc.GlobUtil=void 0;var gJe=X_(),wne=lq(),xne=_ne(),yJe=(t,e)=>typeof t=="string"?new wne.Ignore([t],e):Array.isArray(t)?new wne.Ignore(t,e):t,Ug=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,i){if(this.patterns=e,this.path=r,this.opts=i,this.#s=!i.posix&&i.platform==="win32"?"\\":"/",this.includeChildMatches=i.includeChildMatches!==!1,(i.ignore||!this.includeChildMatches)&&(this.#t=yJe(i.ignore??[],i),!this.includeChildMatches&&typeof this.#t.add!="function")){let n="cannot ignore child matches, ignore lacks add() method.";throw new Error(n)}this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#r(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=e.realpathCached()||await e.realpath(),!i)return;e=i}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#r(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=e.realpathCached()||e.realpathSync(),!i)return;e=i}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#r(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let i=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let n=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(i){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+n)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+n:"."+n)}}async match(e,r,i){let n=await this.matchCheck(e,i);n&&this.matchFinish(n,r)}matchSync(e,r,i){let n=this.matchCheckSync(e,i);n&&this.matchFinish(n,r)}walkCB(e,r,i){this.signal?.aborted&&i(),this.walkCB2(e,r,new xne.Processor(this.opts),i)}walkCB2(e,r,i,n){if(this.#o(e))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(e,r,i,n));return}i.processPatterns(e,r);let s=1,o=()=>{--s===0&&n()};for(let[a,c,l]of i.matches.entries())this.#r(a)||(s++,this.match(a,c,l).then(()=>o()));for(let a of i.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,i,o):a.readdirCB((l,u)=>this.walkCB3(a,u,i,o),!0)}o()}walkCB3(e,r,i,n){i=i.filterEntries(e,r);let s=1,o=()=>{--s===0&&n()};for(let[a,c,l]of i.matches.entries())this.#r(a)||(s++,this.match(a,c,l).then(()=>o()));for(let[a,c]of i.subwalks.entries())s++,this.walkCB2(a,c,i.child(),o);o()}walkCBSync(e,r,i){this.signal?.aborted&&i(),this.walkCB2Sync(e,r,new xne.Processor(this.opts),i)}walkCB2Sync(e,r,i,n){if(this.#o(e))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,i,n));return}i.processPatterns(e,r);let s=1,o=()=>{--s===0&&n()};for(let[a,c,l]of i.matches.entries())this.#r(a)||this.matchSync(a,c,l);for(let a of i.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let c=a.readdirSync();this.walkCB3Sync(a,c,i,o)}o()}walkCB3Sync(e,r,i,n){i=i.filterEntries(e,r);let s=1,o=()=>{--s===0&&n()};for(let[a,c,l]of i.matches.entries())this.#r(a)||this.matchSync(a,c,l);for(let[a,c]of i.subwalks.entries())s++,this.walkCB2Sync(a,c,i.child(),o);o()}};yc.GlobUtil=Ug;var fq=class extends Ug{matches=new Set;constructor(e,r,i){super(e,r,i)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};yc.GlobWalker=fq;var dq=class extends Ug{results;constructor(e,r,i){super(e,r,i),this.results=new gJe.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};yc.GlobStream=dq});var hq=w(Fx=>{"use strict";Object.defineProperty(Fx,"__esModule",{value:!0});Fx.Glob=void 0;var vJe=mc(),bJe=require("node:url"),Dx=yne(),_Je=aq(),Lx=Sne(),wJe=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",pq=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,bJe.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=e,this.platform=r.platform||wJe,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let c=r.platform==="win32"?Dx.PathScurryWin32:r.platform==="darwin"?Dx.PathScurryDarwin:r.platform?Dx.PathScurryPosix:Dx.PathScurry;this.scurry=new c(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let i=this.platform==="darwin"||this.platform==="win32",n={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(c=>new vJe.Minimatch(c,n)),[o,a]=s.reduce((c,l)=>(c[0].push(...l.set),c[1].push(...l.globParts),c),[[],[]]);this.patterns=o.map((c,l)=>{let u=a[l];if(!u)throw new Error("invalid pattern object");return new _Je.Pattern(c,u,0,this.platform)})}async walk(){return[...await new Lx.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new Lx.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new Lx.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new Lx.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};Fx.Glob=pq});var mq=w(zx=>{"use strict";Object.defineProperty(zx,"__esModule",{value:!0});zx.hasMagic=void 0;var xJe=mc(),SJe=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new xJe.Minimatch(r,e).hasMagic())return!0;return!1};zx.hasMagic=SJe});var $ne=w(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.glob=Ne.sync=Ne.iterate=Ne.iterateSync=Ne.stream=Ne.streamSync=Ne.globIterate=Ne.globIterateSync=Ne.globSync=Ne.globStream=Ne.globStreamSync=Ne.Ignore=Ne.hasMagic=Ne.Glob=Ne.unescape=Ne.escape=void 0;var Ene=mc(),Bl=hq(),EJe=mq(),Tne=mc();Object.defineProperty(Ne,"escape",{enumerable:!0,get:function(){return Tne.escape}});Object.defineProperty(Ne,"unescape",{enumerable:!0,get:function(){return Tne.unescape}});var RJe=hq();Object.defineProperty(Ne,"Glob",{enumerable:!0,get:function(){return RJe.Glob}});var TJe=mq();Object.defineProperty(Ne,"hasMagic",{enumerable:!0,get:function(){return TJe.hasMagic}});var $Je=lq();Object.defineProperty(Ne,"Ignore",{enumerable:!0,get:function(){return $Je.Ignore}});function Hg(t,e={}){return new Bl.Glob(t,e).streamSync()}Ne.globStreamSync=Hg;function gq(t,e={}){return new Bl.Glob(t,e).stream()}Ne.globStream=gq;function yq(t,e={}){return new Bl.Glob(t,e).walkSync()}Ne.globSync=yq;async function Rne(t,e={}){return new Bl.Glob(t,e).walk()}function Bg(t,e={}){return new Bl.Glob(t,e).iterateSync()}Ne.globIterateSync=Bg;function vq(t,e={}){return new Bl.Glob(t,e).iterate()}Ne.globIterate=vq;Ne.streamSync=Hg;Ne.stream=Object.assign(gq,{sync:Hg});Ne.iterateSync=Bg;Ne.iterate=Object.assign(vq,{sync:Bg});Ne.sync=Object.assign(yq,{stream:Hg,iterate:Bg});Ne.glob=Object.assign(Rne,{glob:Rne,globSync:yq,sync:Ne.sync,globStream:gq,stream:Ne.stream,globStreamSync:Hg,streamSync:Ne.streamSync,globIterate:vq,iterate:Ne.iterate,globIterateSync:Bg,iterateSync:Ne.iterateSync,Glob:Bl.Glob,hasMagic:EJe.hasMagic,escape:Ene.escape,unescape:Ene.unescape});Ne.glob.glob=Ne.glob});var bq=w((tft,Pne)=>{"use strict";function PJe(t){let e=t.length;return e>21&&t.indexOf("application/javascript")===0||e>14&&t.indexOf("application/json")===0||e>5&&t.indexOf("text/")===0}Pne.exports.isUtf8MimeType=PJe});var kne=w((rft,One)=>{"use strict";function Ux(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Ux.prototype.define=function(t,e){for(let r in t){let i=t[r].map(function(n){return n.toLowerCase()});r=r.toLowerCase();for(let n=0;n<i.length;n++){let s=i[n];if(s[0]!=="*"){if(!e&&s in this._types)throw new Error('Attempt to change mapping for "'+s+'" extension from "'+this._types[s]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+s+'" from the list of extensions for "'+r+'".');this._types[s]=r}}if(e||!this._extensions[r]){let n=i[0];this._extensions[r]=n[0]!=="*"?n:n.substr(1)}}};Ux.prototype.getType=function(t){t=String(t);let e=t.replace(/^.*[/\\]/,"").toLowerCase(),r=e.replace(/^.*\./,"").toLowerCase(),i=e.length<t.length;return(r.length<e.length-1||!i)&&this._types[r]||null};Ux.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null};One.exports=Ux});var Cne=w((ift,Ane)=>{Ane.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var Ine=w((nft,Nne)=>{Nne.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var _q=w((sft,jne)=>{"use strict";var OJe=kne();jne.exports=new OJe(Cne(),Ine())});var Mne=w((oft,qne)=>{"use strict";var kJe=/["'&<>]/;qne.exports=AJe;function AJe(t){var e=""+t,r=kJe.exec(e);if(!r)return e;var i,n="",s=0,o=0;for(s=r.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==s&&(n+=e.substring(o,s)),o=s+1,n+=i}return o!==s?n+e.substring(o,s):n}});var Gg=w(xq=>{var CJe=/^(-?(?:\d+)?\.?\d+) *(m(?:illiseconds?|s(?:ecs?)?))?(s(?:ec(?:onds?|s)?)?)?(m(?:in(?:utes?|s)?)?)?(h(?:ours?|rs?)?)?(d(?:ays?)?)?(w(?:eeks?|ks?)?)?(y(?:ears?|rs?)?)?$/,Hx=1e3,Bx=Hx*60,Vx=Bx*60,Wg=Vx*24,wq=Wg*365.25;function NJe(t){var e,r=t.toLowerCase().match(CJe);if(r!=null&&(e=parseFloat(r[1])))return r[3]!=null?e*Hx:r[4]!=null?e*Bx:r[5]!=null?e*Vx:r[6]!=null?e*Wg:r[7]!=null?e*Wg*7:r[8]!=null?e*wq:e}function Vg(t,e,r,i){var n=(t|0)===t?t:~~(t+.5);return e+n+(i?" "+r+(n!=1?"s":""):r[0])}function IJe(t,e){var r=t<0?"-":"",i=t<0?-t:t;return i<Hx?t+(e?" ms":"ms"):i<Bx?Vg(i/Hx,r,"second",e):i<Vx?Vg(i/Bx,r,"minute",e):i<Wg?Vg(i/Vx,r,"hour",e):i<wq?Vg(i/Wg,r,"day",e):Vg(i/wq,r,"year",e)}xq.format=IJe;xq.parse=NJe});var Lne=w(Dne=>{"use strict";function jJe(t){let e=t.getHeaderNames();for(let r=0;r<e.length;r++)t.removeHeader(e[r])}Dne.clearHeaders=jJe});var zne=w((lft,Fne)=>{"use strict";function qJe(t){if(t[0]!=="/"||t[1]!=="/")return t;for(let e=2,r=t.length;e<r;++e)if(t[e]!=="/")return t.slice(e-1)}Fne.exports.collapseLeadingSlashes=qJe});var Hne=w((uft,Une)=>{"use strict";function MJe(t){for(let e=0,r=t.length;e<r;++e)if(t[e].length!==1&&t[e][0]===".")return!0;return!1}Une.exports.containsDotFile=MJe});var Vne=w(Bne=>{"use strict";function DJe(t,e,r){return t+" "+(r?r.start+"-"+r.end:"*")+"/"+e}Bne.contentRange=DJe});var Gne=w(Wne=>{"use strict";function LJe(t,e){let r=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>`+t+`</title>
</head>
<body>
<pre>`+e+`</pre>
</body>
</html>
`;return[r,Buffer.byteLength(r)]}Wne.createHtmlDocument=LJe});var Zne=w((pft,Xne)=>{var FJe=require("path").relative;Xne.exports=VJe;var zJe=process.cwd();function Jne(t,e){for(var r=t.split(/[ ,]+/),i=String(e).toLowerCase(),n=0;n<r.length;n++){var s=r[n];if(s&&(s==="*"||s.toLowerCase()===i))return!0}return!1}function UJe(t,e,r){var i=Object.getOwnPropertyDescriptor(t,e),n=i.value;return i.get=function(){return n},i.writable&&(i.set=function(o){return n=o}),delete i.value,delete i.writable,Object.defineProperty(t,e,i),i}function HJe(t){for(var e="",r=0;r<t;r++)e+=", arg"+r;return e.substr(2)}function BJe(t){var e=this.name+": "+this.namespace;this.message&&(e+=" deprecated "+this.message);for(var r=0;r<t.length;r++)e+=`
    at `+t[r].toString();return e}function VJe(t){if(!t)throw new TypeError("argument namespace is required");var e=Gx(),r=bd(e[1]),i=r[0];function n(s){Wx.call(n,s)}return n._file=i,n._ignored=GJe(t),n._namespace=t,n._traced=KJe(t),n._warned=Object.create(null),n.function=ZJe,n.property=QJe,n}function WJe(t,e){var r=typeof t.listenerCount!="function"?t.listeners(e).length:t.listenerCount(e);return r>0}function GJe(t){if(process.noDeprecation)return!0;var e=process.env.NO_DEPRECATION||"";return Jne(e,t)}function KJe(t){if(process.traceDeprecation)return!0;var e=process.env.TRACE_DEPRECATION||"";return Jne(e,t)}function Wx(t,e){var r=WJe(process,"deprecation");if(!(!r&&this._ignored)){var i,n,s,o,a=0,c=!1,l=Gx(),u=this._file;for(e?(o=e,s=bd(l[1]),s.name=o.name,u=s[0]):(a=2,o=bd(l[a]),s=o);a<l.length;a++)if(i=bd(l[a]),n=i[0],n===u)c=!0;else if(n===this._file)u=this._file;else if(c)break;var f=i?o.join(":")+"__"+i.join(":"):void 0;if(!(f!==void 0&&f in this._warned)){this._warned[f]=!0;var p=t;if(p||(p=s===o||!s.name?Kne(o):Kne(s)),r){var d=Yne(this._namespace,p,l.slice(a));process.emit("deprecation",d);return}var h=process.stderr.isTTY?YJe:JJe,m=h.call(this,p,i,l.slice(a));process.stderr.write(m+`
`,"utf8")}}}function bd(t){var e=t.getFileName()||"<anonymous>",r=t.getLineNumber(),i=t.getColumnNumber();t.isEval()&&(e=t.getEvalOrigin()+", "+e);var n=[e,r,i];return n.callSite=t,n.name=t.getFunctionName(),n}function Kne(t){var e=t.callSite,r=t.name;r||(r="<anonymous@"+Sq(t)+">");var i=e.getThis(),n=i&&e.getTypeName();return n==="Object"&&(n=void 0),n==="Function"&&(n=i.name||n),n&&e.getMethodName()?n+"."+r:r}function JJe(t,e,r){var i=new Date().toUTCString(),n=i+" "+this._namespace+" deprecated "+t;if(this._traced){for(var s=0;s<r.length;s++)n+=`
    at `+r[s].toString();return n}return e&&(n+=" at "+Sq(e)),n}function YJe(t,e,r){var i="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+t+"\x1B[39m";if(this._traced){for(var n=0;n<r.length;n++)i+=`
    \x1B[36mat `+r[n].toString()+"\x1B[39m";return i}return e&&(i+=" \x1B[36m"+Sq(e)+"\x1B[39m"),i}function Sq(t){return FJe(zJe,t[0])+":"+t[1]+":"+t[2]}function Gx(){var t=Error.stackTraceLimit,e={},r=Error.prepareStackTrace;Error.prepareStackTrace=XJe,Error.stackTraceLimit=Math.max(10,t),Error.captureStackTrace(e);var i=e.stack.slice(1);return Error.prepareStackTrace=r,Error.stackTraceLimit=t,i}function XJe(t,e){return e}function ZJe(t,e){if(typeof t!="function")throw new TypeError("argument fn must be a function");var r=HJe(t.length),i=Gx(),n=bd(i[1]);n.name=t.name;var s=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+r+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(t,Wx,this,e,n);return s}function QJe(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("argument obj must be object");var i=Object.getOwnPropertyDescriptor(t,e);if(!i)throw new TypeError("must call property on owner object");if(!i.configurable)throw new TypeError("property must be configurable");var n=this,s=Gx(),o=bd(s[1]);o.name=e,"value"in i&&(i=UJe(t,e,r));var a=i.get,c=i.set;typeof a=="function"&&(i.get=function(){return Wx.call(n,r,o),a.apply(this,arguments)}),typeof c=="function"&&(i.set=function(){return Wx.call(n,r,o),c.apply(this,arguments)}),Object.defineProperty(t,e,i)}function Yne(t,e,r){var i=new Error,n;return Object.defineProperty(i,"constructor",{value:Yne}),Object.defineProperty(i,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(i,"namespace",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(i,"stack",{configurable:!0,enumerable:!1,get:function(){return n!==void 0?n:n=BJe.call(this,r)},set:function(o){n=o}}),i}});var ese=w((hft,Qne)=>{"use strict";Qne.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?eYe:tYe);function eYe(t,e){return t.__proto__=e,t}function tYe(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=e[r]);return t}});var tse=w((mft,rYe)=>{rYe.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var nse=w((gft,ise)=>{"use strict";var Eq=tse();ise.exports=Ts;Ts.message=Eq;Ts.code=iYe(Eq);Ts.codes=nYe(Eq);Ts.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};Ts.empty={204:!0,205:!0,304:!0};Ts.retry={502:!0,503:!0,504:!0};function iYe(t){var e={};return Object.keys(t).forEach(function(i){var n=t[i],s=Number(i);e[n.toLowerCase()]=s}),e}function nYe(t){return Object.keys(t).map(function(r){return Number(r)})}function sYe(t){var e=t.toLowerCase();if(!Object.prototype.hasOwnProperty.call(Ts.code,e))throw new Error('invalid status message: "'+t+'"');return Ts.code[e]}function rse(t){if(!Object.prototype.hasOwnProperty.call(Ts.message,t))throw new Error("invalid status code: "+t);return Ts.message[t]}function Ts(t){if(typeof t=="number")return rse(t);if(typeof t!="string")throw new TypeError("code must be a number or string");var e=parseInt(t,10);return isNaN(e)?sYe(t):rse(e)}});var ose=w((yft,sse)=>{"use strict";sse.exports=oYe;function oYe(t){return t.split(" ").map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}});var fse=w((vft,Vl)=>{"use strict";var aYe=Zne()("http-errors"),ase=ese(),_d=nse(),Rq=Kt(),cYe=ose();Vl.exports=Kx;Vl.exports.HttpError=lYe();Vl.exports.isHttpError=fYe(Vl.exports.HttpError);pYe(Vl.exports,_d.codes,Vl.exports.HttpError);function cse(t){return+(String(t).charAt(0)+"00")}function Kx(){for(var t,e,r=500,i={},n=0;n<arguments.length;n++){var s=arguments[n],o=typeof s;if(o==="object"&&s instanceof Error)t=s,r=t.status||t.statusCode||r;else if(o==="number"&&n===0)r=s;else if(o==="string")e=s;else if(o==="object")i=s;else throw new TypeError("argument #"+(n+1)+" unsupported type "+o)}typeof r=="number"&&(r<400||r>=600)&&aYe("non-error status code; use only 4xx or 5xx status codes"),(typeof r!="number"||!_d.message[r]&&(r<400||r>=600))&&(r=500);var a=Kx[r]||Kx[cse(r)];t||(t=a?new a(e):new Error(e||_d.message[r]),Error.captureStackTrace(t,Kx)),(!a||!(t instanceof a)||t.status!==r)&&(t.expose=r<500,t.status=t.statusCode=r);for(var c in i)c!=="status"&&c!=="statusCode"&&(t[c]=i[c]);return t}function lYe(){function t(){throw new TypeError("cannot construct abstract class")}return Rq(t,Error),t}function uYe(t,e,r){var i=use(e);function n(s){var o=s??_d.message[r],a=new Error(o);return Error.captureStackTrace(a,n),ase(a,n.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:o,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:i,writable:!0}),a}return Rq(n,t),lse(n,i),n.prototype.status=r,n.prototype.statusCode=r,n.prototype.expose=!0,n}function fYe(t){return function(r){return!r||typeof r!="object"?!1:r instanceof t?!0:r instanceof Error&&typeof r.expose=="boolean"&&typeof r.statusCode=="number"&&r.status===r.statusCode}}function dYe(t,e,r){var i=use(e);function n(s){var o=s??_d.message[r],a=new Error(o);return Error.captureStackTrace(a,n),ase(a,n.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:o,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:i,writable:!0}),a}return Rq(n,t),lse(n,i),n.prototype.status=r,n.prototype.statusCode=r,n.prototype.expose=!1,n}function lse(t,e){var r=Object.getOwnPropertyDescriptor(t,"name");r&&r.configurable&&(r.value=e,Object.defineProperty(t,"name",r))}function pYe(t,e,r){e.forEach(function(n){var s,o=cYe(_d.message[n]);switch(cse(n)){case 400:s=uYe(r,o,n);break;case 500:s=dYe(r,o,n);break}s&&(t[n]=s,t[o]=s)})}function use(t){return t.substr(-5)!=="Error"?t+"Error":t}});var pse=w((bft,dse)=>{"use strict";var Tq=fse();function hYe(t,e){return e?e instanceof Error?Tq(t,e,{expose:!1}):Tq(t,e):Tq(t)}dse.exports.createHttpError=hYe});var mse=w((_ft,hse)=>{"use strict";function mYe(t,e){if(typeof t=="string")return[t];if(t===!1)return[];if(Array.isArray(t)){for(let r=0,i=t.length;r<i;++r)if(typeof t[r]!="string")throw new TypeError(e+" must be array of strings or false");return t}else throw new TypeError(e+" must be array of strings or false")}hse.exports.normalizeList=mYe});var yse=w((wft,gse)=>{"use strict";function gYe(t,e){let r=e.slice(e.indexOf("=")+1),i=[],n=r.length,s=0,o=0,a=0,c,l,u=r.indexOf(","),f=r.indexOf("-"),p=-1;for(;u===-1&&(u=n),c=parseInt(r.slice(p+1,f),10),l=parseInt(r.slice(f+1,u),10),c!==c?(c=t-l,l=t-1):(l!==l||l>t-1)&&(l=t-1),c===c&&l===l&&c>-1&&c<=l&&i.push({start:c,end:l,index:a++}),u!==n;)p=u++,f=r.indexOf("-",u),u=r.indexOf(",",u);if(a<2)return i;for(i.sort(vYe),o=a,a=0,s=1;s<o;){let d=i[s++],h=i[a];d.start>h.end+1?i[++a]=d:d.end>h.end&&(h.end=d.end,h.index>d.index&&(h.index=d.index))}return i.length=a+1,i.sort(yYe),i}function yYe(t,e){return t.index-e.index}function vYe(t,e){return t.start-e.start}gse.exports.parseBytesRange=gYe});var _se=w((xft,bse)=>{"use strict";var vse=String.prototype.slice;function bYe(t,e){let r=0,i=0,n;for(let s=0,o=t.length;s<o;s++)switch(t.charCodeAt(s)){case 32:i===r&&(i=r=s+1);break;case 44:if(i!==r&&(n=e(vse.call(t,i,r)),n!==void 0))return n;i=r=s+1;break;default:r=s+1;break}if(i!==r)return e(vse.call(t,i,r))}bse.exports.parseTokenList=bYe});var xse=w((Sft,wse)=>{"use strict";function _Ye(t,e){let r=Object.keys(e);for(let i=0;i<r.length;i++){let n=r[i];t.setHeader(n,e[n])}}wse.exports.setHeaders=_Ye});var Cse=w((Eft,Ase)=>{"use strict";var Yx=require("node:fs"),Kg=require("node:path"),Pse=require("node:stream"),wYe=require("node:util"),wr=require("node:util").debuglog("send"),xYe=sA(),Sse=Mne(),Ese=_q(),SYe=Gg(),{clearHeaders:EYe}=Lne(),{collapseLeadingSlashes:RYe}=zne(),{containsDotFile:TYe}=Hne(),{contentRange:Rse}=Vne(),{createHtmlDocument:Wl}=Gne(),{createHttpError:$Ye}=pse(),{isUtf8MimeType:PYe}=bq(),{normalizeList:Tse}=mse(),{parseBytesRange:OYe}=yse(),{parseTokenList:Ose}=_se(),{setHeaders:kYe}=xse(),AYe=Kg.extname,kse=Kg.join,$q=Kg.normalize,Pq=Kg.resolve,Jx=Kg.sep,CYe=/^ *bytes=/,NYe=60*60*24*365*1e3,$se=/(?:^|[\\/])\.\.(?:[\\/]|$)/,IYe={400:Wl("Error","Bad Request"),403:Wl("Error","Forbidden"),404:Wl("Error","Not Found"),412:Wl("Error","Precondition Failed"),416:Wl("Error","Range Not Satisfiable"),500:Wl("Error","Internal Server Error")},jYe=["allow","ignore","deny"];function yr(t,e,r){if(!new.target)return new yr(t,e,r);Pse.call(this);let i=r||{};if(this.options=i,this.path=e,this.req=t,this._acceptRanges=i.acceptRanges!==void 0?!!i.acceptRanges:!0,this._cacheControl=i.cacheControl!==void 0?!!i.cacheControl:!0,this._etag=i.etag!==void 0?!!i.etag:!0,this._dotfiles=i.dotfiles!==void 0?jYe.indexOf(i.dotfiles):1,this._dotfiles===-1)throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');this._extensions=i.extensions!==void 0?Tse(i.extensions,"extensions option"):[],this._immutable=i.immutable!==void 0?!!i.immutable:!1,this._index=i.index!==void 0?Tse(i.index,"index option"):["index.html"],this._lastModified=i.lastModified!==void 0?!!i.lastModified:!0,this._maxage=i.maxAge||i.maxage,this._maxage=typeof this._maxage=="string"?SYe.parse(this._maxage):Number(this._maxage),this._maxage=this._maxage===this._maxage?Math.min(Math.max(0,this._maxage),NYe):0,this._root=i.root?Pq(i.root):null}wYe.inherits(yr,Pse);yr.prototype.root=function(e){return this._root=Pq(String(e)),wr("root %s",this._root),this};yr.prototype.error=function(e,r){if(this.listenerCount("error")>0)return this.emit("error",$Ye(e,r));let i=this.res;EYe(i),r&&r.headers&&kYe(i,r.headers);let n=IYe[e];i.statusCode=e,i.setHeader("Content-Type","text/html; charset=UTF-8"),i.setHeader("Content-Length",n[1]),i.setHeader("Content-Security-Policy","default-src 'none'"),i.setHeader("X-Content-Type-Options","nosniff"),i.end(n[0])};yr.prototype.hasTrailingSlash=function(){return this.path[this.path.length-1]==="/"};yr.prototype.isConditionalGET=function(){return this.req.headers["if-match"]||this.req.headers["if-unmodified-since"]||this.req.headers["if-none-match"]||this.req.headers["if-modified-since"]};yr.prototype.isNotModifiedFailure=function(){let e=this.req,r=this.res;if("cache-control"in e.headers&&e.headers["cache-control"].indexOf("no-cache")!==-1)return!1;if("if-none-match"in e.headers){let i=e.headers["if-none-match"];if(i==="*")return!0;let n=r.getHeader("etag");if(typeof n!="string")return!1;let s=n.length;return!!Ose(i,function(a){let c=a.length;if(s===c&&a===n||s>c&&"W/"+a===n)return!0})}if("if-modified-since"in e.headers){let i=e.headers["if-modified-since"],n=r.getHeader("last-modified");if(!n||Date.parse(n)<=Date.parse(i))return!0}return!1};yr.prototype.isPreconditionFailure=function(){let e=this.req,r=this.res,i=e.headers["if-match"];if(i){let n=r.getHeader("ETag");if(i!=="*"&&(Ose(i,function(o){if(o===n||"W/"+o===n)return!0})||!1)!==!0)return!0}if("if-unmodified-since"in e.headers){let n=e.headers["if-unmodified-since"],s=Date.parse(n);if(s===s){let o=Date.parse(r.getHeader("Last-Modified"));if(o!==o||o>s)return!0}}return!1};yr.prototype.removeContentHeaderFields=function(){let e=this.res;e.removeHeader("Content-Encoding"),e.removeHeader("Content-Language"),e.removeHeader("Content-Length"),e.removeHeader("Content-Range"),e.removeHeader("Content-Type")};yr.prototype.notModified=function(){let e=this.res;wr("not modified"),this.removeContentHeaderFields(),e.statusCode=304,e.end()};yr.prototype.headersAlreadySent=function(){let e=new Error("Can't set headers after they are sent.");wr("headers already sent"),this.error(500,e)};yr.prototype.isCachable=function(){let e=this.res.statusCode;return e>=200&&e<300||e===304};yr.prototype.onStatError=function(e){switch(e.code){case"ENAMETOOLONG":case"ENOTDIR":case"ENOENT":this.error(404,e);break;default:this.error(500,e);break}};yr.prototype.isRangeFresh=function(){if(!("if-range"in this.req.headers))return!0;let e=this.req.headers["if-range"];if(e.indexOf('"')!==-1){let n=this.res.getHeader("ETag");return n&&e.indexOf(n)!==-1||!1}let r=Date.parse(e);if(r!==r)return!1;let i=Date.parse(this.res.getHeader("Last-Modified"));return i!==i||i<=r};yr.prototype.redirect=function(e){let r=this.res;if(this.listenerCount("directory")>0){this.emit("directory",r,e);return}if(this.hasTrailingSlash()){this.error(403);return}let i=encodeURI(RYe(this.path+"/")),n=Wl("Redirecting",'Redirecting to <a href="'+Sse(i)+'">'+Sse(i)+"</a>");r.statusCode=301,r.setHeader("Content-Type","text/html; charset=UTF-8"),r.setHeader("Content-Length",n[1]),r.setHeader("Content-Security-Policy","default-src 'none'"),r.setHeader("X-Content-Type-Options","nosniff"),r.setHeader("Location",i),r.end(n[0])};yr.prototype.pipe=function(e){let r=this._root;this.res=e;let i=xYe(this.path);if(i===null)return this.error(400),e;if(~i.indexOf("\0"))return this.error(400),e;let n;if(r!==null){if(i&&(i=$q("."+Jx+i)),$se.test(i))return wr('malicious path "%s"',i),this.error(403),e;n=i.split(Jx),i=$q(kse(r,i))}else{if($se.test(i))return wr('malicious path "%s"',i),this.error(403),e;n=$q(i).split(Jx),i=Pq(i)}if((wr.enabled||this._dotfiles!==0)&&TYe(n))switch(this._dotfiles){case 0:wr('allow dotfile "%s"',i);break;case 2:return wr('deny dotfile "%s"',i),this.error(403),e;case 1:default:return wr('ignore dotfile "%s"',i),this.error(404),e}return this._index.length&&this.hasTrailingSlash()?(this.sendIndex(i),e):(this.sendFile(i),e)};yr.prototype.send=function(e,r){let i=r.size,n=this.options,s={},o=this.res,a=this.req,c=n.start||0;if(o.headersSent){this.headersAlreadySent();return}if(wr('pipe "%s"',e),this.setHeader(e,r),this.type(e),this.isConditionalGET()){if(this.isPreconditionFailure()){this.error(412);return}if(this.isCachable()&&this.isNotModifiedFailure()){this.notModified();return}}if(i=Math.max(0,i-c),n.end!==void 0){let l=n.end-c+1;i>l&&(i=l)}if(this._acceptRanges){let l=a.headers.range;if(l!==void 0&&CYe.test(l))if(this.isRangeFresh()){let u=OYe(i,l);if(u.length===0)return wr("range unsatisfiable"),o.setHeader("Content-Range",Rse("bytes",i)),this.error(416,{headers:{"Content-Range":o.getHeader("Content-Range")}});u.length===1&&(wr("range %j",u),o.statusCode=206,o.setHeader("Content-Range",Rse("bytes",i,u[0])),c+=u[0].start,i=u[0].end-u[0].start+1)}else wr("range stale")}for(let l in n)s[l]=n[l];if(s.start=c,s.end=Math.max(c,c+i-1),o.setHeader("Content-Length",i),a.method==="HEAD"){o.end();return}this.stream(e,s)};yr.prototype.sendFile=function(e){let r=0,i=this;wr('stat "%s"',e),Yx.stat(e,function(o,a){if(o&&o.code==="ENOENT"&&!AYe(e)&&e[e.length-1]!==Jx)return n(o);if(o)return i.onStatError(o);if(a.isDirectory())return i.redirect(e);i.emit("file",e,a),i.send(e,a)});function n(s){if(i._extensions.length<=r)return s?i.onStatError(s):i.error(404);let o=e+"."+i._extensions[r++];wr('stat "%s"',o),Yx.stat(o,function(a,c){if(a)return n(a);if(c.isDirectory())return n();i.emit("file",o,c),i.send(o,c)})}};yr.prototype.sendIndex=function(e){let r=-1,i=this;function n(s){if(++r>=i._index.length)return s?i.onStatError(s):i.error(404);let o=kse(e,i._index[r]);wr('stat "%s"',o),Yx.stat(o,function(a,c){if(a)return n(a);if(c.isDirectory())return n();i.emit("file",o,c),i.send(o,c)})}n()};yr.prototype.stream=function(e,r){let i=this,n=this.res,s=Yx.createReadStream(e,r);this.emit("stream",s),s.pipe(n);let o=!1;function a(){o||(o=!0,s.destroy())}n.once("finish",a),s.on("error",function(l){a(),i.onStatError(l)}),s.on("end",function(){i.emit("end")})};yr.prototype.type=function(e){let r=this.res;if(r.getHeader("Content-Type"))return;let i=Ese.getType(e)||Ese.default_type;if(!i){wr("no content-type");return}wr("content-type %s",i),PYe(i)?r.setHeader("Content-Type",i+"; charset=UTF-8"):r.setHeader("Content-Type",i)};yr.prototype.setHeader=function(e,r){let i=this.res;if(this.emit("headers",i,e,r),this._acceptRanges&&!i.getHeader("Accept-Ranges")&&(wr("accept ranges"),i.setHeader("Accept-Ranges","bytes")),this._cacheControl&&!i.getHeader("Cache-Control")){let n="public, max-age="+Math.floor(this._maxage/1e3);this._immutable&&(n+=", immutable"),wr("cache-control %s",n),i.setHeader("Cache-Control",n)}if(this._lastModified&&!i.getHeader("Last-Modified")){let n=r.mtime.toUTCString();wr("modified %s",n),i.setHeader("Last-Modified",n)}if(this._etag&&!i.getHeader("ETag")){let n='W/"'+r.size.toString(16)+"-"+r.mtime.getTime().toString(16)+'"';wr("etag %s",n),i.setHeader("ETag",n)}};Ase.exports=yr});var Ise=w((Rft,Gl)=>{"use strict";var qYe=bq().isUtf8MimeType,MYe=_q(),Nse=Cse();function Oq(t,e,r){return new Nse(t,e,r)}Gl.exports=Oq;Gl.exports.default=Oq;Gl.exports.send=Oq;Gl.exports.SendStream=Nse;Gl.exports.isUtf8MimeType=qYe;Gl.exports.mime=MYe});var Fse=w((Tft,kq)=>{"use strict";kq.exports=KYe;kq.exports.parse=ZYe;var jse=require("path").basename,DYe=sw().Buffer,LYe=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,FYe=/%[0-9A-Fa-f]{2}/,zYe=/%([0-9A-Fa-f]{2})/g,Mse=/[^\x20-\x7e\xa0-\xff]/g,UYe=/\\([\u0000-\u007f])/g,HYe=/([\\"])/g,qse=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,BYe=/^[\x20-\x7e\x80-\xff]+$/,VYe=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,WYe=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,GYe=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function KYe(t,e){var r=e||{},i=r.type||"attachment",n=JYe(t,r.fallback);return YYe(new Lse(i,n))}function JYe(t,e){if(t!==void 0){var r={};if(typeof t!="string")throw new TypeError("filename must be a string");if(e===void 0&&(e=!0),typeof e!="string"&&typeof e!="boolean")throw new TypeError("fallback must be a string or boolean");if(typeof e=="string"&&Mse.test(e))throw new TypeError("fallback must be ISO-8859-1 string");var i=jse(t),n=BYe.test(i),s=typeof e!="string"?e&&Dse(i):jse(e),o=typeof s=="string"&&s!==i;return(o||!n||FYe.test(i))&&(r["filename*"]=i),(n||o)&&(r.filename=o?s:i),r}}function YYe(t){var e=t.parameters,r=t.type;if(!r||typeof r!="string"||!VYe.test(r))throw new TypeError("invalid type");var i=String(r).toLowerCase();if(e&&typeof e=="object")for(var n,s=Object.keys(e).sort(),o=0;o<s.length;o++){n=s[o];var a=n.substr(-1)==="*"?rXe(e[n]):tXe(e[n]);i+="; "+n+"="+a}return i}function XYe(t){var e=WYe.exec(t);if(!e)throw new TypeError("invalid extended field value");var r=e[1].toLowerCase(),i=e[2],n,s=i.replace(zYe,QYe);switch(r){case"iso-8859-1":n=Dse(s);break;case"utf-8":n=DYe.from(s,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return n}function Dse(t){return String(t).replace(Mse,"?")}function ZYe(t){if(!t||typeof t!="string")throw new TypeError("argument string is required");var e=GYe.exec(t);if(!e)throw new TypeError("invalid type format");var r=e[0].length,i=e[1].toLowerCase(),n,s=[],o={},a;for(r=qse.lastIndex=e[0].substr(-1)===";"?r-1:r;e=qse.exec(t);){if(e.index!==r)throw new TypeError("invalid parameter format");if(r+=e[0].length,n=e[1].toLowerCase(),a=e[2],s.indexOf(n)!==-1)throw new TypeError("invalid duplicate parameter");if(s.push(n),n.indexOf("*")+1===n.length){n=n.slice(0,-1),a=XYe(a),o[n]=a;continue}typeof o[n]!="string"&&(a[0]==='"'&&(a=a.substr(1,a.length-2).replace(UYe,"$1")),o[n]=a)}if(r!==-1&&r!==t.length)throw new TypeError("invalid parameter format");return new Lse(i,o)}function QYe(t,e){return String.fromCharCode(parseInt(e,16))}function eXe(t){return"%"+String(t).charCodeAt(0).toString(16).toUpperCase()}function tXe(t){var e=String(t);return'"'+e.replace(HYe,"\\$1")+'"'}function rXe(t){var e=String(t),r=encodeURIComponent(e).replace(LYe,eXe);return"UTF-8''"+r}function Lse(t,e){this.type=t,this.parameters=e}});var Bse=w(($ft,Hse)=>{"use strict";var iXe=require("node:os"),pn=require("node:path"),Xx=require("node:fs/promises"),zse=ly(),Use=Math.max(1,iXe.cpus().length-1),Kl={_getExtendedInfo:async function(t,e){let r=t.split(pn.sep).length,i=await Xx.readdir(t),n=async o=>{let a=pn.join(t,o),c;try{c=await Xx.stat(a)}catch{return}c.isDirectory()?(e.totalFolderCount++,a.split(pn.sep).length===r+1&&e.folderCount++,await Kl._getExtendedInfo(a,e)):(e.totalSize+=c.size,e.totalFileCount++,a.split(pn.sep).length===r+1&&e.fileCount++,e.lastModified=Math.max(e.lastModified,c.mtimeMs))},s=zse.promise(n,Use);await Promise.all(i.map(o=>s.push(o)))},getExtendedInfo:async function(t){let e={totalSize:0,fileCount:0,totalFileCount:0,folderCount:0,totalFolderCount:0,lastModified:0};return await Kl._getExtendedInfo(t,e),e},list:async function(t,e,r){let i={dirs:[],files:[]},n=await Xx.readdir(t);if((r==="deny"||r==="ignore")&&(n=n.filter(a=>a.charAt(0)!==".")),n.length<1)return i;let s=async a=>{let c;try{c=await Xx.stat(pn.join(t,a))}catch{return}let l={name:a,stats:c};c.isDirectory()?(e.extendedFolderInfo&&(l.extendedInfo=await Kl.getExtendedInfo(pn.join(t,a))),i.dirs.push(l)):i.files.push(l)},o=zse.promise(s,Use);return await Promise.all(n.map(a=>o.push(a))),i.dirs.sort((a,c)=>a.name.localeCompare(c.name)),i.files.sort((a,c)=>a.name.localeCompare(c.name)),i},send:async function({reply:t,dir:e,options:r,route:i,prefix:n,dotfiles:s}){if(t.request.query.format==="html"&&typeof r.render!="function")throw new Error("The `list.render` option must be a function and is required with the URL parameter `format=html`");let o;try{o=await Kl.list(e,r,s)}catch{return t.callNotFound()}if((t.request.query.format||r.format)!=="html"){if(r.jsonFormat!=="extended"){let l={dirs:[],files:[]};o.dirs.forEach(u=>l.dirs.push(u.name)),o.files.forEach(u=>l.files.push(u.name)),t.send(l)}else t.send(o);return}let c=r.render(o.dirs.map(l=>Kl.htmlInfo(l,i,n,r)),o.files.map(l=>Kl.htmlInfo(l,i,n,r)));t.type("text/html").send(c)},htmlInfo:function(t,e,r,i){return i.names?.includes(pn.basename(e))&&(e=pn.normalize(pn.join(e,".."))),{href:encodeURI(pn.join(r,e,t.name).replace(/\\/gu,"/")),name:t.name,stats:t.stats,extendedInfo:t.extendedInfo}},handle:function(t,e){return e.names?.includes(pn.basename(t))||((e.names?.includes("/")&&t[t.length-1]==="/")??!1)},path:function(t,e){let r=e[e.length-1]==="/"?e+"none":e;return pn.dirname(pn.join(t,r))},validateOptions:function(t){if(t.list){if(Array.isArray(t.root))return new TypeError("multi-root with list option is not supported");if(t.list.format&&t.list.format!=="json"&&t.list.format!=="html")return new TypeError("The `list.format` option must be json or html");if(t.list.names&&!Array.isArray(t.list.names))return new TypeError("The `list.names` option must be an array");if(t.list.jsonFormat!=null&&t.list.jsonFormat!=="names"&&t.list.jsonFormat!=="extended")return new TypeError("The `list.jsonFormat` option must be name or extended");if(t.list.format==="html"&&typeof t.list.render!="function")return new TypeError("The `list.render` option must be a function and is required with html format")}}};Hse.exports=Kl});var Xse=w((Pft,Zx)=>{"use strict";var{PassThrough:nXe}=require("node:stream"),vc=require("node:path"),{fileURLToPath:Vse}=require("node:url"),{statSync:Yse}=require("node:fs"),{glob:sXe}=$ne(),oXe=Fi(),Yg=Ise(),aXe=wC(),cXe=Fse(),Jg=Bse(),Wse=/\/$/u,lXe=/\*/gu,uXe=["br","gzip","deflate"];Yg.mime.default_type="application/octet-stream";async function Cq(t,e){e.root=fXe(e.root),dXe(t,e.root);let r=e.setHeaders;if(r!==void 0&&typeof r!="function")throw new TypeError("The `setHeaders` option must be a function");let i=Jg.validateOptions(e);if(i)throw i;e.dotfiles===void 0&&(e.dotfiles="allow");let n={root:e.root,acceptRanges:e.acceptRanges,cacheControl:e.cacheControl,dotfiles:e.dotfiles,etag:e.etag,extensions:e.extensions,immutable:e.immutable,index:e.index,lastModified:e.lastModified,maxAge:e.maxAge},s=e.prefix??(e.prefix="/");e.prefixAvoidTrailingSlash||(s=s[s.length-1]==="/"?s:s+"/");let o={constraints:e.constraints,schema:{hide:e.schemaHide!==void 0?e.schemaHide:!0},errorHandler(f,p,d){if(f?.code==="ERR_STREAM_PREMATURE_CLOSE"){d.request.raw.destroy();return}t.errorHandler(f,p,d)}};if(e.decorateReply!==!1&&(t.decorateReply("sendFile",function(f,p,d){let h=typeof p=="object"?p:d,m=typeof p=="string"?p:h&&h.root;return c(this.request,this,f,m||n.root,0,h),this}),t.decorateReply("download",function(f,p,d={}){let{root:h,...m}=typeof p=="object"?p:d;return p=typeof p=="string"?p:f,this.header("content-disposition",cXe(p)),c(this.request,this,f,h,0,m),this})),e.serve!==!1){if(e.wildcard&&typeof e.wildcard!="boolean")throw new Error('"wildcard" option must be a boolean');if(e.wildcard===void 0||e.wildcard===!0)t.route({...o,method:["HEAD","GET"],path:s+"*",handler(f,p){c(f,p,"/"+f.params["*"],n.root)}}),e.redirect===!0&&s!==e.prefix&&t.get(e.prefix,o,(f,p)=>{p.redirect(301,Jse(f.raw.url))});else{let f=e.index===void 0?["index.html"]:[].concat(e.index),p=new Map,d=new Set,h=Array.isArray(n.root)?n.root:[n.root];for(let m of h){m=m.split(vc.win32.sep).join(vc.posix.sep),!m.endsWith("/")&&(m+="/");let v=await sXe("**/**",{cwd:m,absolute:!1,follow:!0,nodir:!0,dot:e.serveDotFiles});for(let y of v){y=y.split(vc.win32.sep).join(vc.posix.sep);let E=s+y;if(d.has(E))continue;d.add(E),l(o,E,`/${y}`,m);let _=vc.posix.basename(E);f.includes(_)&&!p.has(_)&&p.set(vc.posix.dirname(E),m)}}for(let[m,v]of p.entries()){let y=m+(m.endsWith("/")?"":"/"),E="/"+y.replace(s,"");l(o,y,E,v),e.redirect===!0&&l(o,y.replace(Wse,""),E.replace(Wse,""),v)}}}let a=e.allowedPath;function c(f,p,d,h,m=0,v,y){let E=d,_=Object.assign({},n,v);if(h&&(Array.isArray(h)?_.root=h[m]:_.root=h),a&&!a(d,_.root,f))return p.callNotFound();let b,$=d;if(e.preCompressed&&(y||(y=new Set),b=hXe(f.headers,y),b))if(d.endsWith("/")){if(d=Aq(d,_.root,_.index),!d)return p.callNotFound();$=$+d+"."+Kse(b)}else $=d+"."+Kse(b);let k=Yg(f.raw,encodeURI($),_),O;k.on("file",function(L){O=L});let N=new nXe({flush(L){this.finished=!0,p.raw.statusCode===304&&p.send(""),L()}});N.getHeader=p.getHeader.bind(p),N.setHeader=p.header.bind(p),N.removeHeader=()=>{},N.finished=!1,Object.defineProperty(N,"filename",{get(){return O}}),Object.defineProperty(N,"statusCode",{get(){return p.raw.statusCode},set(L){p.code(L)}}),f.method==="HEAD"?N.on("finish",p.send.bind(p)):N.on("pipe",function(){b&&(p.header("content-type",pXe(d)),p.header("content-encoding",b)),p.send(N)}),r!==void 0&&k.on("headers",r),k.on("directory",function(L,T){if(e.list){Jg.send({reply:p,dir:T,options:e.list,route:d,prefix:s,dotfiles:e.dotfiles}).catch(g=>p.send(g));return}if(e.redirect===!0)try{p.redirect(301,Jse(f.raw.url))}catch(g){p.send(g)}else{if(!d.endsWith("/")&&Aq(d,_.root,_.index))return c(f,p,d+"/",h,void 0,void 0,y);p.callNotFound()}}),k.on("error",function(L){if(L.code==="ENOENT"){if(e.preCompressed&&b&&Aq(d,_.root,_.index))return c(f,p,d+"/",h,void 0,void 0,y);if(e.list&&Jg.handle(d,e.list)){Jg.send({reply:p,dir:Jg.path(e.root,d),options:e.list,route:d,prefix:s,dotfiles:e.dotfiles}).catch(T=>p.send(T));return}return Array.isArray(h)&&m<h.length-1?c(f,p,d,h,m+1):e.preCompressed&&!y.has(b)?(y.add(b),c(f,p,E,h,m,void 0,y)):p.callNotFound()}if(L.status===404)return p.callNotFound();p.send(L)}),k.pipe(N)}function l(f,p,d,h){let m=Object.assign({},f,{method:["HEAD","GET"],url:p,handler:u});m.config=m.config||{},m.config.file=d,m.config.rootPath=h,t.route(m)}function u(f,p){let d=f.routeOptions?.config||f.routeConfig;c(f,p,d.file,d.rootPath)}}function fXe(t){if(t===void 0)return t;if(t instanceof URL&&t.protocol==="file:")return Vse(t);if(Array.isArray(t)){let e=[];for(let r=0,i=t.length;r<i;++r)t[r]instanceof URL&&t[r].protocol==="file:"?e.push(Vse(t[r])):e.push(t[r]);return e}return t}function dXe(t,e){if(e===void 0)throw new Error('"root" option is required');if(Array.isArray(e)){if(!e.length)throw new Error('"root" option array requires one or more paths');if(new Set(e).size!==e.length)throw new Error('"root" option array contains one or more duplicate paths');e.map(r=>Gse(t,r));return}if(typeof e=="string")return Gse(t,e);throw new Error('"root" option must be a string or array of strings')}function Gse(t,e){if(typeof e!="string")throw new Error('"root" option must be a string');if(vc.isAbsolute(e)===!1)throw new Error('"root" option must be an absolute path');let r;try{r=Yse(e)}catch(i){if(i.code==="ENOENT"){t.log.warn(`"root" path "${e}" must exist`);return}throw i}if(r.isDirectory()===!1)throw new Error('"root" option must point to a directory')}function pXe(t){let e=Yg.mime.getType(t)||Yg.mime.default_type;return Yg.isUtf8MimeType(e)?`${e}; charset=UTF-8`:e}function Aq(t,e,r=["index.html"]){return Array.isArray(r)?r.find(i=>{let n=vc.join(e,t,i);try{return!Yse(n).isDirectory()}catch{return!1}}):!1}function hXe(t,e){if(!("accept-encoding"in t))return;let r=t["accept-encoding"].toLowerCase().replace(lXe,"gzip");return aXe.negotiate(r,uXe.filter(i=>!e.has(i)))}function Kse(t){switch(t){case"br":return"br";case"gzip":return"gz"}}function Jse(t){let e=0;for(;e<t.length&&!(t[e]!=="/"&&t[e]!=="\\");++e);t="/"+t.substr(e);try{let r=new URL(t,"http://localhost.com/"),i=r.pathname;return i+(i[i.length-1]!=="/"?"/":"")+(r.search||"")}catch{let r=new Error(`Invalid redirect URL: ${t}`);throw r.statusCode=400,r}}Zx.exports=oXe(Cq,{fastify:"4.x",name:"@fastify/static"});Zx.exports.default=Cq;Zx.exports.fastifyStatic=Cq});var roe=w((ur,jq)=>{"use strict";Object.defineProperties(ur,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var Qse=Symbol("dangerouslyDisableDefaultSrc"),mXe={"default-src":["'self'"],"base-uri":["'self'"],"font-src":["'self'","https:","data:"],"form-action":["'self'"],"frame-ancestors":["'self'"],"img-src":["'self'","data:"],"object-src":["'none'"],"script-src":["'self'"],"script-src-attr":["'none'"],"style-src":["'self'","https:","'unsafe-inline'"],"upgrade-insecure-requests":[]},eoe=()=>Object.assign({},mXe),gXe=t=>t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),toe=t=>/;|,/.test(t),yXe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function vXe(t){let e=eoe(),{useDefaults:r=!0,directives:i=e}=t,n=new Map,s=new Set,o=new Set;for(let a in i){if(!yXe(i,a))continue;if(a.length===0||/[^a-zA-Z0-9-]/.test(a))throw new Error(`Content-Security-Policy received an invalid directive name ${JSON.stringify(a)}`);let c=gXe(a);if(s.has(c))throw new Error(`Content-Security-Policy received a duplicate directive ${JSON.stringify(c)}`);s.add(c);let l=i[a],u;if(l===null){if(c==="default-src")throw new Error("Content-Security-Policy needs a default-src but it was set to `null`. If you really want to disable it, set it to `contentSecurityPolicy.dangerouslyDisableDefaultSrc`.");o.add(c);continue}else if(typeof l=="string")u=[l];else if(l)if(l===Qse)if(c==="default-src"){o.add("default-src");continue}else throw new Error(`Content-Security-Policy: tried to disable ${JSON.stringify(c)} as if it were default-src; simply omit the key`);else u=l;else throw new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(c)}`);for(let f of u)if(typeof f=="string"&&toe(f))throw new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(c)}`);n.set(c,u)}if(r&&Object.entries(e).forEach(([a,c])=>{!n.has(a)&&!o.has(a)&&n.set(a,c)}),!n.size)throw new Error("Content-Security-Policy has no directives. Either set some or disable the header");if(!n.has("default-src")&&!o.has("default-src"))throw new Error("Content-Security-Policy needs a default-src but none was provided. If you really want to disable it, set it to `contentSecurityPolicy.dangerouslyDisableDefaultSrc`.");return n}function bXe(t,e,r){let i,n=[];return r.forEach((s,o)=>{let a="";for(let c of s)a+=" "+(c instanceof Function?c(t,e):c);a?toe(a)?i=new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(o)}`):n.push(`${o}${a}`):n.push(o)}),i||n.join(";")}var wd=function(e={}){let r=e.reportOnly?"Content-Security-Policy-Report-Only":"Content-Security-Policy",i=vXe(e);return function(s,o,a){let c=bXe(s,o,i);c instanceof Error?a(c):(o.setHeader(r,c),a())}};wd.getDefaultDirectives=eoe;wd.dangerouslyDisableDefaultSrc=Qse;var _Xe=new Set(["require-corp","credentialless","unsafe-none"]);function wXe({policy:t="require-corp"}){if(_Xe.has(t))return t;throw new Error(`Cross-Origin-Embedder-Policy does not support the ${JSON.stringify(t)} policy`)}function Qx(t={}){let e=wXe(t);return function(i,n,s){n.setHeader("Cross-Origin-Embedder-Policy",e),s()}}var xXe=new Set(["same-origin","same-origin-allow-popups","unsafe-none"]);function SXe({policy:t="same-origin"}){if(xXe.has(t))return t;throw new Error(`Cross-Origin-Opener-Policy does not support the ${JSON.stringify(t)} policy`)}function eS(t={}){let e=SXe(t);return function(i,n,s){n.setHeader("Cross-Origin-Opener-Policy",e),s()}}var EXe=new Set(["same-origin","same-site","cross-origin"]);function RXe({policy:t="same-origin"}){if(EXe.has(t))return t;throw new Error(`Cross-Origin-Resource-Policy does not support the ${JSON.stringify(t)} policy`)}function tS(t={}){let e=RXe(t);return function(i,n,s){n.setHeader("Cross-Origin-Resource-Policy",e),s()}}function rS(){return function(e,r,i){r.setHeader("Origin-Agent-Cluster","?1"),i()}}var TXe=new Set(["no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url",""]);function $Xe({policy:t=["no-referrer"]}){let e=typeof t=="string"?[t]:t;if(e.length===0)throw new Error("Referrer-Policy received no policy tokens");let r=new Set;return e.forEach(i=>{if(TXe.has(i)){if(r.has(i))throw new Error(`Referrer-Policy received a duplicate policy token ${JSON.stringify(i)}`)}else throw new Error(`Referrer-Policy received an unexpected policy token ${JSON.stringify(i)}`);r.add(i)}),e.join(",")}function iS(t={}){let e=$Xe(t);return function(i,n,s){n.setHeader("Referrer-Policy",e),s()}}var PXe=180*24*60*60;function OXe(t=PXe){if(t>=0&&Number.isFinite(t))return Math.floor(t);throw new Error(`Strict-Transport-Security: ${JSON.stringify(t)} is not a valid value for maxAge. Please choose a positive integer.`)}function kXe(t){if("maxage"in t)throw new Error("Strict-Transport-Security received an unsupported property, `maxage`. Did you mean to pass `maxAge`?");"includeSubdomains"in t&&console.warn('Strict-Transport-Security middleware should use `includeSubDomains` instead of `includeSubdomains`. (The correct one has an uppercase "D".)');let e=[`max-age=${OXe(t.maxAge)}`];return(t.includeSubDomains===void 0||t.includeSubDomains)&&e.push("includeSubDomains"),t.preload&&e.push("preload"),e.join("; ")}function xd(t={}){let e=kXe(t);return function(i,n,s){n.setHeader("Strict-Transport-Security",e),s()}}function Sd(){return function(e,r,i){r.setHeader("X-Content-Type-Options","nosniff"),i()}}function Ed(t={}){let e=t.allow?"on":"off";return function(i,n,s){n.setHeader("X-DNS-Prefetch-Control",e),s()}}function Rd(){return function(e,r,i){r.setHeader("X-Download-Options","noopen"),i()}}function AXe({action:t="sameorigin"}){let e=typeof t=="string"?t.toUpperCase():t;switch(e){case"SAME-ORIGIN":return"SAMEORIGIN";case"DENY":case"SAMEORIGIN":return e;default:throw new Error(`X-Frame-Options received an invalid action ${JSON.stringify(t)}`)}}function Td(t={}){let e=AXe(t);return function(i,n,s){n.setHeader("X-Frame-Options",e),s()}}var CXe=new Set(["none","master-only","by-content-type","all"]);function NXe({permittedPolicies:t="none"}){if(CXe.has(t))return t;throw new Error(`X-Permitted-Cross-Domain-Policies does not support ${JSON.stringify(t)}`)}function $d(t={}){let e=NXe(t);return function(i,n,s){n.setHeader("X-Permitted-Cross-Domain-Policies",e),s()}}function Pd(){return function(e,r,i){r.removeHeader("X-Powered-By"),i()}}function Od(){return function(e,r,i){r.setHeader("X-XSS-Protection","0"),i()}}function IXe(t){var e,r,i,n,s,o,a,c;let l=[];switch(t.contentSecurityPolicy){case void 0:case!0:l.push(wd());break;case!1:break;default:l.push(wd(t.contentSecurityPolicy));break}switch(t.crossOriginEmbedderPolicy){case void 0:case!1:break;case!0:l.push(Qx());break;default:l.push(Qx(t.crossOriginEmbedderPolicy));break}switch(t.crossOriginOpenerPolicy){case void 0:case!0:l.push(eS());break;case!1:break;default:l.push(eS(t.crossOriginOpenerPolicy));break}switch(t.crossOriginResourcePolicy){case void 0:case!0:l.push(tS());break;case!1:break;default:l.push(tS(t.crossOriginResourcePolicy));break}switch(t.originAgentCluster){case void 0:case!0:l.push(rS());break;case!1:break;default:console.warn("Origin-Agent-Cluster does not take options. Remove the property to silence this warning."),l.push(rS());break}switch(t.referrerPolicy){case void 0:case!0:l.push(iS());break;case!1:break;default:l.push(iS(t.referrerPolicy));break}if("strictTransportSecurity"in t&&"hsts"in t)throw new Error("Strict-Transport-Security option was specified twice. Remove `hsts` to silence this warning.");let u=(e=t.strictTransportSecurity)!==null&&e!==void 0?e:t.hsts;switch(u){case void 0:case!0:l.push(xd());break;case!1:break;default:l.push(xd(u));break}if("xContentTypeOptions"in t&&"noSniff"in t)throw new Error("X-Content-Type-Options option was specified twice. Remove `noSniff` to silence this warning.");switch((r=t.xContentTypeOptions)!==null&&r!==void 0?r:t.noSniff){case void 0:case!0:l.push(Sd());break;case!1:break;default:console.warn("X-Content-Type-Options does not take options. Remove the property to silence this warning."),l.push(Sd());break}if("xDnsPrefetchControl"in t&&"dnsPrefetchControl"in t)throw new Error("X-DNS-Prefetch-Control option was specified twice. Remove `dnsPrefetchControl` to silence this warning.");let p=(i=t.xDnsPrefetchControl)!==null&&i!==void 0?i:t.dnsPrefetchControl;switch(p){case void 0:case!0:l.push(Ed());break;case!1:break;default:l.push(Ed(p));break}if("xDownloadOptions"in t&&"ieNoOpen"in t)throw new Error("X-Download-Options option was specified twice. Remove `ieNoOpen` to silence this warning.");switch((n=t.xDownloadOptions)!==null&&n!==void 0?n:t.ieNoOpen){case void 0:case!0:l.push(Rd());break;case!1:break;default:console.warn("X-Download-Options does not take options. Remove the property to silence this warning."),l.push(Rd());break}if("xFrameOptions"in t&&"frameguard"in t)throw new Error("X-Frame-Options option was specified twice. Remove `frameguard` to silence this warning.");let h=(s=t.xFrameOptions)!==null&&s!==void 0?s:t.frameguard;switch(h){case void 0:case!0:l.push(Td());break;case!1:break;default:l.push(Td(h));break}if("xPermittedCrossDomainPolicies"in t&&"permittedCrossDomainPolicies"in t)throw new Error("X-Permitted-Cross-Domain-Policies option was specified twice. Remove `permittedCrossDomainPolicies` to silence this warning.");let m=(o=t.xPermittedCrossDomainPolicies)!==null&&o!==void 0?o:t.permittedCrossDomainPolicies;switch(m){case void 0:case!0:l.push($d());break;case!1:break;default:l.push($d(m));break}if("xPoweredBy"in t&&"hidePoweredBy"in t)throw new Error("X-Powered-By option was specified twice. Remove `hidePoweredBy` to silence this warning.");switch((a=t.xPoweredBy)!==null&&a!==void 0?a:t.hidePoweredBy){case void 0:case!0:l.push(Pd());break;case!1:break;default:console.warn("X-Powered-By does not take options. Remove the property to silence this warning."),l.push(Pd());break}if("xXssProtection"in t&&"xssFilter"in t)throw new Error("X-XSS-Protection option was specified twice. Remove `xssFilter` to silence this warning.");switch((c=t.xXssProtection)!==null&&c!==void 0?c:t.xssFilter){case void 0:case!0:l.push(Od());break;case!1:break;default:console.warn("X-XSS-Protection does not take options. Remove the property to silence this warning."),l.push(Od());break}return l}var Iq=Object.assign(function(e={}){var r;if(((r=e.constructor)===null||r===void 0?void 0:r.name)==="IncomingMessage")throw new Error("It appears you have done something like `app.use(helmet)`, but it should be `app.use(helmet())`.");let i=IXe(e);return function(s,o,a){let c=0;(function l(u){if(u){a(u);return}let f=i[c];f?(c++,f(s,o,l)):a()})()}},{contentSecurityPolicy:wd,crossOriginEmbedderPolicy:Qx,crossOriginOpenerPolicy:eS,crossOriginResourcePolicy:tS,originAgentCluster:rS,referrerPolicy:iS,strictTransportSecurity:xd,xContentTypeOptions:Sd,xDnsPrefetchControl:Ed,xDownloadOptions:Rd,xFrameOptions:Td,xPermittedCrossDomainPolicies:$d,xPoweredBy:Pd,xXssProtection:Od,dnsPrefetchControl:Ed,xssFilter:Od,permittedCrossDomainPolicies:$d,ieNoOpen:Rd,noSniff:Sd,frameguard:Td,hidePoweredBy:Pd,hsts:xd});ur.contentSecurityPolicy=wd;ur.crossOriginEmbedderPolicy=Qx;ur.crossOriginOpenerPolicy=eS;ur.crossOriginResourcePolicy=tS;ur.default=Iq;ur.dnsPrefetchControl=Ed;ur.frameguard=Td;ur.hidePoweredBy=Pd;ur.hsts=xd;ur.ieNoOpen=Rd;ur.noSniff=Sd;ur.originAgentCluster=rS;ur.permittedCrossDomainPolicies=$d;ur.referrerPolicy=iS;ur.strictTransportSecurity=xd;ur.xContentTypeOptions=Sd;ur.xDnsPrefetchControl=Ed;ur.xDownloadOptions=Rd;ur.xFrameOptions=Td;ur.xPermittedCrossDomainPolicies=$d;ur.xPoweredBy=Pd;ur.xXssProtection=Od;ur.xssFilter=Od;jq.exports=Iq;jq.exports.default=Iq});var ooe=w((Aft,Zg)=>{"use strict";var{randomBytes:ioe}=require("node:crypto"),jXe=Fi(),Xg=roe();async function Mq(t,e){let{enableCSPNonces:r,global:i,...n}=e,s=typeof i=="boolean"?i:!0;t.hasReplyDecorator("helmet")||t.decorateReply("helmet",null),t.hasReplyDecorator("cspNonce")||t.decorateReply("cspNonce",null),t.addHook("onRoute",o=>{if(typeof o.helmet<"u")if(typeof o.helmet=="object")o.config=Object.assign(o.config||Object.create(null),{helmet:o.helmet});else if(o.helmet===!1)o.config=Object.assign(o.config||Object.create(null),{helmet:{skipRoute:!0}});else throw new Error("Unknown value for route helmet configuration")}),t.addHook("onRequest",async(o,a)=>{let{helmet:c}=o.routeOptions?.config||o.routeConfig;if(typeof c<"u"){let{enableCSPNonces:l,skipRoute:u,...f}=c,p=Object.assign(Object.create(null),n,f);return noe(o,a,p,l)}else return noe(o,a,n,r)}),t.addHook("onRequest",(o,a,c)=>{let{helmet:l}=o.routeOptions?.config||o.routeConfig;if(typeof l<"u"){let{enableCSPNonces:u,skipRoute:f,...p}=l;if(f!==!0){let d=Object.assign(Object.create(null),n,p);return soe(o,a,d,u)}return c()}else if(s)return soe(o,a,n,r);return c()})}async function noe(t,e,r,i){i&&(e.cspNonce={script:ioe(16).toString("hex"),style:ioe(16).toString("hex")}),e.helmet=function(n){let s=n?Object.assign(Object.create(null),r,n):r;return Xg(s)(t.raw,e.raw,qq)}}async function soe(t,e,r,i){if(i===!0){let n=r.contentSecurityPolicy?r.contentSecurityPolicy.directives:Xg.contentSecurityPolicy.getDefaultDirectives(),s=r.contentSecurityPolicy?r.contentSecurityPolicy.reportOnly:void 0,o=r.contentSecurityPolicy?r.contentSecurityPolicy.useDefaults:void 0,{script:a,style:c}=e.cspNonce,l={...n},u=Array.isArray(l["script-src"])?"script-src":"scriptSrc";l[u]=Array.isArray(l[u])?[...l[u]]:[],l[u].push(`'nonce-${a}'`);let f=Array.isArray(l["style-src"])?"style-src":"styleSrc";l[f]=Array.isArray(l[f])?[...l[f]]:[],l[f].push(`'nonce-${c}'`);let d=Object.assign(Object.create(null),r,{contentSecurityPolicy:{directives:l,reportOnly:s,useDefaults:o}});Xg(d)(t.raw,e.raw,qq)}else Xg(r)(t.raw,e.raw,qq)}function qq(t){if(t)throw t}Zg.exports=jXe(Mq,{fastify:"4.x",name:"@fastify/helmet"});Zg.exports.default=Mq;Zg.exports.fastifyHelmet=Mq;Zg.exports.contentSecurityPolicy=Xg.contentSecurityPolicy});var coe=w((Nft,nS)=>{"use strict";var qXe=Fi(),{parse:MXe}=aA();function Lq(t,e,r){let i=Object.assign({parser:MXe},e);if(typeof i.parser!="function"){r(new Error("parser must be a function"));return}function n(s,o,a){a(null,i.parser(o.toString()))}t.addContentTypeParser("application/x-www-form-urlencoded",{parseAs:"buffer",bodyLimit:i.bodyLimit},n),r()}nS.exports=qXe(Lq,{fastify:"4.x",name:"@fastify/formbody"});nS.exports.default=Lq;nS.exports.fastifyFormbody=Lq});var kd=w((jft,foe)=>{"use strict";var uoe={invalidType:"FAST_JWT_INVALID_TYPE",invalidOption:"FAST_JWT_INVALID_OPTION",invalidAlgorithm:"FAST_JWT_INVALID_ALGORITHM",invalidClaimType:"FAST_JWT_INVALID_CLAIM_TYPE",invalidClaimValue:"FAST_JWT_INVALID_CLAIM_VALUE",invalidKey:"FAST_JWT_INVALID_KEY",invalidSignature:"FAST_JWT_INVALID_SIGNATURE",invalidPayload:"FAST_JWT_INVALID_PAYLOAD",malformed:"FAST_JWT_MALFORMED",inactive:"FAST_JWT_INACTIVE",expired:"FAST_JWT_EXPIRED",missingKey:"FAST_JWT_MISSING_KEY",keyFetchingError:"FAST_JWT_KEY_FETCHING_ERROR",signError:"FAST_JWT_SIGN_ERROR",verifyError:"FAST_JWT_VERIFY_ERROR",missingRequiredClaim:"FAST_JWT_MISSING_REQUIRED_CLAIM",missingSignature:"FAST_JWT_MISSING_SIGNATURE"},Jl=class extends Error{constructor(e,r,i){if(super(r),Error.captureStackTrace(this,this.constructor),this.code=e,i)for(let n in i)this[n]=i[n]}};Jl.codes=uoe;Jl.wrap=function(t,e,r){return t instanceof Jl?t:new Jl(e,r,{originalError:t})};foe.exports={TokenError:Jl,TOKEN_ERROR_CODES:uoe}});var zq=w((qft,doe)=>{"use strict";var{TokenError:mo}=kd();function DXe({complete:t,checkTyp:e},r){if(r instanceof Buffer)r=r.toString("utf-8");else if(typeof r!="string")throw new mo(mo.codes.invalidType,"The token must be a string or a buffer.");let i=r.indexOf("."),n=r.lastIndexOf(".");if(i===-1||i>=n)throw new mo(mo.codes.malformed,"The token is malformed.");let s=!1;try{let o=JSON.parse(Buffer.from(r.slice(0,i),"base64").toString("utf-8"));if(e&&o.typ!==e)throw new mo(mo.codes.invalidType,`The type must be "${e}".`,{header:o});s=!0;let a=Buffer.from(r.slice(i+1,n),"base64").toString("utf-8");if(a=JSON.parse(a),!a||typeof a!="object")throw new mo(mo.codes.invalidPayload,"The payload must be an object",{payload:a});return t?{header:o,payload:a,signature:r.slice(n+1),input:r.slice(0,n)}:a}catch(o){throw mo.wrap(o,mo.codes.malformed,`The token ${s?"payload":"header"} is not a valid base64url serialized JSON.`)}}doe.exports=function(e={}){let r=e.complete||!1,i=e.checkTyp;return DXe.bind(null,{complete:r,checkTyp:i})}});var Hq=w((poe,Uq)=>{(function(t,e){"use strict";function r(T,g){if(!T)throw new Error(g||"Assertion failed")}function i(T,g){T.super_=g;var x=function(){};x.prototype=g.prototype,T.prototype=new x,T.prototype.constructor=T}function n(T,g,x){if(n.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((g==="le"||g==="be")&&(x=g,g=10),this._init(T||0,g||10,x||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=require("buffer").Buffer}catch{}n.isBN=function(g){return g instanceof n?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===n.wordSize&&Array.isArray(g.words)},n.max=function(g,x){return g.cmp(x)>0?g:x},n.min=function(g,x){return g.cmp(x)<0?g:x},n.prototype._init=function(g,x,R){if(typeof g=="number")return this._initNumber(g,x,R);if(typeof g=="object")return this._initArray(g,x,R);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),g=g.toString().replace(/\s+/g,"");var P=0;g[0]==="-"&&(P++,this.negative=1),P<g.length&&(x===16?this._parseHex(g,P,R):(this._parseBase(g,x,P),R==="le"&&this._initArray(this.toArray(),x,R)))},n.prototype._initNumber=function(g,x,R){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),x,R)},n.prototype._initArray=function(g,x,R){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var C,j,M=0;if(R==="be")for(P=g.length-1,C=0;P>=0;P-=3)j=g[P]|g[P-1]<<8|g[P-2]<<16,this.words[C]|=j<<M&67108863,this.words[C+1]=j>>>26-M&67108863,M+=24,M>=26&&(M-=26,C++);else if(R==="le")for(P=0,C=0;P<g.length;P+=3)j=g[P]|g[P+1]<<8|g[P+2]<<16,this.words[C]|=j<<M&67108863,this.words[C+1]=j>>>26-M&67108863,M+=24,M>=26&&(M-=26,C++);return this.strip()};function o(T,g){var x=T.charCodeAt(g);return x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:x-48&15}function a(T,g,x){var R=o(T,x);return x-1>=g&&(R|=o(T,x-1)<<4),R}n.prototype._parseHex=function(g,x,R){this.length=Math.ceil((g.length-x)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var C=0,j=0,M;if(R==="be")for(P=g.length-1;P>=x;P-=2)M=a(g,x,P)<<C,this.words[j]|=M&67108863,C>=18?(C-=18,j+=1,this.words[j]|=M>>>26):C+=8;else{var A=g.length-x;for(P=A%2===0?x+1:x;P<g.length;P+=2)M=a(g,x,P)<<C,this.words[j]|=M&67108863,C>=18?(C-=18,j+=1,this.words[j]|=M>>>26):C+=8}this.strip()};function c(T,g,x,R){for(var P=0,C=Math.min(T.length,x),j=g;j<C;j++){var M=T.charCodeAt(j)-48;P*=R,M>=49?P+=M-49+10:M>=17?P+=M-17+10:P+=M}return P}n.prototype._parseBase=function(g,x,R){this.words=[0],this.length=1;for(var P=0,C=1;C<=67108863;C*=x)P++;P--,C=C/x|0;for(var j=g.length-R,M=j%P,A=Math.min(j,j-M)+R,S=0,I=R;I<A;I+=P)S=c(g,I,I+P,x),this.imuln(C),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(M!==0){var ee=1;for(S=c(g,I,g.length,x),I=0;I<M;I++)ee*=x;this.imuln(ee),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this.strip()},n.prototype.copy=function(g){g.words=new Array(this.length);for(var x=0;x<this.length;x++)g.words[x]=this.words[x];g.length=this.length,g.negative=this.negative,g.red=this.red},n.prototype.clone=function(){var g=new n(null);return this.copy(g),g},n.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(g,x){g=g||10,x=x|0||1;var R;if(g===16||g==="hex"){R="";for(var P=0,C=0,j=0;j<this.length;j++){var M=this.words[j],A=((M<<P|C)&16777215).toString(16);C=M>>>24-P&16777215,C!==0||j!==this.length-1?R=l[6-A.length]+A+R:R=A+R,P+=2,P>=26&&(P-=26,j--)}for(C!==0&&(R=C.toString(16)+R);R.length%x!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(g===(g|0)&&g>=2&&g<=36){var S=u[g],I=f[g];R="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var Y=ee.modn(I).toString(g);ee=ee.idivn(I),ee.isZero()?R=Y+R:R=l[S-Y.length]+Y+R}for(this.isZero()&&(R="0"+R);R.length%x!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(g,x){return r(typeof s<"u"),this.toArrayLike(s,g,x)},n.prototype.toArray=function(g,x){return this.toArrayLike(Array,g,x)},n.prototype.toArrayLike=function(g,x,R){var P=this.byteLength(),C=R||Math.max(1,P);r(P<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0"),this.strip();var j=x==="le",M=new g(C),A,S,I=this.clone();if(j){for(S=0;!I.isZero();S++)A=I.andln(255),I.iushrn(8),M[S]=A;for(;S<C;S++)M[S]=0}else{for(S=0;S<C-P;S++)M[S]=0;for(S=0;!I.isZero();S++)A=I.andln(255),I.iushrn(8),M[C-S-1]=A}return M},Math.clz32?n.prototype._countBits=function(g){return 32-Math.clz32(g)}:n.prototype._countBits=function(g){var x=g,R=0;return x>=4096&&(R+=13,x>>>=13),x>=64&&(R+=7,x>>>=7),x>=8&&(R+=4,x>>>=4),x>=2&&(R+=2,x>>>=2),R+x},n.prototype._zeroBits=function(g){if(g===0)return 26;var x=g,R=0;return x&8191||(R+=13,x>>>=13),x&127||(R+=7,x>>>=7),x&15||(R+=4,x>>>=4),x&3||(R+=2,x>>>=2),x&1||R++,R},n.prototype.bitLength=function(){var g=this.words[this.length-1],x=this._countBits(g);return(this.length-1)*26+x};function p(T){for(var g=new Array(T.bitLength()),x=0;x<g.length;x++){var R=x/26|0,P=x%26;g[x]=(T.words[R]&1<<P)>>>P}return g}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,x=0;x<this.length;x++){var R=this._zeroBits(this.words[x]);if(g+=R,R!==26)break}return g},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},n.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]|g.words[x];return this.strip()},n.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},n.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},n.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},n.prototype.iuand=function(g){var x;this.length>g.length?x=g:x=this;for(var R=0;R<x.length;R++)this.words[R]=this.words[R]&g.words[R];return this.length=x.length,this.strip()},n.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},n.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},n.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},n.prototype.iuxor=function(g){var x,R;this.length>g.length?(x=this,R=g):(x=g,R=this);for(var P=0;P<R.length;P++)this.words[P]=x.words[P]^R.words[P];if(this!==x)for(;P<x.length;P++)this.words[P]=x.words[P];return this.length=x.length,this.strip()},n.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},n.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},n.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},n.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var x=Math.ceil(g/26)|0,R=g%26;this._expand(x),R>0&&x--;for(var P=0;P<x;P++)this.words[P]=~this.words[P]&67108863;return R>0&&(this.words[P]=~this.words[P]&67108863>>26-R),this.strip()},n.prototype.notn=function(g){return this.clone().inotn(g)},n.prototype.setn=function(g,x){r(typeof g=="number"&&g>=0);var R=g/26|0,P=g%26;return this._expand(R+1),x?this.words[R]=this.words[R]|1<<P:this.words[R]=this.words[R]&~(1<<P),this.strip()},n.prototype.iadd=function(g){var x;if(this.negative!==0&&g.negative===0)return this.negative=0,x=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,x=this.isub(g),g.negative=1,x._normSign();var R,P;this.length>g.length?(R=this,P=g):(R=g,P=this);for(var C=0,j=0;j<P.length;j++)x=(R.words[j]|0)+(P.words[j]|0)+C,this.words[j]=x&67108863,C=x>>>26;for(;C!==0&&j<R.length;j++)x=(R.words[j]|0)+C,this.words[j]=x&67108863,C=x>>>26;if(this.length=R.length,C!==0)this.words[this.length]=C,this.length++;else if(R!==this)for(;j<R.length;j++)this.words[j]=R.words[j];return this},n.prototype.add=function(g){var x;return g.negative!==0&&this.negative===0?(g.negative=0,x=this.sub(g),g.negative^=1,x):g.negative===0&&this.negative!==0?(this.negative=0,x=g.sub(this),this.negative=1,x):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},n.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var x=this.iadd(g);return g.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var R=this.cmp(g);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,C;R>0?(P=this,C=g):(P=g,C=this);for(var j=0,M=0;M<C.length;M++)x=(P.words[M]|0)-(C.words[M]|0)+j,j=x>>26,this.words[M]=x&67108863;for(;j!==0&&M<P.length;M++)x=(P.words[M]|0)+j,j=x>>26,this.words[M]=x&67108863;if(j===0&&M<P.length&&P!==this)for(;M<P.length;M++)this.words[M]=P.words[M];return this.length=Math.max(this.length,M),P!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(g){return this.clone().isub(g)};function d(T,g,x){x.negative=g.negative^T.negative;var R=T.length+g.length|0;x.length=R,R=R-1|0;var P=T.words[0]|0,C=g.words[0]|0,j=P*C,M=j&67108863,A=j/67108864|0;x.words[0]=M;for(var S=1;S<R;S++){for(var I=A>>>26,ee=A&67108863,Y=Math.min(S,g.length-1),V=Math.max(0,S-T.length+1);V<=Y;V++){var Q=S-V|0;P=T.words[Q]|0,C=g.words[V]|0,j=P*C+ee,I+=j/67108864|0,ee=j&67108863}x.words[S]=ee|0,A=I|0}return A!==0?x.words[S]=A|0:x.length--,x.strip()}var h=function(g,x,R){var P=g.words,C=x.words,j=R.words,M=0,A,S,I,ee=P[0]|0,Y=ee&8191,V=ee>>>13,Q=P[1]|0,Z=Q&8191,se=Q>>>13,ve=P[2]|0,ue=ve&8191,Se=ve>>>13,it=P[3]|0,he=it&8191,z=it>>>13,K=P[4]|0,J=K&8191,B=K>>>13,X=P[5]|0,G=X&8191,re=X>>>13,wt=P[6]|0,ne=wt&8191,ae=wt>>>13,Rt=P[7]|0,fe=Rt&8191,we=Rt>>>13,cn=P[8]|0,Tt=cn&8191,xt=cn>>>13,ha=P[9]|0,Ye=ha&8191,Xt=ha>>>13,Yn=C[0]|0,Ee=Yn&8191,ct=Yn>>>13,ry=C[1]|0,lt=ry&8191,De=ry>>>13,iy=C[2]|0,Xe=iy&8191,fr=iy>>>13,ny=C[3]|0,Oe=ny&8191,jt=ny>>>13,go=C[4]|0,St=go&8191,nt=go>>>13,wc=C[5]|0,$t=wc&8191,It=wc>>>13,xc=C[6]|0,Ct=xc&8191,vr=xc>>>13,Fd=C[7]|0,D=Fd&8191,q=Fd>>>13,F=C[8]|0,U=F&8191,H=F>>>13,oe=C[9]|0,de=oe&8191,_e=oe>>>13;R.negative=g.negative^x.negative,R.length=19,A=Math.imul(Y,Ee),S=Math.imul(Y,ct),S=S+Math.imul(V,Ee)|0,I=Math.imul(V,ct);var ut=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,A=Math.imul(Z,Ee),S=Math.imul(Z,ct),S=S+Math.imul(se,Ee)|0,I=Math.imul(se,ct),A=A+Math.imul(Y,lt)|0,S=S+Math.imul(Y,De)|0,S=S+Math.imul(V,lt)|0,I=I+Math.imul(V,De)|0;var dr=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(dr>>>26)|0,dr&=67108863,A=Math.imul(ue,Ee),S=Math.imul(ue,ct),S=S+Math.imul(Se,Ee)|0,I=Math.imul(Se,ct),A=A+Math.imul(Z,lt)|0,S=S+Math.imul(Z,De)|0,S=S+Math.imul(se,lt)|0,I=I+Math.imul(se,De)|0,A=A+Math.imul(Y,Xe)|0,S=S+Math.imul(Y,fr)|0,S=S+Math.imul(V,Xe)|0,I=I+Math.imul(V,fr)|0;var Ue=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,A=Math.imul(he,Ee),S=Math.imul(he,ct),S=S+Math.imul(z,Ee)|0,I=Math.imul(z,ct),A=A+Math.imul(ue,lt)|0,S=S+Math.imul(ue,De)|0,S=S+Math.imul(Se,lt)|0,I=I+Math.imul(Se,De)|0,A=A+Math.imul(Z,Xe)|0,S=S+Math.imul(Z,fr)|0,S=S+Math.imul(se,Xe)|0,I=I+Math.imul(se,fr)|0,A=A+Math.imul(Y,Oe)|0,S=S+Math.imul(Y,jt)|0,S=S+Math.imul(V,Oe)|0,I=I+Math.imul(V,jt)|0;var Ut=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,A=Math.imul(J,Ee),S=Math.imul(J,ct),S=S+Math.imul(B,Ee)|0,I=Math.imul(B,ct),A=A+Math.imul(he,lt)|0,S=S+Math.imul(he,De)|0,S=S+Math.imul(z,lt)|0,I=I+Math.imul(z,De)|0,A=A+Math.imul(ue,Xe)|0,S=S+Math.imul(ue,fr)|0,S=S+Math.imul(Se,Xe)|0,I=I+Math.imul(Se,fr)|0,A=A+Math.imul(Z,Oe)|0,S=S+Math.imul(Z,jt)|0,S=S+Math.imul(se,Oe)|0,I=I+Math.imul(se,jt)|0,A=A+Math.imul(Y,St)|0,S=S+Math.imul(Y,nt)|0,S=S+Math.imul(V,St)|0,I=I+Math.imul(V,nt)|0;var pr=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(pr>>>26)|0,pr&=67108863,A=Math.imul(G,Ee),S=Math.imul(G,ct),S=S+Math.imul(re,Ee)|0,I=Math.imul(re,ct),A=A+Math.imul(J,lt)|0,S=S+Math.imul(J,De)|0,S=S+Math.imul(B,lt)|0,I=I+Math.imul(B,De)|0,A=A+Math.imul(he,Xe)|0,S=S+Math.imul(he,fr)|0,S=S+Math.imul(z,Xe)|0,I=I+Math.imul(z,fr)|0,A=A+Math.imul(ue,Oe)|0,S=S+Math.imul(ue,jt)|0,S=S+Math.imul(Se,Oe)|0,I=I+Math.imul(Se,jt)|0,A=A+Math.imul(Z,St)|0,S=S+Math.imul(Z,nt)|0,S=S+Math.imul(se,St)|0,I=I+Math.imul(se,nt)|0,A=A+Math.imul(Y,$t)|0,S=S+Math.imul(Y,It)|0,S=S+Math.imul(V,$t)|0,I=I+Math.imul(V,It)|0;var qt=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(qt>>>26)|0,qt&=67108863,A=Math.imul(ne,Ee),S=Math.imul(ne,ct),S=S+Math.imul(ae,Ee)|0,I=Math.imul(ae,ct),A=A+Math.imul(G,lt)|0,S=S+Math.imul(G,De)|0,S=S+Math.imul(re,lt)|0,I=I+Math.imul(re,De)|0,A=A+Math.imul(J,Xe)|0,S=S+Math.imul(J,fr)|0,S=S+Math.imul(B,Xe)|0,I=I+Math.imul(B,fr)|0,A=A+Math.imul(he,Oe)|0,S=S+Math.imul(he,jt)|0,S=S+Math.imul(z,Oe)|0,I=I+Math.imul(z,jt)|0,A=A+Math.imul(ue,St)|0,S=S+Math.imul(ue,nt)|0,S=S+Math.imul(Se,St)|0,I=I+Math.imul(Se,nt)|0,A=A+Math.imul(Z,$t)|0,S=S+Math.imul(Z,It)|0,S=S+Math.imul(se,$t)|0,I=I+Math.imul(se,It)|0,A=A+Math.imul(Y,Ct)|0,S=S+Math.imul(Y,vr)|0,S=S+Math.imul(V,Ct)|0,I=I+Math.imul(V,vr)|0;var et=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(fe,Ee),S=Math.imul(fe,ct),S=S+Math.imul(we,Ee)|0,I=Math.imul(we,ct),A=A+Math.imul(ne,lt)|0,S=S+Math.imul(ne,De)|0,S=S+Math.imul(ae,lt)|0,I=I+Math.imul(ae,De)|0,A=A+Math.imul(G,Xe)|0,S=S+Math.imul(G,fr)|0,S=S+Math.imul(re,Xe)|0,I=I+Math.imul(re,fr)|0,A=A+Math.imul(J,Oe)|0,S=S+Math.imul(J,jt)|0,S=S+Math.imul(B,Oe)|0,I=I+Math.imul(B,jt)|0,A=A+Math.imul(he,St)|0,S=S+Math.imul(he,nt)|0,S=S+Math.imul(z,St)|0,I=I+Math.imul(z,nt)|0,A=A+Math.imul(ue,$t)|0,S=S+Math.imul(ue,It)|0,S=S+Math.imul(Se,$t)|0,I=I+Math.imul(Se,It)|0,A=A+Math.imul(Z,Ct)|0,S=S+Math.imul(Z,vr)|0,S=S+Math.imul(se,Ct)|0,I=I+Math.imul(se,vr)|0,A=A+Math.imul(Y,D)|0,S=S+Math.imul(Y,q)|0,S=S+Math.imul(V,D)|0,I=I+Math.imul(V,q)|0;var Ht=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,A=Math.imul(Tt,Ee),S=Math.imul(Tt,ct),S=S+Math.imul(xt,Ee)|0,I=Math.imul(xt,ct),A=A+Math.imul(fe,lt)|0,S=S+Math.imul(fe,De)|0,S=S+Math.imul(we,lt)|0,I=I+Math.imul(we,De)|0,A=A+Math.imul(ne,Xe)|0,S=S+Math.imul(ne,fr)|0,S=S+Math.imul(ae,Xe)|0,I=I+Math.imul(ae,fr)|0,A=A+Math.imul(G,Oe)|0,S=S+Math.imul(G,jt)|0,S=S+Math.imul(re,Oe)|0,I=I+Math.imul(re,jt)|0,A=A+Math.imul(J,St)|0,S=S+Math.imul(J,nt)|0,S=S+Math.imul(B,St)|0,I=I+Math.imul(B,nt)|0,A=A+Math.imul(he,$t)|0,S=S+Math.imul(he,It)|0,S=S+Math.imul(z,$t)|0,I=I+Math.imul(z,It)|0,A=A+Math.imul(ue,Ct)|0,S=S+Math.imul(ue,vr)|0,S=S+Math.imul(Se,Ct)|0,I=I+Math.imul(Se,vr)|0,A=A+Math.imul(Z,D)|0,S=S+Math.imul(Z,q)|0,S=S+Math.imul(se,D)|0,I=I+Math.imul(se,q)|0,A=A+Math.imul(Y,U)|0,S=S+Math.imul(Y,H)|0,S=S+Math.imul(V,U)|0,I=I+Math.imul(V,H)|0;var Et=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Et>>>26)|0,Et&=67108863,A=Math.imul(Ye,Ee),S=Math.imul(Ye,ct),S=S+Math.imul(Xt,Ee)|0,I=Math.imul(Xt,ct),A=A+Math.imul(Tt,lt)|0,S=S+Math.imul(Tt,De)|0,S=S+Math.imul(xt,lt)|0,I=I+Math.imul(xt,De)|0,A=A+Math.imul(fe,Xe)|0,S=S+Math.imul(fe,fr)|0,S=S+Math.imul(we,Xe)|0,I=I+Math.imul(we,fr)|0,A=A+Math.imul(ne,Oe)|0,S=S+Math.imul(ne,jt)|0,S=S+Math.imul(ae,Oe)|0,I=I+Math.imul(ae,jt)|0,A=A+Math.imul(G,St)|0,S=S+Math.imul(G,nt)|0,S=S+Math.imul(re,St)|0,I=I+Math.imul(re,nt)|0,A=A+Math.imul(J,$t)|0,S=S+Math.imul(J,It)|0,S=S+Math.imul(B,$t)|0,I=I+Math.imul(B,It)|0,A=A+Math.imul(he,Ct)|0,S=S+Math.imul(he,vr)|0,S=S+Math.imul(z,Ct)|0,I=I+Math.imul(z,vr)|0,A=A+Math.imul(ue,D)|0,S=S+Math.imul(ue,q)|0,S=S+Math.imul(Se,D)|0,I=I+Math.imul(Se,q)|0,A=A+Math.imul(Z,U)|0,S=S+Math.imul(Z,H)|0,S=S+Math.imul(se,U)|0,I=I+Math.imul(se,H)|0,A=A+Math.imul(Y,de)|0,S=S+Math.imul(Y,_e)|0,S=S+Math.imul(V,de)|0,I=I+Math.imul(V,_e)|0;var Xn=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,A=Math.imul(Ye,lt),S=Math.imul(Ye,De),S=S+Math.imul(Xt,lt)|0,I=Math.imul(Xt,De),A=A+Math.imul(Tt,Xe)|0,S=S+Math.imul(Tt,fr)|0,S=S+Math.imul(xt,Xe)|0,I=I+Math.imul(xt,fr)|0,A=A+Math.imul(fe,Oe)|0,S=S+Math.imul(fe,jt)|0,S=S+Math.imul(we,Oe)|0,I=I+Math.imul(we,jt)|0,A=A+Math.imul(ne,St)|0,S=S+Math.imul(ne,nt)|0,S=S+Math.imul(ae,St)|0,I=I+Math.imul(ae,nt)|0,A=A+Math.imul(G,$t)|0,S=S+Math.imul(G,It)|0,S=S+Math.imul(re,$t)|0,I=I+Math.imul(re,It)|0,A=A+Math.imul(J,Ct)|0,S=S+Math.imul(J,vr)|0,S=S+Math.imul(B,Ct)|0,I=I+Math.imul(B,vr)|0,A=A+Math.imul(he,D)|0,S=S+Math.imul(he,q)|0,S=S+Math.imul(z,D)|0,I=I+Math.imul(z,q)|0,A=A+Math.imul(ue,U)|0,S=S+Math.imul(ue,H)|0,S=S+Math.imul(Se,U)|0,I=I+Math.imul(Se,H)|0,A=A+Math.imul(Z,de)|0,S=S+Math.imul(Z,_e)|0,S=S+Math.imul(se,de)|0,I=I+Math.imul(se,_e)|0;var Hr=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,A=Math.imul(Ye,Xe),S=Math.imul(Ye,fr),S=S+Math.imul(Xt,Xe)|0,I=Math.imul(Xt,fr),A=A+Math.imul(Tt,Oe)|0,S=S+Math.imul(Tt,jt)|0,S=S+Math.imul(xt,Oe)|0,I=I+Math.imul(xt,jt)|0,A=A+Math.imul(fe,St)|0,S=S+Math.imul(fe,nt)|0,S=S+Math.imul(we,St)|0,I=I+Math.imul(we,nt)|0,A=A+Math.imul(ne,$t)|0,S=S+Math.imul(ne,It)|0,S=S+Math.imul(ae,$t)|0,I=I+Math.imul(ae,It)|0,A=A+Math.imul(G,Ct)|0,S=S+Math.imul(G,vr)|0,S=S+Math.imul(re,Ct)|0,I=I+Math.imul(re,vr)|0,A=A+Math.imul(J,D)|0,S=S+Math.imul(J,q)|0,S=S+Math.imul(B,D)|0,I=I+Math.imul(B,q)|0,A=A+Math.imul(he,U)|0,S=S+Math.imul(he,H)|0,S=S+Math.imul(z,U)|0,I=I+Math.imul(z,H)|0,A=A+Math.imul(ue,de)|0,S=S+Math.imul(ue,_e)|0,S=S+Math.imul(Se,de)|0,I=I+Math.imul(Se,_e)|0;var li=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(li>>>26)|0,li&=67108863,A=Math.imul(Ye,Oe),S=Math.imul(Ye,jt),S=S+Math.imul(Xt,Oe)|0,I=Math.imul(Xt,jt),A=A+Math.imul(Tt,St)|0,S=S+Math.imul(Tt,nt)|0,S=S+Math.imul(xt,St)|0,I=I+Math.imul(xt,nt)|0,A=A+Math.imul(fe,$t)|0,S=S+Math.imul(fe,It)|0,S=S+Math.imul(we,$t)|0,I=I+Math.imul(we,It)|0,A=A+Math.imul(ne,Ct)|0,S=S+Math.imul(ne,vr)|0,S=S+Math.imul(ae,Ct)|0,I=I+Math.imul(ae,vr)|0,A=A+Math.imul(G,D)|0,S=S+Math.imul(G,q)|0,S=S+Math.imul(re,D)|0,I=I+Math.imul(re,q)|0,A=A+Math.imul(J,U)|0,S=S+Math.imul(J,H)|0,S=S+Math.imul(B,U)|0,I=I+Math.imul(B,H)|0,A=A+Math.imul(he,de)|0,S=S+Math.imul(he,_e)|0,S=S+Math.imul(z,de)|0,I=I+Math.imul(z,_e)|0;var Pt=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,A=Math.imul(Ye,St),S=Math.imul(Ye,nt),S=S+Math.imul(Xt,St)|0,I=Math.imul(Xt,nt),A=A+Math.imul(Tt,$t)|0,S=S+Math.imul(Tt,It)|0,S=S+Math.imul(xt,$t)|0,I=I+Math.imul(xt,It)|0,A=A+Math.imul(fe,Ct)|0,S=S+Math.imul(fe,vr)|0,S=S+Math.imul(we,Ct)|0,I=I+Math.imul(we,vr)|0,A=A+Math.imul(ne,D)|0,S=S+Math.imul(ne,q)|0,S=S+Math.imul(ae,D)|0,I=I+Math.imul(ae,q)|0,A=A+Math.imul(G,U)|0,S=S+Math.imul(G,H)|0,S=S+Math.imul(re,U)|0,I=I+Math.imul(re,H)|0,A=A+Math.imul(J,de)|0,S=S+Math.imul(J,_e)|0,S=S+Math.imul(B,de)|0,I=I+Math.imul(B,_e)|0;var Br=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Br>>>26)|0,Br&=67108863,A=Math.imul(Ye,$t),S=Math.imul(Ye,It),S=S+Math.imul(Xt,$t)|0,I=Math.imul(Xt,It),A=A+Math.imul(Tt,Ct)|0,S=S+Math.imul(Tt,vr)|0,S=S+Math.imul(xt,Ct)|0,I=I+Math.imul(xt,vr)|0,A=A+Math.imul(fe,D)|0,S=S+Math.imul(fe,q)|0,S=S+Math.imul(we,D)|0,I=I+Math.imul(we,q)|0,A=A+Math.imul(ne,U)|0,S=S+Math.imul(ne,H)|0,S=S+Math.imul(ae,U)|0,I=I+Math.imul(ae,H)|0,A=A+Math.imul(G,de)|0,S=S+Math.imul(G,_e)|0,S=S+Math.imul(re,de)|0,I=I+Math.imul(re,_e)|0;var ui=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(ui>>>26)|0,ui&=67108863,A=Math.imul(Ye,Ct),S=Math.imul(Ye,vr),S=S+Math.imul(Xt,Ct)|0,I=Math.imul(Xt,vr),A=A+Math.imul(Tt,D)|0,S=S+Math.imul(Tt,q)|0,S=S+Math.imul(xt,D)|0,I=I+Math.imul(xt,q)|0,A=A+Math.imul(fe,U)|0,S=S+Math.imul(fe,H)|0,S=S+Math.imul(we,U)|0,I=I+Math.imul(we,H)|0,A=A+Math.imul(ne,de)|0,S=S+Math.imul(ne,_e)|0,S=S+Math.imul(ae,de)|0,I=I+Math.imul(ae,_e)|0;var Vi=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,A=Math.imul(Ye,D),S=Math.imul(Ye,q),S=S+Math.imul(Xt,D)|0,I=Math.imul(Xt,q),A=A+Math.imul(Tt,U)|0,S=S+Math.imul(Tt,H)|0,S=S+Math.imul(xt,U)|0,I=I+Math.imul(xt,H)|0,A=A+Math.imul(fe,de)|0,S=S+Math.imul(fe,_e)|0,S=S+Math.imul(we,de)|0,I=I+Math.imul(we,_e)|0;var Zn=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,A=Math.imul(Ye,U),S=Math.imul(Ye,H),S=S+Math.imul(Xt,U)|0,I=Math.imul(Xt,H),A=A+Math.imul(Tt,de)|0,S=S+Math.imul(Tt,_e)|0,S=S+Math.imul(xt,de)|0,I=I+Math.imul(xt,_e)|0;var ln=(M+A|0)+((S&8191)<<13)|0;M=(I+(S>>>13)|0)+(ln>>>26)|0,ln&=67108863,A=Math.imul(Ye,de),S=Math.imul(Ye,_e),S=S+Math.imul(Xt,de)|0,I=Math.imul(Xt,_e);var yo=(M+A|0)+((S&8191)<<13)|0;return M=(I+(S>>>13)|0)+(yo>>>26)|0,yo&=67108863,j[0]=ut,j[1]=dr,j[2]=Ue,j[3]=Ut,j[4]=pr,j[5]=qt,j[6]=et,j[7]=Ht,j[8]=Et,j[9]=Xn,j[10]=Hr,j[11]=li,j[12]=Pt,j[13]=Br,j[14]=ui,j[15]=Vi,j[16]=Zn,j[17]=ln,j[18]=yo,M!==0&&(j[19]=M,R.length++),R};Math.imul||(h=d);function m(T,g,x){x.negative=g.negative^T.negative,x.length=T.length+g.length;for(var R=0,P=0,C=0;C<x.length-1;C++){var j=P;P=0;for(var M=R&67108863,A=Math.min(C,g.length-1),S=Math.max(0,C-T.length+1);S<=A;S++){var I=C-S,ee=T.words[I]|0,Y=g.words[S]|0,V=ee*Y,Q=V&67108863;j=j+(V/67108864|0)|0,Q=Q+M|0,M=Q&67108863,j=j+(Q>>>26)|0,P+=j>>>26,j&=67108863}x.words[C]=M,R=j,j=P}return R!==0?x.words[C]=R:x.length--,x.strip()}function v(T,g,x){var R=new y;return R.mulp(T,g,x)}n.prototype.mulTo=function(g,x){var R,P=this.length+g.length;return this.length===10&&g.length===10?R=h(this,g,x):P<63?R=d(this,g,x):P<1024?R=m(this,g,x):R=v(this,g,x),R};function y(T,g){this.x=T,this.y=g}y.prototype.makeRBT=function(g){for(var x=new Array(g),R=n.prototype._countBits(g)-1,P=0;P<g;P++)x[P]=this.revBin(P,R,g);return x},y.prototype.revBin=function(g,x,R){if(g===0||g===R-1)return g;for(var P=0,C=0;C<x;C++)P|=(g&1)<<x-C-1,g>>=1;return P},y.prototype.permute=function(g,x,R,P,C,j){for(var M=0;M<j;M++)P[M]=x[g[M]],C[M]=R[g[M]]},y.prototype.transform=function(g,x,R,P,C,j){this.permute(j,g,x,R,P,C);for(var M=1;M<C;M<<=1)for(var A=M<<1,S=Math.cos(2*Math.PI/A),I=Math.sin(2*Math.PI/A),ee=0;ee<C;ee+=A)for(var Y=S,V=I,Q=0;Q<M;Q++){var Z=R[ee+Q],se=P[ee+Q],ve=R[ee+Q+M],ue=P[ee+Q+M],Se=Y*ve-V*ue;ue=Y*ue+V*ve,ve=Se,R[ee+Q]=Z+ve,P[ee+Q]=se+ue,R[ee+Q+M]=Z-ve,P[ee+Q+M]=se-ue,Q!==A&&(Se=S*Y-I*V,V=S*V+I*Y,Y=Se)}},y.prototype.guessLen13b=function(g,x){var R=Math.max(x,g)|1,P=R&1,C=0;for(R=R/2|0;R;R=R>>>1)C++;return 1<<C+1+P},y.prototype.conjugate=function(g,x,R){if(!(R<=1))for(var P=0;P<R/2;P++){var C=g[P];g[P]=g[R-P-1],g[R-P-1]=C,C=x[P],x[P]=-x[R-P-1],x[R-P-1]=-C}},y.prototype.normalize13b=function(g,x){for(var R=0,P=0;P<x/2;P++){var C=Math.round(g[2*P+1]/x)*8192+Math.round(g[2*P]/x)+R;g[P]=C&67108863,C<67108864?R=0:R=C/67108864|0}return g},y.prototype.convert13b=function(g,x,R,P){for(var C=0,j=0;j<x;j++)C=C+(g[j]|0),R[2*j]=C&8191,C=C>>>13,R[2*j+1]=C&8191,C=C>>>13;for(j=2*x;j<P;++j)R[j]=0;r(C===0),r((C&-8192)===0)},y.prototype.stub=function(g){for(var x=new Array(g),R=0;R<g;R++)x[R]=0;return x},y.prototype.mulp=function(g,x,R){var P=2*this.guessLen13b(g.length,x.length),C=this.makeRBT(P),j=this.stub(P),M=new Array(P),A=new Array(P),S=new Array(P),I=new Array(P),ee=new Array(P),Y=new Array(P),V=R.words;V.length=P,this.convert13b(g.words,g.length,M,P),this.convert13b(x.words,x.length,I,P),this.transform(M,j,A,S,P,C),this.transform(I,j,ee,Y,P,C);for(var Q=0;Q<P;Q++){var Z=A[Q]*ee[Q]-S[Q]*Y[Q];S[Q]=A[Q]*Y[Q]+S[Q]*ee[Q],A[Q]=Z}return this.conjugate(A,S,P),this.transform(A,S,V,j,P,C),this.conjugate(V,j,P),this.normalize13b(V,P),R.negative=g.negative^x.negative,R.length=g.length+x.length,R.strip()},n.prototype.mul=function(g){var x=new n(null);return x.words=new Array(this.length+g.length),this.mulTo(g,x)},n.prototype.mulf=function(g){var x=new n(null);return x.words=new Array(this.length+g.length),v(this,g,x)},n.prototype.imul=function(g){return this.clone().mulTo(g,this)},n.prototype.imuln=function(g){r(typeof g=="number"),r(g<67108864);for(var x=0,R=0;R<this.length;R++){var P=(this.words[R]|0)*g,C=(P&67108863)+(x&67108863);x>>=26,x+=P/67108864|0,x+=C>>>26,this.words[R]=C&67108863}return x!==0&&(this.words[R]=x,this.length++),this},n.prototype.muln=function(g){return this.clone().imuln(g)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(g){var x=p(g);if(x.length===0)return new n(1);for(var R=this,P=0;P<x.length&&x[P]===0;P++,R=R.sqr());if(++P<x.length)for(var C=R.sqr();P<x.length;P++,C=C.sqr())x[P]!==0&&(R=R.mul(C));return R},n.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var x=g%26,R=(g-x)/26,P=67108863>>>26-x<<26-x,C;if(x!==0){var j=0;for(C=0;C<this.length;C++){var M=this.words[C]&P,A=(this.words[C]|0)-M<<x;this.words[C]=A|j,j=M>>>26-x}j&&(this.words[C]=j,this.length++)}if(R!==0){for(C=this.length-1;C>=0;C--)this.words[C+R]=this.words[C];for(C=0;C<R;C++)this.words[C]=0;this.length+=R}return this.strip()},n.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},n.prototype.iushrn=function(g,x,R){r(typeof g=="number"&&g>=0);var P;x?P=(x-x%26)/26:P=0;var C=g%26,j=Math.min((g-C)/26,this.length),M=67108863^67108863>>>C<<C,A=R;if(P-=j,P=Math.max(0,P),A){for(var S=0;S<j;S++)A.words[S]=this.words[S];A.length=j}if(j!==0)if(this.length>j)for(this.length-=j,S=0;S<this.length;S++)this.words[S]=this.words[S+j];else this.words[0]=0,this.length=1;var I=0;for(S=this.length-1;S>=0&&(I!==0||S>=P);S--){var ee=this.words[S]|0;this.words[S]=I<<26-C|ee>>>C,I=ee&M}return A&&I!==0&&(A.words[A.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(g,x,R){return r(this.negative===0),this.iushrn(g,x,R)},n.prototype.shln=function(g){return this.clone().ishln(g)},n.prototype.ushln=function(g){return this.clone().iushln(g)},n.prototype.shrn=function(g){return this.clone().ishrn(g)},n.prototype.ushrn=function(g){return this.clone().iushrn(g)},n.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var x=g%26,R=(g-x)/26,P=1<<x;if(this.length<=R)return!1;var C=this.words[R];return!!(C&P)},n.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var x=g%26,R=(g-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(x!==0&&R++,this.length=Math.min(R,this.length),x!==0){var P=67108863^67108863>>>x<<x;this.words[this.length-1]&=P}return this.strip()},n.prototype.maskn=function(g){return this.clone().imaskn(g)},n.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},n.prototype._iaddn=function(g){this.words[0]+=g;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},n.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this.strip()},n.prototype.addn=function(g){return this.clone().iaddn(g)},n.prototype.subn=function(g){return this.clone().isubn(g)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(g,x,R){var P=g.length+R,C;this._expand(P);var j,M=0;for(C=0;C<g.length;C++){j=(this.words[C+R]|0)+M;var A=(g.words[C]|0)*x;j-=A&67108863,M=(j>>26)-(A/67108864|0),this.words[C+R]=j&67108863}for(;C<this.length-R;C++)j=(this.words[C+R]|0)+M,M=j>>26,this.words[C+R]=j&67108863;if(M===0)return this.strip();for(r(M===-1),M=0,C=0;C<this.length;C++)j=-(this.words[C]|0)+M,M=j>>26,this.words[C]=j&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(g,x){var R=this.length-g.length,P=this.clone(),C=g,j=C.words[C.length-1]|0,M=this._countBits(j);R=26-M,R!==0&&(C=C.ushln(R),P.iushln(R),j=C.words[C.length-1]|0);var A=P.length-C.length,S;if(x!=="mod"){S=new n(null),S.length=A+1,S.words=new Array(S.length);for(var I=0;I<S.length;I++)S.words[I]=0}var ee=P.clone()._ishlnsubmul(C,1,A);ee.negative===0&&(P=ee,S&&(S.words[A]=1));for(var Y=A-1;Y>=0;Y--){var V=(P.words[C.length+Y]|0)*67108864+(P.words[C.length+Y-1]|0);for(V=Math.min(V/j|0,67108863),P._ishlnsubmul(C,V,Y);P.negative!==0;)V--,P.negative=0,P._ishlnsubmul(C,1,Y),P.isZero()||(P.negative^=1);S&&(S.words[Y]=V)}return S&&S.strip(),P.strip(),x!=="div"&&R!==0&&P.iushrn(R),{div:S||null,mod:P}},n.prototype.divmod=function(g,x,R){if(r(!g.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var P,C,j;return this.negative!==0&&g.negative===0?(j=this.neg().divmod(g,x),x!=="mod"&&(P=j.div.neg()),x!=="div"&&(C=j.mod.neg(),R&&C.negative!==0&&C.iadd(g)),{div:P,mod:C}):this.negative===0&&g.negative!==0?(j=this.divmod(g.neg(),x),x!=="mod"&&(P=j.div.neg()),{div:P,mod:j.mod}):this.negative&g.negative?(j=this.neg().divmod(g.neg(),x),x!=="div"&&(C=j.mod.neg(),R&&C.negative!==0&&C.isub(g)),{div:j.div,mod:C}):g.length>this.length||this.cmp(g)<0?{div:new n(0),mod:this}:g.length===1?x==="div"?{div:this.divn(g.words[0]),mod:null}:x==="mod"?{div:null,mod:new n(this.modn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new n(this.modn(g.words[0]))}:this._wordDiv(g,x)},n.prototype.div=function(g){return this.divmod(g,"div",!1).div},n.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},n.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},n.prototype.divRound=function(g){var x=this.divmod(g);if(x.mod.isZero())return x.div;var R=x.div.negative!==0?x.mod.isub(g):x.mod,P=g.ushrn(1),C=g.andln(1),j=R.cmp(P);return j<0||C===1&&j===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},n.prototype.modn=function(g){r(g<=67108863);for(var x=(1<<26)%g,R=0,P=this.length-1;P>=0;P--)R=(x*R+(this.words[P]|0))%g;return R},n.prototype.idivn=function(g){r(g<=67108863);for(var x=0,R=this.length-1;R>=0;R--){var P=(this.words[R]|0)+x*67108864;this.words[R]=P/g|0,x=P%g}return this.strip()},n.prototype.divn=function(g){return this.clone().idivn(g)},n.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var x=this,R=g.clone();x.negative!==0?x=x.umod(g):x=x.clone();for(var P=new n(1),C=new n(0),j=new n(0),M=new n(1),A=0;x.isEven()&&R.isEven();)x.iushrn(1),R.iushrn(1),++A;for(var S=R.clone(),I=x.clone();!x.isZero();){for(var ee=0,Y=1;!(x.words[0]&Y)&&ee<26;++ee,Y<<=1);if(ee>0)for(x.iushrn(ee);ee-- >0;)(P.isOdd()||C.isOdd())&&(P.iadd(S),C.isub(I)),P.iushrn(1),C.iushrn(1);for(var V=0,Q=1;!(R.words[0]&Q)&&V<26;++V,Q<<=1);if(V>0)for(R.iushrn(V);V-- >0;)(j.isOdd()||M.isOdd())&&(j.iadd(S),M.isub(I)),j.iushrn(1),M.iushrn(1);x.cmp(R)>=0?(x.isub(R),P.isub(j),C.isub(M)):(R.isub(x),j.isub(P),M.isub(C))}return{a:j,b:M,gcd:R.iushln(A)}},n.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var x=this,R=g.clone();x.negative!==0?x=x.umod(g):x=x.clone();for(var P=new n(1),C=new n(0),j=R.clone();x.cmpn(1)>0&&R.cmpn(1)>0;){for(var M=0,A=1;!(x.words[0]&A)&&M<26;++M,A<<=1);if(M>0)for(x.iushrn(M);M-- >0;)P.isOdd()&&P.iadd(j),P.iushrn(1);for(var S=0,I=1;!(R.words[0]&I)&&S<26;++S,I<<=1);if(S>0)for(R.iushrn(S);S-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);x.cmp(R)>=0?(x.isub(R),P.isub(C)):(R.isub(x),C.isub(P))}var ee;return x.cmpn(1)===0?ee=P:ee=C,ee.cmpn(0)<0&&ee.iadd(g),ee},n.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var x=this.clone(),R=g.clone();x.negative=0,R.negative=0;for(var P=0;x.isEven()&&R.isEven();P++)x.iushrn(1),R.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;R.isEven();)R.iushrn(1);var C=x.cmp(R);if(C<0){var j=x;x=R,R=j}else if(C===0||R.cmpn(1)===0)break;x.isub(R)}while(!0);return R.iushln(P)},n.prototype.invm=function(g){return this.egcd(g).a.umod(g)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(g){return this.words[0]&g},n.prototype.bincn=function(g){r(typeof g=="number");var x=g%26,R=(g-x)/26,P=1<<x;if(this.length<=R)return this._expand(R+1),this.words[R]|=P,this;for(var C=P,j=R;C!==0&&j<this.length;j++){var M=this.words[j]|0;M+=C,C=M>>>26,M&=67108863,this.words[j]=M}return C!==0&&(this.words[j]=C,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(g){var x=g<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this.strip();var R;if(this.length>1)R=1;else{x&&(g=-g),r(g<=67108863,"Number is too big");var P=this.words[0]|0;R=P===g?0:P<g?-1:1}return this.negative!==0?-R|0:R},n.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var x=this.ucmp(g);return this.negative!==0?-x|0:x},n.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var x=0,R=this.length-1;R>=0;R--){var P=this.words[R]|0,C=g.words[R]|0;if(P!==C){P<C?x=-1:P>C&&(x=1);break}}return x},n.prototype.gtn=function(g){return this.cmpn(g)===1},n.prototype.gt=function(g){return this.cmp(g)===1},n.prototype.gten=function(g){return this.cmpn(g)>=0},n.prototype.gte=function(g){return this.cmp(g)>=0},n.prototype.ltn=function(g){return this.cmpn(g)===-1},n.prototype.lt=function(g){return this.cmp(g)===-1},n.prototype.lten=function(g){return this.cmpn(g)<=0},n.prototype.lte=function(g){return this.cmp(g)<=0},n.prototype.eqn=function(g){return this.cmpn(g)===0},n.prototype.eq=function(g){return this.cmp(g)===0},n.red=function(g){return new N(g)},n.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(g){return this.red=g,this},n.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},n.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},n.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},n.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},n.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},n.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},n.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},n.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var E={k256:null,p224:null,p192:null,p25519:null};function _(T,g){this.name=T,this.p=new n(g,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_.prototype._tmp=function(){var g=new n(null);return g.words=new Array(Math.ceil(this.n/13)),g},_.prototype.ireduce=function(g){var x=g,R;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),R=x.bitLength();while(R>this.n);var P=R<this.n?-1:x.ucmp(this.p);return P===0?(x.words[0]=0,x.length=1):P>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},_.prototype.split=function(g,x){g.iushrn(this.n,0,x)},_.prototype.imulK=function(g){return g.imul(this.k)};function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(b,_),b.prototype.split=function(g,x){for(var R=4194303,P=Math.min(g.length,9),C=0;C<P;C++)x.words[C]=g.words[C];if(x.length=P,g.length<=9){g.words[0]=0,g.length=1;return}var j=g.words[9];for(x.words[x.length++]=j&R,C=10;C<g.length;C++){var M=g.words[C]|0;g.words[C-10]=(M&R)<<4|j>>>22,j=M}j>>>=22,g.words[C-10]=j,j===0&&g.length>10?g.length-=10:g.length-=9},b.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var x=0,R=0;R<g.length;R++){var P=g.words[R]|0;x+=P*977,g.words[R]=x&67108863,x=P*64+(x/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function $(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,_);function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(k,_);function O(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(O,_),O.prototype.imulK=function(g){for(var x=0,R=0;R<g.length;R++){var P=(g.words[R]|0)*19+x,C=P&67108863;P>>>=26,g.words[R]=C,x=P}return x!==0&&(g.words[g.length++]=x),g},n._prime=function(g){if(E[g])return E[g];var x;if(g==="k256")x=new b;else if(g==="p224")x=new $;else if(g==="p192")x=new k;else if(g==="p25519")x=new O;else throw new Error("Unknown prime "+g);return E[g]=x,x};function N(T){if(typeof T=="string"){var g=n._prime(T);this.m=g.p,this.prime=g}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}N.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},N.prototype._verify2=function(g,x){r((g.negative|x.negative)===0,"red works only with positives"),r(g.red&&g.red===x.red,"red works only with red numbers")},N.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):g.umod(this.m)._forceRed(this)},N.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},N.prototype.add=function(g,x){this._verify2(g,x);var R=g.add(x);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},N.prototype.iadd=function(g,x){this._verify2(g,x);var R=g.iadd(x);return R.cmp(this.m)>=0&&R.isub(this.m),R},N.prototype.sub=function(g,x){this._verify2(g,x);var R=g.sub(x);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},N.prototype.isub=function(g,x){this._verify2(g,x);var R=g.isub(x);return R.cmpn(0)<0&&R.iadd(this.m),R},N.prototype.shl=function(g,x){return this._verify1(g),this.imod(g.ushln(x))},N.prototype.imul=function(g,x){return this._verify2(g,x),this.imod(g.imul(x))},N.prototype.mul=function(g,x){return this._verify2(g,x),this.imod(g.mul(x))},N.prototype.isqr=function(g){return this.imul(g,g.clone())},N.prototype.sqr=function(g){return this.mul(g,g)},N.prototype.sqrt=function(g){if(g.isZero())return g.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var R=this.m.add(new n(1)).iushrn(2);return this.pow(g,R)}for(var P=this.m.subn(1),C=0;!P.isZero()&&P.andln(1)===0;)C++,P.iushrn(1);r(!P.isZero());var j=new n(1).toRed(this),M=j.redNeg(),A=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new n(2*S*S).toRed(this);this.pow(S,A).cmp(M)!==0;)S.redIAdd(M);for(var I=this.pow(S,P),ee=this.pow(g,P.addn(1).iushrn(1)),Y=this.pow(g,P),V=C;Y.cmp(j)!==0;){for(var Q=Y,Z=0;Q.cmp(j)!==0;Z++)Q=Q.redSqr();r(Z<V);var se=this.pow(I,new n(1).iushln(V-Z-1));ee=ee.redMul(se),I=se.redSqr(),Y=Y.redMul(I),V=Z}return ee},N.prototype.invm=function(g){var x=g._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},N.prototype.pow=function(g,x){if(x.isZero())return new n(1).toRed(this);if(x.cmpn(1)===0)return g.clone();var R=4,P=new Array(1<<R);P[0]=new n(1).toRed(this),P[1]=g;for(var C=2;C<P.length;C++)P[C]=this.mul(P[C-1],g);var j=P[0],M=0,A=0,S=x.bitLength()%26;for(S===0&&(S=26),C=x.length-1;C>=0;C--){for(var I=x.words[C],ee=S-1;ee>=0;ee--){var Y=I>>ee&1;if(j!==P[0]&&(j=this.sqr(j)),Y===0&&M===0){A=0;continue}M<<=1,M|=Y,A++,!(A!==R&&(C!==0||ee!==0))&&(j=this.mul(j,P[M]),A=0,M=0)}S=26}return j},N.prototype.convertTo=function(g){var x=g.umod(this.m);return x===g?x.clone():x},N.prototype.convertFrom=function(g){var x=g.clone();return x.red=null,x},n.mont=function(g){return new L(g)};function L(T){N.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(L,N),L.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},L.prototype.convertFrom=function(g){var x=this.imod(g.mul(this.rinv));return x.red=null,x},L.prototype.imul=function(g,x){if(g.isZero()||x.isZero())return g.words[0]=0,g.length=1,g;var R=g.imul(x),P=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=R.isub(P).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},L.prototype.mul=function(g,x){if(g.isZero()||x.isZero())return new n(0)._forceRed(this);var R=g.mul(x),P=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=R.isub(P).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},L.prototype.invm=function(g){var x=this.imod(g._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(typeof Uq>"u"||Uq,poe)});var oS=w((Mft,hoe)=>{"use strict";var sS=require("buffer"),Ad=sS.Buffer,Bn={},Vn;for(Vn in sS)sS.hasOwnProperty(Vn)&&(Vn==="SlowBuffer"||Vn==="Buffer"||(Bn[Vn]=sS[Vn]));var Cd=Bn.Buffer={};for(Vn in Ad)Ad.hasOwnProperty(Vn)&&(Vn==="allocUnsafe"||Vn==="allocUnsafeSlow"||(Cd[Vn]=Ad[Vn]));Bn.Buffer.prototype=Ad.prototype;(!Cd.from||Cd.from===Uint8Array.from)&&(Cd.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Ad(t,e,r)});Cd.alloc||(Cd.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=Ad(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!Bn.kStringMaxLength)try{Bn.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}Bn.constants||(Bn.constants={MAX_LENGTH:Bn.kMaxLength},Bn.kStringMaxLength&&(Bn.constants.MAX_STRING_LENGTH=Bn.kStringMaxLength));hoe.exports=Bn});var aS=w(moe=>{"use strict";var LXe=Kt();function Wn(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}moe.Reporter=Wn;Wn.prototype.isError=function(e){return e instanceof Nd};Wn.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Wn.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};Wn.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Wn.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};Wn.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};Wn.prototype.path=function(){return this._reporterState.path.join("/")};Wn.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};Wn.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};Wn.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof Nd;if(n?r=e:r=new Nd(i.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};Wn.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Nd(t,e){this.path=t,this.rethrow(e)}LXe(Nd,Error);Nd.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Nd),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var qd=w(Bq=>{"use strict";var FXe=Kt(),cS=aS().Reporter,Id=oS().Buffer;function Gn(t,e){if(cS.call(this,e),!Id.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}FXe(Gn,cS);Bq.DecoderBuffer=Gn;Gn.isDecoderBuffer=function(e){return e instanceof Gn?!0:typeof e=="object"&&Id.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};Gn.prototype.save=function(){return{offset:this.offset,reporter:cS.prototype.save.call(this)}};Gn.prototype.restore=function(e){let r=new Gn(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,cS.prototype.restore.call(this,e.reporter),r};Gn.prototype.isEmpty=function(){return this.offset===this.length};Gn.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Gn.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new Gn(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};Gn.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function jd(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return jd.isEncoderBuffer(r)||(r=new jd(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Id.byteLength(t);else if(Id.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}Bq.EncoderBuffer=jd;jd.isEncoderBuffer=function(e){return e instanceof jd?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};jd.prototype.join=function(e,r){return e||(e=Id.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Id.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var voe=w((Fft,yoe)=>{yoe.exports=goe;function goe(t,e){if(!t)throw new Error(e||"Assertion failed")}goe.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var lS=w((zft,_oe)=>{"use strict";var zXe=aS().Reporter,UXe=qd().EncoderBuffer,HXe=qd().DecoderBuffer,Bi=voe(),boe=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],BXe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(boe),VXe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Ft(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}_oe.exports=Ft;var WXe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Ft.prototype.clone=function(){let e=this._baseState,r={};WXe.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};Ft.prototype._wrap=function(){let e=this._baseState;BXe.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};Ft.prototype._init=function(e){let r=this._baseState;Bi(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),Bi.equal(r.children.length,1,"Root node can have only one child")};Ft.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(Bi(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(Bi(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let s={};return Object.keys(n).forEach(function(o){o==(o|0)&&(o|=0);let a=n[o];s[a]=o}),s}))};VXe.forEach(function(t){Ft.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});boe.forEach(function(t){Ft.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return Bi(r.tag===null),r.tag=t,this._useArgs(i),this}});Ft.prototype.use=function(e){Bi(e);let r=this._baseState;return Bi(r.use===null),r.use=e,this};Ft.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};Ft.prototype.def=function(e){let r=this._baseState;return Bi(r.default===null),r.default=e,r.optional=!0,this};Ft.prototype.explicit=function(e){let r=this._baseState;return Bi(r.explicit===null&&r.implicit===null),r.explicit=e,this};Ft.prototype.implicit=function(e){let r=this._baseState;return Bi(r.explicit===null&&r.implicit===null),r.implicit=e,this};Ft.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Ft.prototype.key=function(e){let r=this._baseState;return Bi(r.key===null),r.key=e,this};Ft.prototype.any=function(){let e=this._baseState;return e.any=!0,this};Ft.prototype.choice=function(e){let r=this._baseState;return Bi(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};Ft.prototype.contains=function(e){let r=this._baseState;return Bi(r.use===null),r.contains=e,this};Ft.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,s=!0,o=null;if(i.key!==null&&(o=e.enterKey(i.key)),i.optional){let c=null;if(i.explicit!==null?c=i.explicit:i.implicit!==null?c=i.implicit:i.tag!==null&&(c=i.tag),c===null&&!i.any){let l=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(l)}else if(s=this._peekTag(e,c,i.any),e.isError(s))return s}let a;if(i.obj&&s&&(a=e.enterObject()),s){if(i.explicit!==null){let l=this._decodeTag(e,i.explicit);if(e.isError(l))return l;e=l}let c=e.offset;if(i.use===null&&i.choice===null){let l;i.any&&(l=e.save());let u=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(u))return u;i.any?n=e.raw(l):e=u}if(r&&r.track&&i.tag!==null&&r.track(e.path(),c,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(u){u._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let l=new HXe(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(l,r)}}return i.obj&&s&&(n=e.leaveObject(a)),i.key!==null&&(n!==null||s===!0)?e.leaveKey(o,i.key,n):o!==null&&e.exitKey(o),n};Ft.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};Ft.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),Bi(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};Ft.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,s=!1;return Object.keys(i.choice).some(function(o){let a=e.save(),c=i.choice[o];try{let l=c._decode(e,r);if(e.isError(l))return!1;n={type:o,value:l},s=!0}catch{return e.restore(a),!1}return!0},this),s?n:e.error("Choice not matched")};Ft.prototype._createEncoderBuffer=function(e){return new UXe(e,this.reporter)};Ft.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let s=this._encodeValue(e,r,i);if(s!==void 0&&!this._skipDefault(s,r,i))return s};Ft.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new zXe);let s=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let o=null,a=!1;if(n.any)s=this._createEncoderBuffer(e);else if(n.choice)s=this._encodeChoice(e,r);else if(n.contains)o=this._getUse(n.contains,i)._encode(e,r),a=!0;else if(n.children)o=n.children.map(function(c){if(c._baseState.tag==="null_")return c._encode(null,r,e);if(c._baseState.key===null)return r.error("Child should have a key");let l=r.enterKey(c._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let u=c._encode(e[c._baseState.key],r,e);return r.leaveKey(l),u},this).filter(function(c){return c}),o=this._createEncoderBuffer(o);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let c=this.clone();c._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(l){let u=this._baseState;return this._getUse(u.args[0],e)._encode(l,r)},c))}else n.use!==null?s=this._getUse(n.use,i)._encode(e,r):(o=this._encodePrimitive(n.tag,e),a=!0);if(!n.any&&n.choice===null){let c=n.implicit!==null?n.implicit:n.tag,l=n.implicit===null?"universal":"context";c===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(s=this._encodeComposite(c,a,l,o))}return n.explicit!==null&&(s=this._encodeComposite(n.explicit,!1,"context",s)),s};Ft.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||Bi(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};Ft.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Ft.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Ft.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var uS=w(Yl=>{"use strict";function woe(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}Yl.tagClass={0:"universal",1:"application",2:"context",3:"private"};Yl.tagClassByName=woe(Yl.tagClass);Yl.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Yl.tagByName=woe(Yl.tag)});var Wq=w((Hft,Eoe)=>{"use strict";var GXe=Kt(),fa=oS().Buffer,xoe=lS(),Vq=uS();function Soe(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new $s,this.tree._init(t.body)}Eoe.exports=Soe;Soe.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function $s(t){xoe.call(this,"der",t)}GXe($s,xoe);$s.prototype._encodeComposite=function(e,r,i,n){let s=KXe(e,r,i,this.reporter);if(n.length<128){let c=fa.alloc(2);return c[0]=s,c[1]=n.length,this._createEncoderBuffer([c,n])}let o=1;for(let c=n.length;c>=256;c>>=8)o++;let a=fa.alloc(2+o);a[0]=s,a[1]=128|o;for(let c=1+o,l=n.length;l>0;c--,l>>=8)a[c]=l&255;return this._createEncoderBuffer([a,n])};$s.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=fa.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};$s.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let a=0;a<e.length;a++)e[a]|=0}else if(Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let a=0;a<e.length;a++){let c=e[a];for(n++;c>=128;c>>=7)n++}let s=fa.alloc(n),o=s.length-1;for(let a=e.length-1;a>=0;a--){let c=e[a];for(s[o--]=c&127;(c>>=7)>0;)s[o--]=128|c&127}return this._createEncoderBuffer(s)};function Kn(t){return t<10?"0"+t:t}$s.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[Kn(n.getUTCFullYear()),Kn(n.getUTCMonth()+1),Kn(n.getUTCDate()),Kn(n.getUTCHours()),Kn(n.getUTCMinutes()),Kn(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[Kn(n.getUTCFullYear()%100),Kn(n.getUTCMonth()+1),Kn(n.getUTCDate()),Kn(n.getUTCHours()),Kn(n.getUTCMinutes()),Kn(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};$s.prototype._encodeNull=function(){return this._createEncoderBuffer("")};$s.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!fa.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=fa.from(s)}if(fa.isBuffer(e)){let s=e.length;e.length===0&&s++;let o=fa.alloc(s);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let s=e;s>=256;s>>=8)i++;let n=new Array(i);for(let s=n.length-1;s>=0;s--)n[s]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(fa.from(n))};$s.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};$s.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};$s.prototype._skipDefault=function(e,r,i){let n=this._baseState,s;if(n.default===null)return!1;let o=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),o.length!==n.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==n.defaultBuffer[s])return!1;return!0};function KXe(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),Vq.tagByName.hasOwnProperty(t))n=Vq.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=Vq.tagClassByName[r||"universal"]<<6,n)}});var Toe=w((Bft,Roe)=>{"use strict";var JXe=Kt(),Gq=Wq();function Kq(t){Gq.call(this,t),this.enc="pem"}JXe(Kq,Gq);Roe.exports=Kq;Kq.prototype.encode=function(e,r){let n=Gq.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let o=0;o<n.length;o+=64)s.push(n.slice(o,o+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)}});var Jq=w(Poe=>{"use strict";var $oe=Poe;$oe.der=Wq();$oe.pem=Toe()});var Xq=w((Wft,Ioe)=>{"use strict";var YXe=Kt(),XXe=Hq(),Ooe=qd().DecoderBuffer,Aoe=lS(),koe=uS();function Coe(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new hn,this.tree._init(t.body)}Ioe.exports=Coe;Coe.prototype.decode=function(e,r){return Ooe.isDecoderBuffer(e)||(e=new Ooe(e,r)),this.tree._decode(e,r)};function hn(t){Aoe.call(this,"der",t)}YXe(hn,Aoe);hn.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),s=Yq(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(n),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||i)};hn.prototype._decodeTag=function(e,r,i){let n=Yq(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let s=Noe(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(s=e.offset-o.offset,e.restore(o),e.skip(s,'Failed to match body of: "'+r+'"'))};hn.prototype._skipUntilEnd=function(e,r){for(;;){let i=Yq(e,r);if(e.isError(i))return i;let n=Noe(e,i.primitive,r);if(e.isError(n))return n;let s;if(i.primitive||n!==null?s=e.skip(n):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(i.tagStr==="end")break}};hn.prototype._decodeList=function(e,r,i,n){let s=[];for(;!e.isEmpty();){let o=this._peekTag(e,"end");if(e.isError(o))return o;let a=i.decode(e,"der",n);if(e.isError(a)&&o)break;s.push(a)}return s};hn.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let s=0;s<i.length/2;s++)n+=String.fromCharCode(i.readUInt16BE(s*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};hn.prototype._decodeObjid=function(e,r,i){let n,s=[],o=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),o<<=7,o|=a&127,a&128||(s.push(o),o=0);a&128&&s.push(o);let c=s[0]/40|0,l=s[0]%40;if(i?n=s:n=[c,l].concat(s.slice(1)),r){let u=r[n.join(" ")];u===void 0&&(u=r[n.join(".")]),u!==void 0&&(n=u)}return n};hn.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,s,o,a,c,l;if(r==="gentime")n=i.slice(0,4)|0,s=i.slice(4,6)|0,o=i.slice(6,8)|0,a=i.slice(8,10)|0,c=i.slice(10,12)|0,l=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,s=i.slice(2,4)|0,o=i.slice(4,6)|0,a=i.slice(6,8)|0,c=i.slice(8,10)|0,l=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,s-1,o,a,c,l,0)};hn.prototype._decodeNull=function(){return null};hn.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};hn.prototype._decodeInt=function(e,r){let i=e.raw(),n=new XXe(i);return r&&(n=r[n.toString(10)]||n),n};hn.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function Yq(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=koe.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=o&127}}else r&=31;let s=koe.tag[r];return{cls:i,primitive:n,tag:r,tagStr:s}}function Noe(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if(!(i&128))return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let s=0;s<n;s++){i<<=8;let o=t.readUInt8(r);if(t.isError(o))return o;i|=o}return i}});var qoe=w((Gft,joe)=>{"use strict";var ZXe=Kt(),QXe=oS().Buffer,Zq=Xq();function Qq(t){Zq.call(this,t),this.enc="pem"}ZXe(Qq,Zq);joe.exports=Qq;Qq.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,a=-1;for(let u=0;u<i.length;u++){let f=i[u].match(s);if(f!==null&&f[2]===n)if(o===-1){if(f[1]!=="BEGIN")break;o=u}else{if(f[1]!=="END")break;a=u;break}}if(o===-1||a===-1)throw new Error("PEM section not found for: "+n);let c=i.slice(o+1,a).join("");c.replace(/[^a-z0-9+/=]+/gi,"");let l=QXe.from(c,"base64");return Zq.prototype.decode.call(this,l,r)}});var eM=w(Doe=>{"use strict";var Moe=Doe;Moe.der=Xq();Moe.pem=qoe()});var Foe=w(Loe=>{"use strict";var eZe=Jq(),tZe=eM(),rZe=Kt(),iZe=Loe;iZe.define=function(e,r){return new Md(e,r)};function Md(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Md.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return rZe(i,e),i.prototype._initNamed=function(s,o){e.call(this,s,o)},new i(this)};Md.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(tZe[e])),this.decoders[e]};Md.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};Md.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(eZe[e])),this.encoders[e]};Md.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var Uoe=w(zoe=>{"use strict";var fS=zoe;fS.Reporter=aS().Reporter;fS.DecoderBuffer=qd().DecoderBuffer;fS.EncoderBuffer=qd().EncoderBuffer;fS.Node=lS()});var Voe=w(Boe=>{"use strict";var Hoe=Boe;Hoe._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};Hoe.der=uS()});var Goe=w(Woe=>{"use strict";var Dd=Woe;Dd.bignum=Hq();Dd.define=Foe().define;Dd.base=Uoe();Dd.constants=Voe();Dd.decoders=eM();Dd.encoders=Jq()});var Joe=w((Qft,Koe)=>{"use strict";function tM(t){var e=(t/8|0)+(t%8===0?0:1);return e}var nZe={ES256:tM(256),ES384:tM(384),ES512:tM(521)};function sZe(t){var e=nZe[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}Koe.exports=sZe});var rae=w((edt,tae)=>{"use strict";var dS=sw().Buffer,Xoe=Joe(),pS=128,Zoe=0,oZe=32,aZe=16,cZe=2,Qoe=aZe|oZe|Zoe<<6,hS=cZe|Zoe<<6;function lZe(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eae(t){if(dS.isBuffer(t))return t;if(typeof t=="string")return dS.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function uZe(t,e){t=eae(t);var r=Xoe(e),i=r+1,n=t.length,s=0;if(t[s++]!==Qoe)throw new Error('Could not find expected "seq"');var o=t[s++];if(o===(pS|1)&&(o=t[s++]),n-s<o)throw new Error('"seq" specified length of "'+o+'", only "'+(n-s)+'" remaining');if(t[s++]!==hS)throw new Error('Could not find expected "int" for "r"');var a=t[s++];if(n-s-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(n-s-2)+'" available');if(i<a)throw new Error('"r" specified length of "'+a+'", max of "'+i+'" is acceptable');var c=s;if(s+=a,t[s++]!==hS)throw new Error('Could not find expected "int" for "s"');var l=t[s++];if(n-s!==l)throw new Error('"s" specified length of "'+l+'", expected "'+(n-s)+'"');if(i<l)throw new Error('"s" specified length of "'+l+'", max of "'+i+'" is acceptable');var u=s;if(s+=l,s!==n)throw new Error('Expected to consume entire buffer, but "'+(n-s)+'" bytes remain');var f=r-a,p=r-l,d=dS.allocUnsafe(f+a+p+l);for(s=0;s<f;++s)d[s]=0;t.copy(d,s,c+Math.max(-f,0),c+a),s=r;for(var h=s;s<h+p;++s)d[s]=0;return t.copy(d,s,u+Math.max(-p,0),u+l),d=d.toString("base64"),d=lZe(d),d}function Yoe(t,e,r){for(var i=0;e+i<r&&t[e+i]===0;)++i;var n=t[e+i]>=pS;return n&&--i,i}function fZe(t,e){t=eae(t);var r=Xoe(e),i=t.length;if(i!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+i+'"');var n=Yoe(t,0,r),s=Yoe(t,r,t.length),o=r-n,a=r-s,c=2+o+1+1+a,l=c<pS,u=dS.allocUnsafe((l?2:3)+c),f=0;return u[f++]=Qoe,l?u[f++]=c:(u[f++]=pS|1,u[f++]=c&255),u[f++]=hS,u[f++]=o,n<0?(u[f++]=0,f+=t.copy(u,f,0,r)):f+=t.copy(u,f,n,r),u[f++]=hS,u[f++]=a,s<0?(u[f++]=0,t.copy(u,f,r)):t.copy(u,f,r+s),u}tae.exports={derToJose:uZe,joseToDer:fZe}});var oM=w((tdt,yae)=>{"use strict";var sM=Goe(),{createHmac:nae,createVerify:dZe,createSign:sae,timingSafeEqual:pZe,createPublicKey:hZe,constants:{RSA_PKCS1_PSS_PADDING:oae,RSA_PSS_SALTLEN_DIGEST:aae,RSA_PKCS1_PADDING:cae,RSA_PSS_SALTLEN_MAX_SIGN:mZe,RSA_PSS_SALTLEN_AUTO:gZe}}=require("node:crypto"),{sign:gS,verify:iae}=require("node:crypto"),{joseToDer:yZe,derToJose:vZe}=rae(),lae=dx(),{TokenError:zt}=kd(),uae=typeof gS=="function",fae=/[=+/]/g,bZe={"=":"","+":"-","/":"_"},dae=/^-----BEGIN(?: (RSA|EC|ENCRYPTED))? PRIVATE KEY-----/,pae=/^-----BEGIN(?: (RSA))? PUBLIC KEY-----/,iM="-----BEGIN CERTIFICATE-----",mS=new lae(1e3),rM=new lae(1e3),hae=["HS256","HS384","HS512"],_Ze=["ES256","ES384","ES512"],nM=["RS256","RS384","RS512","PS256","PS384","PS512"],wZe=["EdDSA"],mae={"1.2.840.10045.3.1.7":{bits:"256",names:["P-256","prime256v1"]},"1.3.132.0.10":{bits:"256",names:["secp256k1"]},"1.3.132.0.34":{bits:"384",names:["P-384","secp384r1"]},"1.3.132.0.35":{bits:"512",names:["P-521","secp521r1"]}};uae||(gS=function(t,e,r){if(typeof t>"u")throw new zt(zt.codes.signError,"EdDSA algorithms are not supported by your Node.js version.");return sae(t).update(e).sign(r)});var xZe=sM.define("PrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().objid()))}),SZe=sM.define("PublicKey",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().objid()))}),EZe=sM.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().choice({namedCurve:this.objid()}))});function gae(t){return bZe[t]}function Qg(t,e,r,i){return t.set(e,[r,i]),r||i}function RZe(t){if(t.match(pae)||t.includes(iM))throw new zt(zt.codes.invalidKey,"Public keys are not supported for signing.");let e=t.trim().match(dae);if(!e)return"HS256";let r,i,n;switch(e[1]){case"RSA":return"RS256";case"EC":r=EZe.decode(t,"pem",{label:"EC PRIVATE KEY"}),n=r.parameters.value.join(".");break;case"ENCRYPTED":return"ENCRYPTED";default:switch(r=xZe.decode(t,"pem",{label:"PRIVATE KEY"}),i=r.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return"RS256";case"1.2.840.10045.2.1":n=r.algorithm.parameters.join(".");break;case"1.3.101.112":case"1.3.101.113":return"EdDSA";default:throw new zt(zt.codes.invalidKey,`Unsupported PEM PCKS8 private key with OID ${i}.`)}}let s=mae[n];if(!s)throw new zt(zt.codes.invalidKey,`Unsupported EC private key with curve ${n}.`);return`ES${s.bits}`}function TZe(t){let e=t.match(pae);if(t.match(dae))throw new zt(zt.codes.invalidKey,"Private keys are not supported for verifying.");if(e&&e[1]==="RSA")return nM;if(!e&&!t.includes(iM))return hae;t.includes(iM)&&(t=hZe(t).export({type:"spki",format:"pem"}));let r=SZe.decode(t,"pem",{label:"PUBLIC KEY"}),i=r.algorithm.algorithm.join("."),n;switch(i){case"1.2.840.113549.1.1.1":return nM;case"1.2.840.10045.2.1":n=r.algorithm.parameters.join(".");break;case"1.3.101.112":case"1.3.101.113":return["EdDSA"];default:throw new zt(zt.codes.invalidKey,`Unsupported PEM PCKS8 public key with OID ${i}.`)}let s=mae[n];if(!s)throw new zt(zt.codes.invalidKey,`Unsupported EC public key with curve ${n}.`);return[`ES${s.bits}`]}function $Ze(t,e){if(t instanceof Buffer)t=t.toString("utf-8");else if(typeof t!="string")throw new zt(zt.codes.invalidKey,"The private key must be a string or a buffer.");let[r,i]=mS.get(t)||[];if(r)return r;if(i)throw i;try{let n=RZe(t);return n==="ENCRYPTED"?Qg(mS,t,e):Qg(mS,t,n)}catch(n){throw Qg(mS,t,null,zt.wrap(n,zt.codes.invalidKey,"Unsupported PEM private key."))}}function PZe(t){if(!t)return"none";let[e,r]=rM.get(t)||[];if(e)return e;if(r)throw r;try{if(t instanceof Buffer)t=t.toString("utf-8");else if(typeof t!="string")throw new zt(zt.codes.invalidKey,"The public key must be a string or a buffer.");return Qg(rM,t,TZe(t))}catch(i){throw Qg(rM,t,null,zt.wrap(i,zt.codes.invalidKey,"Unsupported PEM public key."))}}function OZe(t,e,r){try{let i=t.slice(0,2),n=`sha${t.slice(2)}`,s,o;switch(i){case"HS":s=nae(n,e).update(r).digest("base64");break;case"ES":s=vZe(gS(n,Buffer.from(r,"utf-8"),e),t).toString("base64");break;case"RS":case"PS":o={key:e,padding:cae,saltLength:mZe},i==="PS"&&(o.padding=oae,o.saltLength=aae),s=sae(n).update(r).sign(o).toString("base64");break;case"Ed":s=gS(void 0,Buffer.from(r,"utf-8"),e).toString("base64")}return s.replace(fae,gae)}catch(i){throw new zt(zt.codes.signError,"Cannot create the signature.",{originalError:i})}}function kZe(t,e,r,i){try{let n=t.slice(0,2),s=`SHA${t.slice(2)}`;if(i=Buffer.from(i,"base64"),n==="HS")try{return pZe(nae(s,e).update(r).digest(),i)}catch{return!1}else if(n==="Ed"){if(typeof iae=="function")return iae(void 0,Buffer.from(r,"utf-8"),e,i);throw new zt(zt.codes.signError,"EdDSA algorithms are not supported by your Node.js version.")}let o={key:e,padding:cae,saltLength:gZe};return n==="PS"?(o.padding=oae,o.saltLength=aae):n==="ES"&&(i=yZe(i,t)),dZe("RSA-"+s).update(r).verify(o,i)}catch(n){throw new zt(zt.codes.verifyError,"Cannot verify the signature.",{originalError:n})}}yae.exports={useNewCrypto:uae,base64UrlMatcher:fae,base64UrlReplacer:gae,hsAlgorithms:hae,rsaAlgorithms:nM,esAlgorithms:_Ze,edAlgorithms:wZe,detectPrivateKeyAlgorithm:$Ze,detectPublicKeyAlgorithms:PZe,createSignature:OZe,verifySignature:kZe}});var aM=w((rdt,bae)=>{"use strict";var{createHash:vae}=require("node:crypto"),AZe=/"alg"\s*:\s*"[HERP]S(256|384)"/m,CZe=/"alg"\s*:\s*"EdDSA"/m,NZe=/"crv"\s*:\s*"Ed448"/m;function IZe(t,e,r){let i=t(e,r);i&&typeof i.then=="function"&&i.then(n=>{process.nextTick(()=>r(null,n))}).catch(r)}function jZe(t){if(typeof t=="function")return[t];let e,r,i=new Promise((n,s)=>{e=n,r=s});return[function(n,s){return n?r(n):e(s)},i]}function qZe(t){let e=t.split(".",1)[0],r=Buffer.from(e,"base64").toString("utf-8"),i=null;if(r.match(CZe)&&r.match(NZe))i=vae("shake256",{outputLength:114});else{let n=r.match(AZe);i=vae(`sha${n?n[1]:"512"}`)}return i.update(t).digest("hex")}bae.exports={getAsyncKey:IZe,ensurePromiseCallback:jZe,hashToken:qZe}});var Tae=w((idt,Rae)=>{"use strict";var{createPublicKey:MZe,createSecretKey:DZe}=require("node:crypto"),LZe=dx(),{useNewCrypto:FZe,hsAlgorithms:wae,verifySignature:zZe,detectPublicKeyAlgorithms:xae}=oM(),UZe=zq(),{TokenError:Ke}=kd(),{getAsyncKey:HZe,ensurePromiseCallback:BZe,hashToken:cM}=aM(),VZe=1e3;function WZe(t,e){return t===e}function Sae(t,e){let r=!1;for(let i of t)if(r=e.indexOf(i)!==-1,r)break;if(!r)throw new Ke(Ke.codes.invalidKey,`Invalid public key provided for algorithms ${t.join(", ")}.`)}function Eae(t,e){return typeof t=="string"&&(t=Buffer.from(t,"utf-8")),FZe&&(t=e?DZe(t):MZe(t)),t}function ey(t){return Array.isArray(t)||(t=[t]),t.filter(e=>e).map(e=>e&&typeof e.test=="function"?e:{test:WZe.bind(null,e)})}function GZe(t){let e=parseInt(t===!0?VZe:t,10);return e>0?new LZe(e):null}function Ld({cache:t,token:e,cacheTTL:r,payload:i,ignoreExpiration:n,ignoreNotBefore:s,maxAge:o,clockTimestamp:a,clockTolerance:c,errorCacheTTL:l},u){if(!t)return u;let f=[u,0,0];if(u instanceof Ke){let h=typeof l=="function"?l(u):l;return f[2]=(a||Date.now())+c+h,t.set(cM(e),f),u}i&&typeof i.iat=="number"&&(f[1]=!s&&typeof i.nbf=="number"?i.nbf*1e3-c:0,n||(typeof i.exp=="number"?f[2]=i.exp*1e3+c:o&&(f[2]=i.iat*1e3+o+c)));let d=(a||Date.now())+c+r;return f[2]=f[2]===0?d:Math.min(f[2],d),t.set(cM(e),f),u}function KZe(t,e,r){if(t instanceof Ke){if(!e)throw t;e(t)}else{if(!e)return t;e(null,t)}return r}function JZe(t,e,r,i,n){if(!n.includes(e.alg))throw new Ke(Ke.codes.invalidAlgorithm,"The token algorithm is invalid.");if(r&&!zZe(e.alg,i,t,r))throw new Ke(Ke.codes.invalidSignature,"The token signature is invalid.")}function YZe(t,e,r,i){let n=r?`The ${e} claim must be a ${i} or an array of ${i}s.`:`The ${e} claim must be a ${i}.`;if(t.map(s=>typeof s).some(s=>s!==i))throw new Ke(Ke.codes.invalidClaimType,n)}function XZe(t,e,r,i){let n=i?`None of ${e} claim values are allowed.`:`The ${e} claim value is not allowed.`;if(!t.some(s=>r.some(o=>o.test(s))))throw new Ke(Ke.codes.invalidClaimValue,n)}function ZZe(t,e,r,i,n,s){let o=t*1e3+(e||0);if(!(i?r>=o:r<=o))throw new Ke(Ke.codes[n],`The token ${s} at ${new Date(o).toISOString()}.`)}function _ae(t,{input:e,header:r,payload:i,signature:n},{validators:s,allowedAlgorithms:o,checkTyp:a,clockTimestamp:c,clockTolerance:l,requiredClaims:u}){let f=t instanceof Buffer?t.length:!!t;if(f&&!n)throw new Ke(Ke.codes.missingSignature,"The token signature is missing.");if(!f&&n)throw new Ke(Ke.codes.missingKey,"The key option is missing.");if(JZe(e,r,n,t,o),a&&(typeof r.typ!="string"||a!==r.typ.toLowerCase().replace(/^application\//,"")))throw new Ke(Ke.codes.invalidType,"Invalid typ.");let p=c||Date.now();if(u){for(let d of u)if(!(d in i))throw new Ke(Ke.codes.missingRequiredClaim,`The ${d} claim is required.`)}for(let d of s){let{type:h,claim:m,allowed:v,array:y,modifier:E,greater:_,errorCode:b,errorVerb:$}=d,k=i[m],O=Array.isArray(k),N=O?k:[k];m in i&&(YZe(N,m,y,h==="date"?"number":"string"),h==="date"?ZZe(k,E,p,_,b,$):XZe(N,m,v,O))}}function QZe({key:t,allowedAlgorithms:e,complete:r,cacheTTL:i,checkTyp:n,clockTimestamp:s,clockTolerance:o,ignoreExpiration:a,ignoreNotBefore:c,maxAge:l,isAsync:u,validators:f,decode:p,cache:d,requiredClaims:h,errorCacheTTL:m},v,y){let[E,_]=u?BZe(y):[],b={cache:d,token:v,cacheTTL:i,errorCacheTTL:m,payload:void 0,ignoreExpiration:a,ignoreNotBefore:c,maxAge:l,clockTimestamp:s,clockTolerance:o};if(d){let[T,g,x]=d.get(cM(v))||[void 0,0,0],R=s||Date.now();if(typeof T<"u"&&(g===0||R<g&&T.code==="FAST_JWT_INACTIVE"||R>=g&&T.code!=="FAST_JWT_INACTIVE")&&(x===0||R<=x))return KZe(T,E,_)}let $;try{$=p(v)}catch(T){if(E)return E(T),_;throw T}let{header:k,payload:O,signature:N}=$;b.payload=O;let L={validators:f,allowedAlgorithms:e,checkTyp:n,clockTimestamp:s,clockTolerance:o,requiredClaims:h};if(!E)try{return _ae(t,$,L),Ld(b,r?{header:k,payload:O,signature:N}:O)}catch(T){throw Ld(b,T)}return HZe(t,{header:k,payload:O,signature:N},(T,g)=>{if(T)return E(Ld(b,Ke.wrap(T,Ke.codes.keyFetchingError,"Cannot fetch key.")));if(typeof g=="string")g=Buffer.from(g,"utf-8");else if(!(g instanceof Buffer))return E(Ld(b,new Ke(Ke.codes.keyFetchingError,"The key returned from the callback must be a string or a buffer containing a secret or a public key.")));try{let x=xae(g);L.allowedAlgorithms.length?Sae(e,x):L.allowedAlgorithms=x,g=Eae(g,x[0]===wae[0]),_ae(g,$,L)}catch(x){return E(Ld(b,x))}E(null,Ld(b,r?{header:k,payload:O,signature:N}:O))}),_}Rae.exports=function(e){let{key:r,algorithms:i,complete:n,cache:s,cacheTTL:o,errorCacheTTL:a,checkTyp:c,clockTimestamp:l,clockTolerance:u,ignoreExpiration:f,ignoreNotBefore:p,maxAge:d,allowedJti:h,allowedAud:m,allowedIss:v,allowedSub:y,allowedNonce:E,requiredClaims:_}={cacheTTL:6e5,clockTolerance:0,errorCacheTTL:-1,...e};Array.isArray(i)||(i=[]);let b=typeof r;if(b!=="string"&&b!=="object"&&b!=="function")throw new Ke(Ke.codes.INVALID_OPTION,"The key option must be a string, a buffer or a function returning the algorithm secret or public key.");if(r&&b!=="function"){let L=xae(r);i.length?Sae(i,L):i=L,r=Eae(r,L[0]===wae[0])}if(l&&(typeof l!="number"||l<0))throw new Ke(Ke.codes.invalidOption,"The clockTimestamp option must be a positive number.");if(u&&(typeof u!="number"||u<0))throw new Ke(Ke.codes.invalidOption,"The clockTolerance option must be a positive number.");if(o&&(typeof o!="number"||o<0))throw new Ke(Ke.codes.invalidOption,"The cacheTTL option must be a positive number.");if(a&&typeof a!="function"&&typeof a!="number"||a<-1)throw new Ke(Ke.codes.invalidOption,"The errorCacheTTL option must be a number greater than -1 or a function.");if(_&&!Array.isArray(_))throw new Ke(Ke.codes.invalidOption,"The requiredClaims option must be an array.");let $=[];p||$.push({type:"date",claim:"nbf",errorCode:"inactive",errorVerb:"will be active",greater:!0,modifier:-u}),f||$.push({type:"date",claim:"exp",errorCode:"expired",errorVerb:"has expired",modifier:+u}),typeof d=="number"&&$.push({type:"date",claim:"iat",errorCode:"expired",errorVerb:"has expired",modifier:d}),h&&$.push({type:"string",claim:"jti",allowed:ey(h)}),m&&$.push({type:"string",claim:"aud",allowed:ey(m),array:!0}),v&&$.push({type:"string",claim:"iss",allowed:ey(v)}),y&&$.push({type:"string",claim:"sub",allowed:ey(y)}),E&&$.push({type:"string",claim:"nonce",allowed:ey(E)});let k=null;c&&(k=c.toLowerCase().replace(/^application\//,""));let O={key:r,allowedAlgorithms:i,complete:n,cacheTTL:o,errorCacheTTL:a,checkTyp:k,clockTimestamp:l,clockTolerance:u,ignoreExpiration:f,ignoreNotBefore:p,maxAge:d,isAsync:b==="function",validators:$,decode:UZe({complete:!0}),cache:GZe(s),requiredClaims:_},N=QZe.bind(null,O);return N.cache=O.cache,N}});var Iae=w((ndt,Nae)=>{"use strict";var{base64UrlMatcher:lM,base64UrlReplacer:uM,useNewCrypto:eQe,hsAlgorithms:tQe,esAlgorithms:rQe,rsaAlgorithms:iQe,edAlgorithms:nQe,detectPrivateKeyAlgorithm:Oae,createSignature:$ae}=oM(),{TokenError:Je}=kd(),{getAsyncKey:sQe,ensurePromiseCallback:oQe}=aM(),{createPrivateKey:aQe,createSecretKey:cQe}=require("node:crypto"),{parse:Pae}=Gg(),kae=new Set([...tQe,...rQe,...iQe,...nQe,"none"]),lQe=Array.from(kae).join(", ");function Aae(t,e){let r=t.slice(0,2),i=e.slice(0,2),n=!0;if(r==="RS"||r==="PS"?n=i==="RS"||r==="RS"&&e==="ENCRYPTED":(r==="ES"||r==="Ed")&&(n=r===i||r==="ES"&&e==="ENCRYPTED"),!n)throw new Je(Je.codes.invalidKey,`Invalid private key provided for algorithm ${t}.`)}function Cae(t,e){return typeof t=="string"&&(t=Buffer.from(t,"utf-8")),eQe&&(t=e[0]==="H"?cQe(t):aQe(t)),t}function uQe({key:t,algorithm:e,noTimestamp:r,mutatePayload:i,clockTimestamp:n,expiresIn:s,notBefore:o,kid:a,typ:c,isAsync:l,additionalHeader:u,fixedPayload:f},p,d){let[h,m]=l?oQe(d):[];if(typeof p!="object")throw new Je(Je.codes.invalidType,"The payload must be an object.");if(p.exp&&(!Number.isInteger(p.exp)||p.exp<0))throw new Je(Je.codes.invalidClaimValue,"The exp claim must be a positive integer.");let v={alg:e,typ:c||"JWT",kid:a,...u},y="",E=p.iat*1e3||n||Date.now(),_={...p,...f,iat:r?void 0:Math.floor(E/1e3),exp:p.exp?p.exp:s?Math.floor((E+s)/1e3):void 0,nbf:o?Math.floor((E+o)/1e3):void 0};if(i&&Object.assign(p,_),y=Buffer.from(JSON.stringify(_),"utf-8").toString("base64").replace(lM,uM),!h){let $=Buffer.from(JSON.stringify(v),"utf-8").toString("base64").replace(lM,uM)+"."+y,k=e==="none"?"":$ae(e,t,$);return $+"."+k}return sQe(t,{header:v,payload:p},(b,$)=>{if(b){let O=Je.wrap(b,Je.codes.keyFetchingError,"Cannot fetch key.");return h(O)}if(typeof $=="string")$=Buffer.from($,"utf-8");else if(!($ instanceof Buffer))return h(new Je(Je.codes.keyFetchingError,"The key returned from the callback must be a string or a buffer containing a secret or a private key."));let k;try{let O=Oae($,e);e?Aae(e,O):v.alg=e=O,$=Cae($,e);let L=Buffer.from(JSON.stringify(v),"utf-8").toString("base64").replace(lM,uM)+"."+y;k=L+"."+$ae(e,$,L)}catch(O){return h(O)}h(null,k)}),m}Nae.exports=function(e){let{key:r,algorithm:i,noTimestamp:n,mutatePayload:s,clockTimestamp:o,expiresIn:a,notBefore:c,jti:l,aud:u,iss:f,sub:p,nonce:d,kid:h,typ:m,header:v}={clockTimestamp:0,...e};if(i&&!kae.has(i))throw new Je(Je.codes.invalidOption,`The algorithm option must be one of the following values: ${lQe}.`);let y=typeof r,E=y==="object"&&r&&r.key&&r.passphrase;if(i==="none"){if(r)throw new Je(Je.codes.invalidOption,'The key option must not be provided when the algorithm option is "none".')}else{if(!r||y!=="string"&&!(r instanceof Buffer)&&y!=="function"&&!E)throw new Je(Je.codes.invalidOption,"The key option must be a string, a buffer, an object containing key/passphrase properties or a function returning the algorithm secret or private key.");if(E&&!i)throw new Je(Je.codes.invalidAlgorithm,"When using password protected key you must provide the algorithm option.")}if(r&&y!=="function"){let k=Oae(E?r.key:r,i);i?Aae(i,k):i=k,r=Cae(r,i)}if(a&&(typeof a=="string"&&(a=Pae(a)),typeof a!="number"||a<0))throw new Je(Je.codes.invalidOption,"The expiresIn option must be a positive number or a valid string.");if(c&&(typeof c=="string"&&(c=Pae(c)),typeof c!="number"||c<0))throw new Je(Je.codes.invalidOption,"The notBefore option must be a positive number or a valid string.");if(o&&(typeof o!="number"||o<0))throw new Je(Je.codes.invalidOption,"The clockTimestamp option must be a positive number.");if(l&&typeof l!="string")throw new Je(Je.codes.invalidOption,"The jti option must be a string.");if(u&&typeof u!="string"&&!Array.isArray(u))throw new Je(Je.codes.invalidOption,"The aud option must be a string or an array of strings.");if(f&&typeof f!="string")throw new Je(Je.codes.invalidOption,"The iss option must be a string.");if(p&&typeof p!="string")throw new Je(Je.codes.invalidOption,"The sub option must be a string.");if(d&&typeof d!="string")throw new Je(Je.codes.invalidOption,"The nonce option must be a string.");if(h&&typeof h!="string")throw new Je(Je.codes.invalidOption,"The kid option must be a string.");if(v&&typeof v!="object")throw new Je(Je.codes.invalidOption,"The header option must be a object.");let b=Object.entries({jti:l,aud:u,iss:f,sub:p,nonce:d}).reduce((k,[O,N])=>(N!==void 0&&(k[O]=N),k),{}),$={key:r,algorithm:i,noTimestamp:n,mutatePayload:s,clockTimestamp:o,expiresIn:a,notBefore:c,kid:h,typ:m,isAsync:y==="function",additionalHeader:v,fixedPayload:b};return uQe.bind(null,$)}});var qae=w((sdt,jae)=>{"use strict";var{TokenError:fQe,TOKEN_ERROR_CODES:dQe}=kd(),pQe=zq(),hQe=Tae(),mQe=Iae();jae.exports={TokenError:fQe,TOKEN_ERROR_CODES:dQe,createDecoder:pQe,createVerifier:hQe,createSigner:mQe}});var Lae=w((odt,Dae)=>{"use strict";var gQe=U_(),Mae=nu(),yQe={released:da,results:!0};function vQe(t){t=gQe(yQe,t);var e=t.released,r=Mae(t.results?wQe:bQe),i=Mae(_Qe),n=t.results?u:p,s=t.results?l:f;return o;function o(d,h,m,v){var y=r.get();v=v||da,h.length===0?(v.call(d),e(y)):(y._callback=v,y._callThat=d,y._release=a,typeof h=="function"?s(d,h,m,y):n(d,h,m,y),y._count===0&&y.release())}function a(d){r.release(d),e(d)}function c(d){i.release(d)}function l(d,h,m,v){var y=null;v._count=m.length,v._results=new Array(v._count);for(var E=0;E<m.length;E++)y=i.get(),y._release=c,y.parent=v,y.pos=E,d?h.call(d,m[E],y.release):h(m[E],y.release)}function u(d,h,m,v){var y=null,E=da;v._count=h.length,v._results=new Array(v._count);for(var _=0;_<h.length;_++)y=i.get(),y._release=c,y.parent=v,y.pos=_,E=h[_],d?E.length===1?E.call(d,y.release):E.call(d,m,y.release):E.length===1?E(y.release):E(m,y.release)}function f(d,h,m,v){v._count=m.length;for(var y=0;y<m.length;y++)d?h.call(d,m[y],v.release):h(m[y],v.release)}function p(d,h,m,v){var y=null;v._count=h.length;for(var E=0;E<h.length;E++)y=h[E],d?y.length===1?y.call(d,v.release):y.call(d,m,v.release):y.length===1?y(v.release):y(m,v.release)}}function bQe(){this._count=-1,this._callback=da,this._callThat=null,this._release=null,this.next=null;var t=this,e=0;this.release=function(){var r=t._callback;(++e===t._count||t._count===0)&&(t._callThat?r.call(t._callThat):r(),t._callback=da,t._callThat=null,e=0,t._release(t))}}function _Qe(){this.pos=-1,this._release=da,this.parent=null,this.next=null;var t=this;this.release=function(e,r){t.parent.release(e,t.pos,r),t.pos=-1,t.parent=null,t._release(t)}}function wQe(){this._count=-1,this._callback=da,this._results=null,this._err=null,this._callThat=null,this._release=da,this.next=null;var t=this,e=0;this.release=function(r,i,n){t._err=t._err||r,i>=0&&(t._results[i]=n);var s=t._callback;(++e===t._count||t._count===0)&&(t._callThat?s.call(t._callThat,t._err,t._results):s(t._err,t._results),t._callback=da,t._results=null,t._err=null,t._callThat=null,e=0,t._release(t))}}function da(){}Dae.exports=vQe});var zae=w((adt,Fae)=>{"use strict";var xQe=U_(),SQe=nu(),EQe={released:fM,results:!0};function RQe(t){t=xQe(EQe,t);var e=t.released,r=SQe(t.results?$Qe:TQe);return i;function i(s,o,a,c){var l=r.get();l._released=n,c=c||fM,o.length===0?(c.call(s),n(l)):(l._callback=c,o.call?(l._list=a,l._each=o):(l._list=o,l._arg=a),l._callThat=s,l.release())}function n(s){r.release(s),e()}}function yS(){this._list=null,this._arg=null,this._callThat=null,this._callback=fM,this._each=null}function TQe(){yS.call(this),this.next=null,this._released=null;var t=this,e=0;this.release=function(){e<t._list.length?t._each?vS(t._callThat,t._each,t._list[e++],t.release):vS(t._callThat,t._list[e++],t._arg,t.release):(t._callback.call(t._callThat),yS.call(t),e=0,t._released(t))}}function $Qe(t){yS.call(this),this._results=[],this.next=null,this._released=null;var e=this,r=0;this.release=function(i,n){r!==0&&(e._results[r-1]=n),!i&&r<e._list.length?e._each?vS(e._callThat,e._each,e._list[r++],e.release):vS(e._callThat,e._list[r++],e._arg,e.release):(e._callback.call(e._callThat,i,e._results),yS.call(e),e._results=[],r=0,e._released(e))}}function vS(t,e,r,i){t?e.length===1?e.call(t,i):e.call(t,r,i):e.length===1?e(i):e(r,i)}function fM(){}Fae.exports=RQe});var Bae=w((cdt,Hae)=>{"use strict";var PQe=nu(),Uae=[];function OQe(t,e){Array.isArray(t)&&(e=t,t=null);var r=PQe(kQe);return e?s:i;function i(){var o=r.get();o.release=n,arguments.length===3?(o.context=arguments[0],o.list=arguments[1],o.callback=arguments[2]||ty):(o.context=t,o.list=arguments[0],o.callback=arguments[1]||ty),o.work()}function n(o){r.release(o)}function s(){var o=r.get();o.release=n,o.list=e;var a,c,l=arguments.length-1;switch(o.context=this||t,o.callback=arguments[l]||ty,l){case 0:o.work();break;case 1:o.work(null,arguments[0]);break;case 2:o.work(null,arguments[0],arguments[1]);break;case 3:o.work(null,arguments[0],arguments[1],arguments[2]);break;case 4:o.work(null,arguments[0],arguments[1],arguments[2],arguments[3]);break;default:for(a=new Array(l+1),a[0]=null,c=0;c<l;c++)a[c+1]=arguments[c];o.work.apply(null,a)}}}function ty(){}function kQe(){this.list=Uae,this.callback=ty,this.count=0,this.context=void 0,this.release=ty;var t=this;this.work=function e(){if(arguments.length>0&&arguments[0])return t.callback.call(t.context,arguments[0]);var r=arguments.length,i,n,s;if(t.count<t.list.length)switch(s=t.list[t.count++],r){case 0:case 1:return s.call(t.context,e);case 2:return s.call(t.context,arguments[1],e);case 3:return s.call(t.context,arguments[1],arguments[2],e);case 4:return s.call(t.context,arguments[1],arguments[2],arguments[3],e);default:for(n=new Array(r),i=1;i<r;i++)n[i-1]=arguments[i];n[r-1]=e,s.apply(t.context,n)}else{switch(r){case 0:t.callback.call(t.context);break;case 1:t.callback.call(t.context,arguments[0]);break;case 2:t.callback.call(t.context,arguments[0],arguments[1]);break;case 3:t.callback.call(t.context,arguments[0],arguments[1],arguments[2]);break;case 4:t.callback.call(t.context,arguments[0],arguments[1],arguments[2],arguments[3]);break;default:for(n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.callback.apply(t.context,n)}t.context=void 0,t.list=Uae,t.count=0,t.release(t)}}}Hae.exports=OQe});var Xae=w((ldt,Yae)=>{"use strict";var Vae={results:!1},Wae=Lae(),Gae=zae(),AQe=Bae(),CQe=ly();function Kae(t){t||(t={});var e=Wae(Vae),r=Gae(Vae),i=Wae(),n=Gae();return t.each=s,t.map=a,t.eachSeries=o,t.mapSeries=c,t.parallel=l,t.series=u,t.waterfall=AQe(),t.queue=CQe,t;function s(f,p,d,h){(!d||typeof d=="function"&&typeof p=="function")&&(h=d,d=p,p=f,f=null),e(f,d,p,h)}function o(f,p,d,h){(!d||typeof d=="function"&&typeof p=="function")&&(h=d,d=p,p=f,f=null),r(f,d,p,h)}function a(f,p,d,h){(!d||typeof d=="function"&&typeof p=="function")&&(h=d,d=p,p=f,f=null),i(f,d,p,h)}function c(f,p,d,h){(!d||typeof d=="function"&&typeof p=="function")&&(h=d,d=p,p=f,f=null),n(f,d,p,h)}function l(f,p,d){(!p||typeof p=="function")&&(d=p,p=f,f=null),Array.isArray(p)?i(f,p,null,d):Jae(f,i,p,d)}function u(f,p,d){(!p||typeof p=="function")&&(d=p,p=f,f=null),Array.isArray(p)?n(f,p,null,d):Jae(f,n,p,d)}}function Jae(t,e,r,i){var n=Object.keys(r);e(new NQe(n,r,i),IQe,n,jQe)}function NQe(t,e,r){this.cb=r,this.keys=t,this.funcs=e,this.results={}}function IQe(t,e){this.funcs[t](e)}function jQe(t,e){if(t)return this.cb(t);for(var r=this.keys,i={},n=0;n<r.length;n++)i[r[n]]=e[n];this.cb(null,i)}Yae.exports=Kae(Kae)});var tce=w((udt,bS)=>{"use strict";var qQe=Fi(),{createSigner:dM,createDecoder:Zae,createVerifier:pM,TokenError:Xl}=qae(),Jn=require("node:assert"),Qae=Xae(),{parse:MQe}=Gg(),bc=ma(),DQe={badRequestErrorMessage:"Format is Authorization: Bearer [token]",badCookieRequestErrorMessage:"Cookie could not be parsed in request",noAuthorizationInHeaderMessage:"No Authorization was found in request.headers",noAuthorizationInCookieMessage:"No Authorization was found in request.cookies",authorizationTokenExpiredMessage:"Authorization token expired",authorizationTokenInvalid:t=>`Authorization token is invalid: ${t.message}`,authorizationTokenUntrusted:"Untrusted authorization token",authorizationTokenUnsigned:"Unsigned authorization token"};function hM(t){return Object.prototype.toString.call(t)==="[object String]"}function ece(t){return function(e,r,i){return i(null,t)}}function mM(t){return typeof t=="number"?t*1e3:MQe(t)}function _c(t,e){if(!t||typeof t=="function")return t;let r=Object.assign({},t);return e&&r.maxAge?r.maxAge=mM(r.maxAge):(r.expiresIn||r.notBefore)&&(r.expiresIn&&(r.expiresIn=mM(r.expiresIn)),r.notBefore&&(r.notBefore=mM(r.notBefore))),r}function LQe(t){if(Jn(t.secret,"missing secret"),Jn(!t.options,"options prefix is deprecated"),Jn(!t.jwtVerify||hM(t.jwtVerify),"Invalid options.jwtVerify"),Jn(!t.jwtDecode||hM(t.jwtDecode),"Invalid options.jwtDecode"),Jn(!t.jwtSign||hM(t.jwtSign),"Invalid options.jwtSign"),t.sign&&t.sign.algorithm&&t.sign.algorithm.includes("RS")&&(typeof t.secret=="string"||t.secret instanceof Buffer))throw new Error("RSA Signatures set as Algorithm in the options require a private and public key to be set as the secret");if(t.sign&&t.sign.algorithm&&t.sign.algorithm.includes("ES")&&(typeof t.secret=="string"||t.secret instanceof Buffer))throw new Error("ECDSA Signatures set as Algorithm in the options require a private and public key to be set as the secret")}function gM(t,e,r){try{LQe(e)}catch(B){return r(B)}let{cookie:i,decode:n={},formatUser:s,jwtDecode:o,jwtSign:a,jwtVerify:c,secret:l,sign:u={},trusted:f,decoratorName:p="user",verify:d={errorCacheTTL:6e5},...h}=e,m,v;if(typeof l=="object"&&!Buffer.isBuffer(l)){if(!l.public)return r(new Error("missing public key"));m=l.private,v=l.public}else m=v=l;let y=m,E=v;typeof y!="function"&&(y=ece(y)),typeof E!="function"&&(E=ece(E));let _=_c(u),b=_c(d,!0),$=Object.assign({},DQe,h.messages),k=typeof h.namespace=="string"?h.namespace:void 0,O=bc("FST_JWT_NO_AUTHORIZATION_IN_COOKIE",$.noAuthorizationInCookieMessage,401),N=bc("FST_JWT_AUTHORIZATION_TOKEN_EXPIRED",$.authorizationTokenExpiredMessage,401),L=bc("FST_JWT_AUTHORIZATION_TOKEN_UNTRUSTED",$.authorizationTokenUntrusted,401),T=bc("FAST_JWT_MISSING_SIGNATURE",$.authorizationTokenUnsigned,401),g=bc("FST_JWT_NO_AUTHORIZATION_IN_HEADER",$.noAuthorizationInHeaderMessage,401),x=bc("FST_JWT_AUTHORIZATION_TOKEN_INVALID",typeof $.authorizationTokenInvalid=="function"?$.authorizationTokenInvalid({message:"%s"}):$.authorizationTokenInvalid,401),R=bc("FST_JWT_BAD_REQUEST",$.badRequestErrorMessage,400),P=bc("FST_JWT_BAD_COOKIE_REQUEST",$.badCookieRequestErrorMessage,400),C={decode:Q,options:{decode:n,sign:u,verify:d,messages:$,decoratorName:p},cookie:i,sign:it,verify:he,lookupToken:Z},j="jwtDecode",M="jwtVerify",A="jwtSign";if(k){if(t.jwt||(t.decorateRequest(p,null),t.decorate("jwt",Object.create(null))),t.jwt[k])return r(new Error(`JWT namespace already used "${k}"`));t.jwt[k]=C,j=o||`${k}JwtDecode`,M=c||`${k}JwtVerify`,A=a||`${k}JwtSign`}else t.decorateRequest(p,null),t.decorate("jwt",C);t.decorateRequest(j,K),t.decorateRequest(M,J),t.decorateReply(A,z);let S=ue(),I=S.options.key?dM(S.options):null,ee=Zae(n),Y=Se(),V=pM(Y.options);r();function Q(B,X){Jn(B,"missing token");let G=ee;X&&typeof X!="function"&&(G=Zae(X));try{return G(B)}catch(re){throw re.code===Xl.codes.malformed?new x(re.message):re.code===Xl.codes.invalidType?new x(re.message):re}}function Z(B,X){Jn(B,"missing request"),X=Object.assign({},b,X);let G,re=X.extractToken,wt=X.onlyCookie;if(re){if(G=re(B),!G)throw new R}else if(B.headers.authorization&&!wt&&/^Bearer\s/i.test(B.headers.authorization)){let ne=B.headers.authorization.split(" ");if(ne.length===2)G=ne[1];else throw new R}else if(i)if(B.cookies)if(B.cookies[i.cookieName]){let ne=B.cookies[i.cookieName];G=i.signed?B.unsignCookie(ne).value:ne}else throw new O;else throw new P;else throw new g;return G}function se(B,X){if(X&&typeof X!="boolean")return Object.assign({},B,{key:X});{let G=X?m:v;return Object.assign(B.key?{}:{key:G},B)}}function ve(B,X,G,re){return typeof B=="function"?{options:se(X,G),callback:B}:{options:se(B||X,G),callback:re}}function ue(B,X){return ve(B,_,!0,X)}function Se(B,X){return ve(B,b,!1,X)}function it(B,X,G){Jn(B,"missing payload"),Jn(I,"unable to sign: secret is configured in verify mode");let re=I,wt=_c(X),ne=ue(wt,G);if(X&&typeof X!="function"&&(re=dM(ne.options)),typeof ne.callback=="function"){let ae=re(B);ne.callback(null,ae)}else return re(B)}function he(B,X,G){Jn(B,"missing token"),Jn(v,"missing secret");let re=V,wt=_c(X,!0),ne=Se(wt,G);if(X&&typeof X!="function"&&(re=pM(ne.options)),typeof ne.callback=="function"){let ae=re(B);ne.callback(null,ae)}else return re(B)}function z(B,X,G){Jn(I,"unable to sign: secret is configured in verify mode");let re=!0;typeof X=="function"&&(G=X,X={},re=!1),X||(X={},re=!1);let wt=this;if(G===void 0)return new Promise(function(ne,ae){wt[A](B,X,function(Rt,fe){Rt?ae(Rt):ne(fe)})});if(X.sign){let ne=_c(X.sign);X={sign:se(Object.assign({},_,ne),!0)}}else{let ne=_c(X);X=se(Object.assign({},_,ne),!0)}if(!B)return G(new Error("jwtSign requires a payload"));Qae.waterfall([function(ae){let Rt=y(wt.request,B,ae);Rt&&typeof Rt.then=="function"&&Rt.then(fe=>ae(null,fe),ae)},function(ae,Rt){if(re){let fe=se(X.sign||X,ae),cn=dM(fe)(B);Rt(null,cn)}else{let fe=I(B);Rt(null,fe)}}],G)}function K(B,X){typeof B=="function"&&!X&&(X=B,B={}),B||(B={}),B={decode:Object.assign({},n,B.decode),verify:Object.assign({},b,B.verify)};let G=this;if(X===void 0)return new Promise(function(re,wt){G[j](B,function(ne,ae){ne?wt(ne):re(ae)})});try{let re=Z(G,B.verify),wt=Q(re,B.decode);return X(null,wt)}catch(re){return X(re)}}function J(B,X){let G=!0;if(typeof B=="function"&&!X&&(X=B,B={},G=!1),B||(B={},G=!1),B.decode||B.verify){let ae=_c(B.verify,!0);B={decode:Object.assign({},n,B.decode),verify:Object.assign({},b,ae)}}else{let ae=_c(B,!0);B=Object.assign({},b,ae)}let re=this;if(X===void 0)return new Promise(function(ae,Rt){re[M](B,function(fe,we){fe?Rt(fe):ae(we)})});let wt;try{wt=Z(re,B.verify||B)}catch(ae){return X(ae)}let ne=Q(wt,B.decode||n);Qae.waterfall([function(Rt){let fe=E(re,ne,Rt);fe&&typeof fe.then=="function"&&fe.then(we=>Rt(null,we),Rt)},function(Rt,fe){try{if(G){let we=se(B.verify||B,Rt),Tt=pM(we)(wt);fe(null,Tt)}else{let we=V(wt);fe(null,we)}}catch(we){return we.code===Xl.codes.expired?fe(new N):we.code===Xl.codes.invalidKey||we.code===Xl.codes.invalidSignature||we.code===Xl.codes.invalidClaimValue?fe(typeof $.authorizationTokenInvalid=="function"?new x(we.message):new x):we.code===Xl.codes.missingSignature?fe(new T):fe(we)}},function(Rt,fe){if(!f)fe(null,Rt);else{let we=f(re,Rt);we&&we.then?we.then(cn=>cn?fe(null,Rt):fe(new L)):we?fe(null,Rt):fe(new L)}}],function(ae,Rt){if(ae)X(ae);else{let fe=s?s(Rt):Rt;re[p]=fe,X(null,fe)}})}}bS.exports=qQe(gM,{fastify:"4.x",name:"@fastify/jwt"});bS.exports.default=gM;bS.exports.fastifyJwt=gM});var nce=w((pdt,ice)=>{"use strict";var{LruMap:FQe}=MR();function _S(t=5e3,e,r){this.lru=new FQe(t),this.timeWindow=e,this.continueExceeding=r}_S.prototype.incr=function(t,e,r,i){let n=Date.now(),s=this.lru.get(t);s?s.iterationStartMs+this.timeWindow<=n?(s.current=1,s.ttl=this.timeWindow,s.ban=!1,s.iterationStartMs=n):(++s.current,this.continueExceeding&&s.current>r?(s.ttl=this.timeWindow,s.iterationStartMs=n):s.ttl=this.timeWindow-(n-s.iterationStartMs)):s={current:1,ttl:this.timeWindow,ban:!1,iterationStartMs:n},i!==-1&&!s.ban&&s.current-r>i&&(s.ban=!0),this.lru.set(t,s),e(null,s)};_S.prototype.child=function(t){return new _S(t.cache,t.timeWindow,t.continueExceeding)};ice.exports=_S});var oce=w((hdt,sce)=>{"use strict";var zQe=`
  -- Key to operate on
  local key = KEYS[1]
  -- Time window for the TTL
  local timeWindow = tonumber(ARGV[1])
  -- Max requests
  local max = tonumber(ARGV[2])
  -- Ban after this number is exceeded
  local ban = tonumber(ARGV[3])
  -- Flag to determine if TTL should be reset after exceeding
  local continueExceeding = ARGV[4] == 'true'

  -- Increment the key's value
  local current = redis.call('INCR', key)

  -- Check the TTL of the key
  local ttl = redis.call('PTTL', key)

  -- If the key is new or if its incremented value has exceeded the max value then set its TTL
  if ttl == -1 or (continueExceeding and current > max) then
    redis.call('PEXPIRE', key, timeWindow)
    ttl = timeWindow
  end

  return {current, ttl, ban ~= -1 and current - max > ban}
`;function wS(t,e,r,i){this.redis=t,this.timeWindow=e,this.continueExceeding=r,this.key=i,this.redis.rateLimit||this.redis.defineCommand("rateLimit",{numberOfKeys:1,lua:zQe})}wS.prototype.incr=function(t,e,r,i){this.redis.rateLimit(this.key+t,this.timeWindow,r,i,this.continueExceeding,(n,s)=>{n?e(n,null):e(null,{current:s[0],ttl:s[1],ban:s[2]})})};wS.prototype.child=function(t){return new wS(this.redis,t.timeWindow,t.continueExceeding,this.key+t.routeInfo.method+t.routeInfo.url+"-")};sce.exports=wS});var dce=w((mdt,xS)=>{"use strict";var UQe=Fi(),bM=Gg(),HQe=nce(),BQe=oce(),lce=1e3,uce=6e4,fce="onRequest",VQe={rateLimit:"x-ratelimit-limit",rateRemaining:"x-ratelimit-remaining",rateReset:"x-ratelimit-reset",retryAfter:"retry-after"},WQe={rateLimit:"ratelimit-limit",rateRemaining:"ratelimit-remaining",rateReset:"ratelimit-reset",retryAfter:"retry-after"},GQe=t=>t.ip,KQe=(t,e)=>{let r=new Error(`Rate limit exceeded, retry in ${e.after}`);return r.statusCode=e.statusCode,r};async function _M(t,e){let r={global:typeof e.global=="boolean"?e.global:!0};typeof e.enableDraftSpec=="boolean"&&e.enableDraftSpec?(r.enableDraftSpec=!0,r.labels=WQe):(r.enableDraftSpec=!1,r.labels=VQe),r.addHeaders=Object.assign({[r.labels.rateLimit]:!0,[r.labels.rateRemaining]:!0,[r.labels.rateReset]:!0,[r.labels.retryAfter]:!0},e.addHeaders),r.addHeadersOnExceeding=Object.assign({[r.labels.rateLimit]:!0,[r.labels.rateRemaining]:!0,[r.labels.rateReset]:!0},e.addHeadersOnExceeding),r.max=typeof e.max=="number"&&Number.isFinite(e.max)&&(e.max=Math.trunc(e.max))>=0||typeof e.max=="function"?e.max:lce,r.timeWindow=typeof e.timeWindow=="string"?bM.parse(e.timeWindow):typeof e.timeWindow=="number"&&Number.isFinite(e.timeWindow)&&e.timeWindow>=0?Math.trunc(e.timeWindow):uce,r.hook=e.hook||fce,r.allowList=e.allowList||e.whitelist||null,r.ban=typeof e.ban=="number"&&Number.isFinite(e.ban)&&e.ban>=0?Math.trunc(e.ban):-1,r.onBanReach=typeof e.onBanReach=="function"?e.onBanReach:null,r.onExceeding=typeof e.onExceeding=="function"?e.onExceeding:null,r.onExceeded=typeof e.onExceeded=="function"?e.onExceeded:null,r.continueExceeding=typeof e.continueExceeding=="boolean"?e.continueExceeding:!1,r.keyGenerator=typeof e.keyGenerator=="function"?e.keyGenerator:GQe,typeof e.errorResponseBuilder=="function"?(r.errorResponseBuilder=e.errorResponseBuilder,r.isCustomErrorMessage=!0):(r.errorResponseBuilder=KQe,r.isCustomErrorMessage=!1),r.skipOnError=typeof e.skipOnError=="boolean"?e.skipOnError:!1;let i={rateLimitRan:Symbol("fastify.request.rateLimitRan"),store:null};if(e.store){let n=e.store;i.store=new n(r)}else e.redis?i.store=new BQe(e.redis,r.timeWindow,e.continueExceeding,e.nameSpace||"fastify-rate-limit-"):i.store=new HQe(e.cache,r.timeWindow,e.continueExceeding);t.decorateRequest(i.rateLimitRan,!1),t.hasDecorator("rateLimit")||t.decorate("rateLimit",n=>{if(typeof n=="object"){let s=Object.create(i),o=ace(r,n,{routeInfo:{}});return s.store=s.store.child(o),vM(s,o)}return vM(i,r)}),t.addHook("onRoute",n=>{if(n.config?.rateLimit!==void 0){if(typeof n.config.rateLimit=="object"){let s=Object.create(i),o=ace(r,n.config.rateLimit,{routeInfo:n});s.store=i.store.child(o),cce(s,o,n)}else if(n.config.rateLimit!==!1)throw new Error("Unknown value for route rate-limit configuration")}else r.global&&cce(i,r,n)})}function ace(...t){let e=Object.assign({},...t);return typeof e.timeWindow=="string"?e.timeWindow=bM.parse(e.timeWindow):typeof e.timeWindow=="number"&&Number.isFinite(e.timeWindow)&&e.timeWindow>=0?e.timeWindow=Math.trunc(e.timeWindow):e.timeWindow=uce,typeof e.max=="number"&&Number.isFinite(e.max)&&e.max>=0?e.max=Math.trunc(e.max):typeof e.max!="function"&&(e.max=lce),typeof e.ban=="number"&&Number.isFinite(e.ban)&&e.ban>=0?e.ban=Math.trunc(e.ban):e.ban=-1,e}function cce(t,e,r){let i=e.hook||fce,n=vM(t,e);Array.isArray(r[i])?r[i].push(n):typeof r[i]=="function"?r[i]=[r[i],n]:r[i]=[n]}function vM(t,e){let{rateLimitRan:r,store:i}=t,n=bM.format(e.timeWindow,!0);return async(s,o)=>{if(s[r])return;s[r]=!0;let a=await e.keyGenerator(s);if(e.allowList){if(typeof e.allowList=="function"){if(await e.allowList(s,a))return}else if(e.allowList.indexOf(a)!==-1)return}let c=typeof e.max=="number"?e.max:await e.max(s,a),l=0,u=0,f=0,p=!1;try{let h=await new Promise((m,v)=>{i.incr(a,(y,E)=>{y?v(y):m(E)},c,e.ban)});l=h.current,u=h.ttl,p=h.ban??(e.ban!==-1&&l-c>e.ban)}catch(h){if(!e.skipOnError)throw h}if(f=Math.ceil(u/1e3),l<=c){e.addHeadersOnExceeding[e.labels.rateLimit]&&o.header(e.labels.rateLimit,c),e.addHeadersOnExceeding[e.labels.rateRemaining]&&o.header(e.labels.rateRemaining,c-l),e.addHeadersOnExceeding[e.labels.rateReset]&&o.header(e.labels.rateReset,f),e.onExceeding?.(s,a);return}e.onExceeded?.(s,a),e.addHeaders[e.labels.rateLimit]&&o.header(e.labels.rateLimit,c),e.addHeaders[e.labels.rateRemaining]&&o.header(e.labels.rateRemaining,0),e.addHeaders[e.labels.rateReset]&&o.header(e.labels.rateReset,f),e.addHeaders[e.labels.retryAfter]&&o.header(e.labels.retryAfter,f);let d={statusCode:429,ban:p,max:c,ttl:u,after:n};throw p&&(d.statusCode=403,e.onBanReach?.(s,a)),e.errorResponseBuilder(s,d)}}xS.exports=UQe(_M,{fastify:"4.x",name:"@fastify/rate-limit"});xS.exports.default=_M;xS.exports.fastifyRateLimit=_M});var wce=w((ydt,pa)=>{"use strict";var JQe=ma(),YQe=Fi(),hce=require("node:assert"),{monitorEventLoopDelay:RS}=require("node:perf_hooks"),{eventLoopUtilization:SS}=require("node:perf_hooks").performance,ES=503,XQe=(t="Service Unavailable")=>JQe("FST_UNDER_PRESSURE",t,ES),gce="eventLoopDelay",yce="heapUsedBytes",vce="rssBytes",bce="healthCheck",_ce="eventLoopUtilization";function ZQe(t,e){let i=t||(RS?1e3:5);return RS?Math.max(e,i):i}async function xM(t,e){e=e||{};let r=10,i=ZQe(e.sampleInterval,r),n=e.maxEventLoopDelay||0,s=e.maxHeapUsedBytes||0,o=e.maxRssBytes||0,a=e.healthCheck||!1,c=e.healthCheckInterval||-1,l=e.customError||XQe(e.message),u=e.maxEventLoopUtilization||0,f=e.pressureHandler,p=n>0,d=s>0,h=o>0,m=SS?u>0:!1,v=0,y=0,E=0,_,b,$,k=0;RS?(b=RS({resolution:r}),b.enable()):_=mce(),SS&&($=SS()),t.decorate("memoryUsage",I),t.decorate("isUnderPressure",M);let O=setTimeout(C,i);O.unref();let N=!1,L;if(a){hce(typeof a=="function","opts.healthCheck should be a function that returns a promise that resolves to true or false"),hce(c>0||e.exposeStatusRoute,"opts.healthCheck requires opts.healthCheckInterval or opts.exposeStatusRoute");let V=async()=>{try{N=await a(t)}catch(Q){N=!1,t.log.error({error:Q},"external healthCheck function supplied to `under-pressure` threw an error. setting the service status to unhealthy.")}};await V(),c>0&&(L=setTimeout(async()=>{await V(),L.refresh()},c),L.unref())}else N=!0;if(t.addHook("onClose",Y),e.exposeStatusRoute=x(e.exposeStatusRoute),e.exposeStatusRoute&&t.route({...e.exposeStatusRoute.routeOpts,url:e.exposeStatusRoute.url,method:"GET",schema:Object.assign({},e.exposeStatusRoute.routeSchemaOpts,{response:{200:{type:"object",description:"Health Check Succeeded",properties:Object.assign({status:{type:"string"}},e.exposeStatusRoute.routeResponseSchemaOpts),example:{status:"ok"}},500:{type:"object",description:"Error Performing Health Check",properties:{message:{type:"string",description:"Error message for failure during health check",example:"Internal Server Error"},statusCode:{type:"number",description:"Code representing the error. Always matches the HTTP response code.",example:500}}},503:{type:"object",description:"Health Check Failed",properties:{code:{type:"string",description:"Error code associated with the failing check",example:"FST_UNDER_PRESSURE"},error:{type:"string",description:"Error thrown during health check",example:"Service Unavailable"},message:{type:"string",description:"Error message to explain health check failure",example:"Service Unavailable"},statusCode:{type:"number",description:"Code representing the error. Always matches the HTTP response code.",example:503}}}}}),handler:ee}),m===!1&&p===!1&&d===!1&&h===!1&&a===!1)return;let T=new l,g=e.retryAfter||10;t.addHook("onRequest",A);function x(V){return V?typeof V=="string"?{url:V}:Object.assign({url:"/status"},V):!1}function R(){if(b)E=Math.max(0,b.mean/1e6-r),Number.isNaN(E)&&(E=1/0),b.reset();else{let V=mce();E=Math.max(0,V-_-i),_=V}}function P(){$?k=SS($).utilization:k=0}function C(){j(),O.refresh()}function j(){let V=process.memoryUsage();v=V.heapUsed,y=V.rss,R(),P()}function M(){return!!(p&&E>n||d&&v>s||h&&y>o||!N||m&&k>u)}function A(V,Q,Z){let se=V.context.config.pressureHandler||f;if(p&&E>n){S(se,V,Q,Z,gce,E);return}if(d&&v>s){S(se,V,Q,Z,yce,v);return}if(h&&y>o){S(se,V,Q,Z,vce,y);return}if(!N){S(se,V,Q,Z,bce,void 0);return}if(m&&k>u){S(se,V,Q,Z,_ce,k);return}Z()}function S(V,Q,Z,se,ve,ue){if(typeof V=="function"){let Se=V(Q,Z,ve,ue);Se instanceof Promise?Se.then(()=>se(),se):Se==null?se():Z.send(Se)}else Z.status(ES).header("Retry-After",g),se(T)}function I(){return{eventLoopDelay:E,rssBytes:y,heapUsed:v,eventLoopUtilized:k}}async function ee(V,Q){let Z={status:"ok"};if(a)try{let se=await a(t);if(!se)throw V.log.error("external health check failed"),Q.status(ES).header("Retry-After",g),T;return Object.assign(Z,se)}catch(se){throw V.log.error({err:se},"external health check failed with error"),Q.status(ES).header("Retry-After",g),T}return Z}function Y(V,Q){clearTimeout(O),clearTimeout(L),Q()}}function mce(){let t=process.hrtime();return t[0]*1e3+t[1]/1e6}pa.exports=YQe(xM,{fastify:"4.x",name:"@fastify/under-pressure"});pa.exports.default=xM;pa.exports.fastifyUnderPressure=xM;pa.exports.TYPE_EVENT_LOOP_DELAY=gce;pa.exports.TYPE_EVENT_LOOP_UTILIZATION=_ce;pa.exports.TYPE_HEALTH_CHECK=bce;pa.exports.TYPE_HEAP_USED_BYTES=yce;pa.exports.TYPE_RSS_BYTES=vce});var Ece=w((bdt,Sce)=>{"use strict";var QQe=Fi();function eet(t){this.log.warn(`Received Signal: ${t}`),this.log.warn("Closing")}function tet(){this.log.warn("Closed")}function ret(t){this.log.error(`Could not close before ${t} ms, forcing exit`)}function iet(t){this.log.error(t)}function net({timeout:t,onSignal:e,onClose:r,onTimeout:i,onError:n},s){e(s);let o=setTimeout(()=>{i(t),process.exit(1)},t);this.close().then(()=>{clearTimeout(o),r(),process.exit()}).catch(a=>{clearTimeout(o),n(a),process.exit(1)})}function set(t,e,r){let i={timeout:3e4,onSignal:eet.bind(t),onClose:tet.bind(t),onTimeout:ret.bind(t),onError:iet.bind(t),strict:!0},n=Object.assign({},i,e);for(let s of["onSignal","onClose","onTimeout","onError"]){let o=n[s];if(typeof o!="function")return r(new TypeError(`${s} must be a function, received ${typeof o}`))}if(typeof n.timeout!="number")return r(new TypeError(`timeout must be a number, received ${typeof n.timeout}`));if(n.timeout<1)return r(new RangeError(`timeout must be greater than 0, received ${n.timeout}`));if(typeof n.strict!="boolean")return r(new TypeError(`strict must be a boolean, received ${typeof n.strict}`));for(let s of["SIGINT","SIGTERM"]){if(n.strict&&process.listenerCount(s)>0)return r(new Error(`A ${s} handler is already registered`));process.once(s,net.bind(t,n))}r()}Sce.exports=QQe(set,{fastify:"^4.0.0",name:"@dnlup/fastify-traps"})});var aet={};Fce(aet,{getUploadedFile:()=>s_,startHttp:()=>$ce});module.exports=zce(aet);var Tce=Vr(f7());(function(){g7().config(Object.assign({},v7(),_7()(process.argv)))})();function Li(t,e){return process.env[t]===void 0?e:parseInt(process.env[t])}function If(t,e){return process.env[t]===void 0?e:process.env[t]==="1"}function Go(t,e){return process.env[t]===void 0?e:process.env[t]}var w7=Li("CONNECTION_TIMEOUT",1e4),x7=Li("KEEP_ALIVE_TIMEOUT",72e3),S7=Li("HTTP2_SESSION_TIMEOUT",72e3),E7=Li("MAX_PARAM_LENGTH",100),R7=Li("BODY_LIMIT",1048576),T7=Li("PLUGIN_TIMEOUT",1e4),$7=Li("PORT",3e3),P7=Go("HOST","0.0.0.0"),Xat=Go("INCOMING_MIME","application/json"),QA=Go("OUTGOING_MIME","application/json"),O7=If("IGNORE_TRAILING_SLASH",!0),k7=If("IGNORE_DUPLICATE_SLASHES",!0),A7=If("LOGGER",!0),C7=If("REQUEST_ID_HEADER",!1),N7=If("USE_HTTP2",!1),I7=Go("STATIC_PATH",process.cwd()+"/assets"),j7=Li("UPLOAD_FIELD_NAME_SIZE",100),q7=Li("UPLOAD_FIELD_SIZE",100),M7=Li("UPLOAD_FIELDS",10),D7=Li("UPLOAD_FILESIZE",1e6),L7=Li("UPLOAD_FILES",1),F7=Li("UPLOAD_HEADER_PAIRS",2e3),z7=Li("UPLOAD_PARTS",1e3),U7=Go("UPLOAD_PATH",process.env.TMP),H7=Go("COOKIE_SECRET","secret"),B7=Go("SESSION_SECRET","a string which is longer than 32 characters"),V7=Go("JWT_SECRET","secret");var W7=require("node:stream");var G7=Vr(require("node:util")),K7=Vr(require("node:fs")),bze=G7.default.promisify(W7.pipeline),_ze=t=>t;async function s_(t,e=_ze){let r=t.files(),i=[];for await(let n of r){let s=U7+"/"+e(n.filename),o=K7.default.createWriteStream(s);if(await bze(n.file,o),n.file.truncated)throw new RangeError("File upload too big");i.push(s)}return i}function J7(t){t.get("/",async(e,r)=>(r.type(QA).code(200),{hello:"world"})),t.post("/upload",async(e,r)=>{let i=await s_(e);return r.type(QA).code(200),i})}var WJ=Vr(VJ());async function vC(t){await t.register(WJ.default,{limits:{fieldNameSize:j7,fieldSize:q7,fields:M7,fileSize:D7,files:L7,headerPairs:F7,parts:z7}})}var Pre=Vr($re());async function bj(t){await t.register(Pre.default,{threshold:2048})}var Mre=Vr(Rj());async function Tj(t){await t.register(Mre.default,{secret:H7,hook:"onRequest",parseOptions:{}})}var Jre=Vr(Kre());async function Aj(t){await t.register(Jre.default)}var sie=Vr(nie());async function qj(t){await t.register(sie.default,{secret:B7})}var lie=Vr(cie());async function Dj(t){await t.register(lie.default,{sessionPlugin:"@fastify/session",cookieOpts:{signed:!0}})}var Tie=Vr(Rie());async function Kj(t){await t.register(Tie.default)}var Zse=Vr(Xse());async function Nq(t){await t.register(Zse.default,{root:I7,prefix:"/assets/"})}var aoe=Vr(ooe());async function Dq(t){await t.register(aoe.default)}var loe=Vr(coe());async function Fq(t){await t.register(loe.default)}var rce=Vr(tce());async function yM(t){await t.register(rce.default,{secret:V7})}var pce=Vr(dce());async function wM(t){await t.register(pce.default,{max:20,timeWindow:"1 minute"})}var xce=Vr(wce());async function SM(t){await t.register(xce.default,{maxEventLoopDelay:1e3,maxHeapUsedBytes:1e8,maxRssBytes:1e8,maxEventLoopUtilization:.98,retryAfter:50})}var Rce=Vr(Ece());async function EM(t){await t.register(Rce.default,{timeout:1e3,onSignal(e){this.log.debug(`Received signal ${e}`)},onClose(){this.log.info("Server closed")},onTimeout(e){this.log.error(`Forcing close after ${e} ms`)},onError(e){this.log.error(`Uh oh: ${e.message}`)}})}async function oet(){let t=(0,Tce.default)({http2:N7,connectionTimeout:w7,keepAliveTimeout:x7,http2SessionTimeout:S7,ignoreTrailingSlash:O7,ignoreDuplicateSlashes:k7,logger:A7,maxParamLength:E7,bodyLimit:R7,requestIdHeader:C7,pluginTimeout:T7});return await vC(t),await bj(t),await Tj(t),await Aj(t),await qj(t),await Dj(t),await Kj(t),await Nq(t),await Dq(t),await Fq(t),await yM(t),await wM(t),await SM(t),await EM(t),t}async function $ce(t=J7,e=$7,r=P7){let i=await oet();return t(i),await i.listen({port:e,host:r},(n,s)=>{if(n)throw n;console.info(`HTTP listening on ${s}`)}),i}0&&(module.exports={getUploadedFile,startHttp});
/*! Bundled license information:

forwarded/index.js:
  (*!
   * forwarded
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

proxy-addr/index.js:
  (*!
   * proxy-addr
   * Copyright(c) 2014-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toad-cache/dist/toad-cache.cjs:
  (**
   * toad-cache
   *
   * @copyright 2024 Igor Savin <kibertoad@gmail.com>
   * @license MIT
   * @version 3.7.0
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

light-my-request/lib/form-data.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@fastify/cookie/cookie.js:
  (*!
   * Adapted from https://github.com/jshttp/cookie
   *
   * (The MIT License)
   *
   * Copyright (c) 2012-2014 Roman Shtylman <shtylman@gmail.com>
   * Copyright (c) 2015 Douglas Christopher Wilson <doug@somethingdoug.com>
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * 'Software'), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
   * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
   * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
   * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   *)

@fastify/csrf/index.js:
  (*!
   * @fastify/csrf
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * Copyright(c) 2021-2022 Fastify Collaborators
   * MIT Licensed
   *)

escape-html/index.js:
  (*!
   * escape-html
   * Copyright(c) 2012-2013 TJ Holowaychuk
   * Copyright(c) 2015 Andreas Lubbe
   * Copyright(c) 2015 Tiancheng "Timothy" Gu
   * MIT Licensed
   *)

@fastify/send/lib/clearHeaders.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/containsDotFile.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/contentRange.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/createHtmlDocument.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

depd/index.js:
  (*!
   * depd
   * Copyright(c) 2014-2018 Douglas Christopher Wilson
   * MIT Licensed
   *)

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toidentifier/index.js:
  (*!
   * toidentifier
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

http-errors/index.js:
  (*!
   * http-errors
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/parseBytesRange.js:
  (*!
   * Based on range-parser
   *
   * Copyright(c) 2012-2014 TJ Holowaychuk
   * Copyright(c) 2015-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/SendStream.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/index.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

content-disposition/index.js:
  (*!
   * content-disposition
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
